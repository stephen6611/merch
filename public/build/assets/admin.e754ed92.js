import{c as Ll,g as mu,m as mi,a as yu,b as vu,d as xu,e as bu,C as wu}from"./index.e2b751c6.js";var hs={exports:{}};/*!
 * ApexCharts v3.40.0
 * (c) 2018-2023 ApexCharts
 * Released under the MIT License.
 */(function(a,t){function e(Y,n){var i=Object.keys(Y);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(Y);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(Y,l).enumerable})),i.push.apply(i,s)}return i}function r(Y){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?e(Object(i),!0).forEach(function(s){m(Y,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(s){Object.defineProperty(Y,s,Object.getOwnPropertyDescriptor(i,s))})}return Y}function o(Y){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o(Y)}function c(Y,n){if(!(Y instanceof n))throw new TypeError("Cannot call a class as a function")}function d(Y,n){for(var i=0;i<n.length;i++){var s=n[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(Y,s.key,s)}}function p(Y,n,i){return n&&d(Y.prototype,n),i&&d(Y,i),Y}function m(Y,n,i){return n in Y?Object.defineProperty(Y,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):Y[n]=i,Y}function b(Y,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(n&&n.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),n&&w(Y,n)}function x(Y){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},x(Y)}function w(Y,n){return w=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},w(Y,n)}function k(Y,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}(Y)}function A(Y){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,s=x(Y);if(n){var l=x(this).constructor;i=Reflect.construct(s,arguments,l)}else i=s.apply(this,arguments);return k(this,i)}}function T(Y,n){return function(i){if(Array.isArray(i))return i}(Y)||function(i,s){var l=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(l!=null){var u,h,f=[],g=!0,v=!1;try{for(l=l.call(i);!(g=(u=l.next()).done)&&(f.push(u.value),!s||f.length!==s);g=!0);}catch(S){v=!0,h=S}finally{try{g||l.return==null||l.return()}finally{if(v)throw h}}return f}}(Y,n)||I(Y,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(Y){return function(n){if(Array.isArray(n))return N(n)}(Y)||function(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(Y)||I(Y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function I(Y,n){if(Y){if(typeof Y=="string")return N(Y,n);var i=Object.prototype.toString.call(Y).slice(8,-1);return i==="Object"&&Y.constructor&&(i=Y.constructor.name),i==="Map"||i==="Set"?Array.from(Y):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?N(Y,n):void 0}}function N(Y,n){(n==null||n>Y.length)&&(n=Y.length);for(var i=0,s=new Array(n);i<n;i++)s[i]=Y[i];return s}var E=function(){function Y(){c(this,Y)}return p(Y,[{key:"shadeRGBColor",value:function(n,i){var s=i.split(","),l=n<0?0:255,u=n<0?-1*n:n,h=parseInt(s[0].slice(4),10),f=parseInt(s[1],10),g=parseInt(s[2],10);return"rgb("+(Math.round((l-h)*u)+h)+","+(Math.round((l-f)*u)+f)+","+(Math.round((l-g)*u)+g)+")"}},{key:"shadeHexColor",value:function(n,i){var s=parseInt(i.slice(1),16),l=n<0?0:255,u=n<0?-1*n:n,h=s>>16,f=s>>8&255,g=255&s;return"#"+(16777216+65536*(Math.round((l-h)*u)+h)+256*(Math.round((l-f)*u)+f)+(Math.round((l-g)*u)+g)).toString(16).slice(1)}},{key:"shadeColor",value:function(n,i){return Y.isColorHex(i)?this.shadeHexColor(n,i):this.shadeRGBColor(n,i)}}],[{key:"bind",value:function(n,i){return function(){return n.apply(i,arguments)}}},{key:"isObject",value:function(n){return n&&o(n)==="object"&&!Array.isArray(n)&&n!=null}},{key:"is",value:function(n,i){return Object.prototype.toString.call(i)==="[object "+n+"]"}},{key:"listToArray",value:function(n){var i,s=[];for(i=0;i<n.length;i++)s[i]=n[i];return s}},{key:"extend",value:function(n,i){var s=this;typeof Object.assign!="function"&&(Object.assign=function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(u),f=1;f<arguments.length;f++){var g=arguments[f];if(g!=null)for(var v in g)g.hasOwnProperty(v)&&(h[v]=g[v])}return h});var l=Object.assign({},n);return this.isObject(n)&&this.isObject(i)&&Object.keys(i).forEach(function(u){s.isObject(i[u])&&u in n?l[u]=s.extend(n[u],i[u]):Object.assign(l,m({},u,i[u]))}),l}},{key:"extendArray",value:function(n,i){var s=[];return n.map(function(l){s.push(Y.extend(i,l))}),n=s}},{key:"monthMod",value:function(n){return n%12}},{key:"clone",value:function(n){if(Y.is("Array",n)){for(var i=[],s=0;s<n.length;s++)i[s]=this.clone(n[s]);return i}if(Y.is("Null",n))return null;if(Y.is("Date",n))return n;if(o(n)==="object"){var l={};for(var u in n)n.hasOwnProperty(u)&&(l[u]=this.clone(n[u]));return l}return n}},{key:"log10",value:function(n){return Math.log(n)/Math.LN10}},{key:"roundToBase10",value:function(n){return Math.pow(10,Math.floor(Math.log10(n)))}},{key:"roundToBase",value:function(n,i){return Math.pow(i,Math.floor(Math.log(n)/Math.log(i)))}},{key:"parseNumber",value:function(n){return n===null?n:parseFloat(n)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(n){var i=String(n).split(/[eE]/);if(i.length===1)return i[0];var s="",l=n<0?"-":"",u=i[0].replace(".",""),h=Number(i[1])+1;if(h<0){for(s=l+"0.";h++;)s+="0";return s+u.replace(/^-/,"")}for(h-=u.length;h--;)s+="0";return u+s}},{key:"getDimensions",value:function(n){var i=getComputedStyle(n,null),s=n.clientHeight,l=n.clientWidth;return s-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),[l-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),s]}},{key:"getBoundingClientRect",value:function(n){var i=n.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:n.clientWidth,height:n.clientHeight,x:i.left,y:i.top}}},{key:"getLargestStringFromArr",value:function(n){return n.reduce(function(i,s){return Array.isArray(s)&&(s=s.reduce(function(l,u){return l.length>u.length?l:u})),i.length>s.length?i:s},0)}},{key:"hexToRgba",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;n.substring(0,1)!=="#"&&(n="#999999");var s=n.replace("#","");s=s.match(new RegExp("(.{"+s.length/3+"})","g"));for(var l=0;l<s.length;l++)s[l]=parseInt(s[l].length===1?s[l]+s[l]:s[l],16);return i!==void 0&&s.push(i),"rgba("+s.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(n){return parseFloat(n.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(n){return(n=n.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&n.length===4?"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(n)}},{key:"getPolygonPos",value:function(n,i){for(var s=[],l=2*Math.PI/i,u=0;u<i;u++){var h={};h.x=n*Math.sin(u*l),h.y=-n*Math.cos(u*l),s.push(h)}return s}},{key:"polarToCartesian",value:function(n,i,s,l){var u=(l-90)*Math.PI/180;return{x:n+s*Math.cos(u),y:i+s*Math.sin(u)}}},{key:"escapeString",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",s=n.toString().slice();return s=s.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,i)}},{key:"negToZero",value:function(n){return n<0?0:n}},{key:"moveIndexInArray",value:function(n,i,s){if(s>=n.length)for(var l=s-n.length+1;l--;)n.push(void 0);return n.splice(s,0,n.splice(i,1)[0]),n}},{key:"extractNumber",value:function(n){return parseFloat(n.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(n,i){for(;(n=n.parentElement)&&!n.classList.contains(i););return n}},{key:"setELstyles",value:function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n.style.key=i[s])}},{key:"isNumber",value:function(n){return!isNaN(n)&&parseFloat(Number(n))===n&&!isNaN(parseInt(n,10))}},{key:"isFloat",value:function(n){return Number(n)===n&&n%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var n=window.navigator.userAgent,i=n.indexOf("MSIE ");if(i>0)return parseInt(n.substring(i+5,n.indexOf(".",i)),10);if(n.indexOf("Trident/")>0){var s=n.indexOf("rv:");return parseInt(n.substring(s+3,n.indexOf(".",s)),10)}var l=n.indexOf("Edge/");return l>0&&parseInt(n.substring(l+5,n.indexOf(".",l)),10)}}]),Y}(),F=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.setEasingFunctions()}return p(Y,[{key:"setEasingFunctions",value:function(){var n;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":n="-";break;case"easein":n="<";break;case"easeout":n=">";break;case"easeinout":default:n="<>";break;case"swing":n=function(i){var s=1.70158;return(i-=1)*i*((s+1)*i+s)+1};break;case"bounce":n=function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375};break;case"elastic":n=function(i){return i===!!i?i:Math.pow(2,-10*i)*Math.sin((i-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=n}}},{key:"animateLine",value:function(n,i,s,l){n.attr(i).animate(l).attr(s)}},{key:"animateMarker",value:function(n,i,s,l,u,h){i||(i=0),n.attr({r:i,width:i,height:i}).animate(l,u).attr({r:s,width:s.width,height:s.height}).afterAll(function(){h()})}},{key:"animateCircle",value:function(n,i,s,l,u){n.attr({r:i.r,cx:i.cx,cy:i.cy}).animate(l,u).attr({r:s.r,cx:s.cx,cy:s.cy})}},{key:"animateRect",value:function(n,i,s,l,u){n.attr(i).animate(l).attr(s).afterAll(function(){return u()})}},{key:"animatePathsGradually",value:function(n){var i=n.el,s=n.realIndex,l=n.j,u=n.fill,h=n.pathFrom,f=n.pathTo,g=n.speed,v=n.delay,S=this.w,C=0;S.config.chart.animations.animateGradually.enabled&&(C=S.config.chart.animations.animateGradually.delay),S.config.chart.animations.dynamicAnimation.enabled&&S.globals.dataChanged&&S.config.chart.type!=="bar"&&(C=0),this.morphSVG(i,s,l,S.config.chart.type!=="line"||S.globals.comboCharts?u:"stroke",h,f,g,v*C)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(n){n.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(n){var i=this.w;i.globals.animationEnded||(i.globals.animationEnded=!0,this.showDelayedElements(),typeof i.config.chart.events.animationEnd=="function"&&i.config.chart.events.animationEnd(this.ctx,{el:n,w:i}))}},{key:"morphSVG",value:function(n,i,s,l,u,h,f,g){var v=this,S=this.w;u||(u=n.attr("pathFrom")),h||(h=n.attr("pathTo"));var C=function(O){return S.config.chart.type==="radar"&&(f=1),"M 0 ".concat(S.globals.gridHeight)};(!u||u.indexOf("undefined")>-1||u.indexOf("NaN")>-1)&&(u=C()),(!h||h.indexOf("undefined")>-1||h.indexOf("NaN")>-1)&&(h=C()),S.globals.shouldAnimate||(f=1),n.plot(u).animate(1,S.globals.easing,g).plot(u).animate(f,S.globals.easing,g).plot(h).afterAll(function(){E.isNumber(s)?s===S.globals.series[S.globals.maxValsInArrayIndex].length-2&&S.globals.shouldAnimate&&v.animationCompleted(n):l!=="none"&&S.globals.shouldAnimate&&(!S.globals.comboCharts&&i===S.globals.series.length-1||S.globals.comboCharts)&&v.animationCompleted(n),v.showDelayedElements()})}}]),Y}(),D=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"getDefaultFilter",value:function(n,i){var s=this.w;n.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),s.config.states.normal.filter!=="none"?this.applyFilter(n,i,s.config.states.normal.filter.type,s.config.states.normal.filter.value):s.config.chart.dropShadow.enabled&&this.dropShadow(n,s.config.chart.dropShadow,i)}},{key:"addNormalFilter",value:function(n,i){var s=this.w;s.config.chart.dropShadow.enabled&&!n.node.classList.contains("apexcharts-marker")&&this.dropShadow(n,s.config.chart.dropShadow,i)}},{key:"addLightenFilter",value:function(n,i,s){var l=this,u=this.w,h=s.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter(function(f){var g=u.config.chart.dropShadow;(g.enabled?l.addShadow(f,i,g):f).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:h}})}),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"addDarkenFilter",value:function(n,i,s){var l=this,u=this.w,h=s.intensity;n.unfilter(!0),new window.SVG.Filter,n.filter(function(f){var g=u.config.chart.dropShadow;(g.enabled?l.addShadow(f,i,g):f).componentTransfer({rgb:{type:"linear",slope:h}})}),n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)}},{key:"applyFilter",value:function(n,i,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(s){case"none":this.addNormalFilter(n,i);break;case"lighten":this.addLightenFilter(n,i,{intensity:l});break;case"darken":this.addDarkenFilter(n,i,{intensity:l})}}},{key:"addShadow",value:function(n,i,s){var l=s.blur,u=s.top,h=s.left,f=s.color,g=s.opacity,v=n.flood(Array.isArray(f)?f[i]:f,g).composite(n.sourceAlpha,"in").offset(h,u).gaussianBlur(l).merge(n.source);return n.blend(n.source,v)}},{key:"dropShadow",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=i.top,u=i.left,h=i.blur,f=i.color,g=i.opacity,v=i.noUserSpaceOnUse,S=this.w;return n.unfilter(!0),E.isIE()&&S.config.chart.type==="radialBar"||(f=Array.isArray(f)?f[s]:f,n.filter(function(C){var O=null;O=E.isSafari()||E.isFirefox()||E.isIE()?C.flood(f,g).composite(C.sourceAlpha,"in").offset(u,l).gaussianBlur(h):C.flood(f,g).composite(C.sourceAlpha,"in").offset(u,l).gaussianBlur(h).merge(C.source),C.blend(C.source,O)}),v||n.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(n.filterer.node)),n}},{key:"setSelectionFilter",value:function(n,i,s){var l=this.w;if(l.globals.selectedDataPoints[i]!==void 0&&l.globals.selectedDataPoints[i].indexOf(s)>-1){n.node.setAttribute("selected",!0);var u=l.config.states.active.filter;u!=="none"&&this.applyFilter(n,i,u.type,u.value)}}},{key:"_scaleFilterSize",value:function(n){(function(i){for(var s in i)i.hasOwnProperty(s)&&n.setAttribute(s,i[s])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),Y}(),R=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"roundPathCorners",value:function(n,i){function s(ee,ue,he){var ke=ue.x-ee.x,Ce=ue.y-ee.y,Te=Math.sqrt(ke*ke+Ce*Ce);return l(ee,ue,Math.min(1,he/Te))}function l(ee,ue,he){return{x:ee.x+(ue.x-ee.x)*he,y:ee.y+(ue.y-ee.y)*he}}function u(ee,ue){ee.length>2&&(ee[ee.length-2]=ue.x,ee[ee.length-1]=ue.y)}function h(ee){return{x:parseFloat(ee[ee.length-2]),y:parseFloat(ee[ee.length-1])}}n.indexOf("NaN")>-1&&(n="");var f=n.split(/[,\s]/).reduce(function(ee,ue){var he=ue.match("([a-zA-Z])(.+)");return he?(ee.push(he[1]),ee.push(he[2])):ee.push(ue),ee},[]).reduce(function(ee,ue){return parseFloat(ue)==ue&&ee.length?ee[ee.length-1].push(ue):ee.push([ue]),ee},[]),g=[];if(f.length>1){var v=h(f[0]),S=null;f[f.length-1][0]=="Z"&&f[0].length>2&&(S=["L",v.x,v.y],f[f.length-1]=S),g.push(f[0]);for(var C=1;C<f.length;C++){var O=g[g.length-1],L=f[C],_=L==S?f[1]:f[C+1];if(_&&O&&O.length>2&&L[0]=="L"&&_.length>2&&_[0]=="L"){var B,H,$=h(O),J=h(L),y=h(_);B=s(J,$,i),H=s(J,y,i),u(L,B),L.origPoint=J,g.push(L);var M=l(B,J,.5),z=l(J,H,.5),V=["C",M.x,M.y,z.x,z.y,H.x,H.y];V.origPoint=J,g.push(V)}else g.push(L)}if(S){var Q=h(g[g.length-1]);g.push(["Z"]),u(g[0],Q)}}else g=f;return g.reduce(function(ee,ue){return ee+ue.join(" ")+" "},"")}},{key:"drawLine",value:function(n,i,s,l){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:n,y1:i,x2:s,y2:l,stroke:u,"stroke-dasharray":h,"stroke-width":f,"stroke-linecap":g})}},{key:"drawRect",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,g=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,v=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,S=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,C=this.w.globals.dom.Paper.rect();return C.attr({x:n,y:i,width:s>0?s:0,height:l>0?l:0,rx:u,ry:u,opacity:f,"stroke-width":g!==null?g:0,stroke:v!==null?v:"none","stroke-dasharray":S}),C.node.setAttribute("fill",h),C}},{key:"drawPolygon",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(n).attr({fill:l,stroke:i,"stroke-width":s})}},{key:"drawCircle",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;n<0&&(n=0);var s=this.w.globals.dom.Paper.circle(2*n);return i!==null&&s.attr(i),s}},{key:"drawPath",value:function(n){var i=n.d,s=i===void 0?"":i,l=n.stroke,u=l===void 0?"#a8a8a8":l,h=n.strokeWidth,f=h===void 0?1:h,g=n.fill,v=n.fillOpacity,S=v===void 0?1:v,C=n.strokeOpacity,O=C===void 0?1:C,L=n.classes,_=n.strokeLinecap,B=_===void 0?null:_,H=n.strokeDashArray,$=H===void 0?0:H,J=this.w;return B===null&&(B=J.config.stroke.lineCap),(s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s="M 0 ".concat(J.globals.gridHeight)),J.globals.dom.Paper.path(s).attr({fill:g,"fill-opacity":S,stroke:u,"stroke-opacity":O,"stroke-linecap":B,"stroke-width":f,"stroke-dasharray":$,class:L})}},{key:"group",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.w.globals.dom.Paper.group();return n!==null&&i.attr(n),i}},{key:"move",value:function(n,i){var s=["M",n,i].join(" ");return s}},{key:"line",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=null;return s===null?l=[" L",n,i].join(" "):s==="H"?l=[" H",n].join(" "):s==="V"&&(l=[" V",i].join(" ")),l}},{key:"curve",value:function(n,i,s,l,u,h){var f=["C",n,i,s,l,u,h].join(" ");return f}},{key:"quadraticCurve",value:function(n,i,s,l){return["Q",n,i,s,l].join(" ")}},{key:"arc",value:function(n,i,s,l,u,h,f){var g="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(g="a");var v=[g,n,i,s,l,u,h,f].join(" ");return v}},{key:"renderPaths",value:function(n){var i,s=n.j,l=n.realIndex,u=n.pathFrom,h=n.pathTo,f=n.stroke,g=n.strokeWidth,v=n.strokeLinecap,S=n.fill,C=n.animationDelay,O=n.initialSpeed,L=n.dataChangeSpeed,_=n.className,B=n.shouldClipToGrid,H=B===void 0||B,$=n.bindEventsOnPaths,J=$===void 0||$,y=n.drawShadow,M=y===void 0||y,z=this.w,V=new D(this.ctx),Q=new F(this.ctx),ee=this.w.config.chart.animations.enabled,ue=ee&&this.w.config.chart.animations.dynamicAnimation.enabled,he=!!(ee&&!z.globals.resized||ue&&z.globals.dataChanged&&z.globals.shouldAnimate);he?i=u:(i=h,z.globals.animationEnded=!0);var ke=z.config.stroke.dashArray,Ce=0;Ce=Array.isArray(ke)?ke[l]:z.config.stroke.dashArray;var Te=this.drawPath({d:i,stroke:f,strokeWidth:g,fill:S,fillOpacity:1,classes:_,strokeLinecap:v,strokeDashArray:Ce});if(Te.attr("index",l),H&&Te.attr({"clip-path":"url(#gridRectMask".concat(z.globals.cuid,")")}),z.config.states.normal.filter.type!=="none")V.getDefaultFilter(Te,l);else if(z.config.chart.dropShadow.enabled&&M&&(!z.config.chart.dropShadow.enabledOnSeries||z.config.chart.dropShadow.enabledOnSeries&&z.config.chart.dropShadow.enabledOnSeries.indexOf(l)!==-1)){var Ne=z.config.chart.dropShadow;V.dropShadow(Te,Ne,l)}J&&(Te.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Te)),Te.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Te)),Te.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Te))),Te.attr({pathTo:h,pathFrom:u});var Ge={el:Te,j:s,realIndex:l,pathFrom:u,pathTo:h,fill:S,strokeWidth:g,delay:C};return!ee||z.globals.resized||z.globals.dataChanged?!z.globals.resized&&z.globals.dataChanged||Q.showDelayedElements():Q.animatePathsGradually(r(r({},Ge),{},{speed:O})),z.globals.dataChanged&&ue&&he&&Q.animatePathsGradually(r(r({},Ge),{},{speed:L})),Te}},{key:"drawPattern",value:function(n,i,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(i,s,function(h){n==="horizontalLines"?h.line(0,0,s,0).stroke({color:l,width:u+1}):n==="verticalLines"?h.line(0,0,0,i).stroke({color:l,width:u+1}):n==="slantedLines"?h.line(0,0,i,s).stroke({color:l,width:u}):n==="squares"?h.rect(i,s).fill("none").stroke({color:l,width:u}):n==="circles"&&h.circle(i).fill("none").stroke({color:l,width:u})})}},{key:"drawGradient",value:function(n,i,s,l,u){var h,f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,g=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,v=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,S=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,C=this.w;i.length<9&&i.indexOf("#")===0&&(i=E.hexToRgba(i,l)),s.length<9&&s.indexOf("#")===0&&(s=E.hexToRgba(s,u));var O=0,L=1,_=1,B=null;g!==null&&(O=g[0]!==void 0?g[0]/100:0,L=g[1]!==void 0?g[1]/100:1,_=g[2]!==void 0?g[2]/100:1,B=g[3]!==void 0?g[3]/100:null);var H=!(C.config.chart.type!=="donut"&&C.config.chart.type!=="pie"&&C.config.chart.type!=="polarArea"&&C.config.chart.type!=="bubble");if(h=v===null||v.length===0?C.globals.dom.Paper.gradient(H?"radial":"linear",function(y){y.at(O,i,l),y.at(L,s,u),y.at(_,s,u),B!==null&&y.at(B,i,l)}):C.globals.dom.Paper.gradient(H?"radial":"linear",function(y){(Array.isArray(v[S])?v[S]:v).forEach(function(M){y.at(M.offset/100,M.color,M.opacity)})}),H){var $=C.globals.gridWidth/2,J=C.globals.gridHeight/2;C.config.chart.type!=="bubble"?h.attr({gradientUnits:"userSpaceOnUse",cx:$,cy:J,r:f}):h.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else n==="vertical"?h.from(0,0).to(0,1):n==="diagonal"?h.from(0,0).to(1,1):n==="horizontal"?h.from(0,1).to(1,1):n==="diagonal2"&&h.from(1,0).to(0,1);return h}},{key:"getTextBasedOnMaxWidth",value:function(n){var i=n.text,s=n.maxWidth,l=n.fontSize,u=n.fontFamily,h=this.getTextRects(i,l,u),f=h.width/i.length,g=Math.floor(s/f);return s<h.width?i.slice(0,g-3)+"...":i}},{key:"drawText",value:function(n){var i=this,s=n.x,l=n.y,u=n.text,h=n.textAnchor,f=n.fontSize,g=n.fontFamily,v=n.fontWeight,S=n.foreColor,C=n.opacity,O=n.maxWidth,L=n.cssClass,_=L===void 0?"":L,B=n.isPlainText,H=B===void 0||B,$=this.w;u===void 0&&(u="");var J=u;h||(h="start"),S&&S.length||(S=$.config.chart.foreColor),g=g||$.config.chart.fontFamily,v=v||"regular";var y,M={maxWidth:O,fontSize:f=f||"11px",fontFamily:g};return Array.isArray(u)?y=$.globals.dom.Paper.text(function(z){for(var V=0;V<u.length;V++)J=u[V],O&&(J=i.getTextBasedOnMaxWidth(r({text:u[V]},M))),V===0?z.tspan(J):z.tspan(J).newLine()}):(O&&(J=this.getTextBasedOnMaxWidth(r({text:u},M))),y=H?$.globals.dom.Paper.plain(u):$.globals.dom.Paper.text(function(z){return z.tspan(J)})),y.attr({x:s,y:l,"text-anchor":h,"dominant-baseline":"auto","font-size":f,"font-family":g,"font-weight":v,fill:S,class:"apexcharts-text "+_}),y.node.style.fontFamily=g,y.node.style.opacity=C,y}},{key:"drawMarker",value:function(n,i,s){n=n||0;var l=s.pSize||0,u=null;if(s.shape==="square"||s.shape==="rect"){var h=s.pRadius===void 0?l/2:s.pRadius;i!==null&&l||(l=0,h=0);var f=1.2*l+h,g=this.drawRect(f,f,f,f,h);g.attr({x:n-f/2,y:i-f/2,cx:n,cy:i,class:s.class?s.class:"",fill:s.pointFillColor,"fill-opacity":s.pointFillOpacity?s.pointFillOpacity:1,stroke:s.pointStrokeColor,"stroke-width":s.pointStrokeWidth?s.pointStrokeWidth:0,"stroke-opacity":s.pointStrokeOpacity?s.pointStrokeOpacity:1}),u=g}else s.shape!=="circle"&&s.shape||(E.isNumber(i)||(l=0,i=0),u=this.drawCircle(l,{cx:n,cy:i,class:s.class?s.class:"",stroke:s.pointStrokeColor,fill:s.pointFillColor,"fill-opacity":s.pointFillOpacity?s.pointFillOpacity:1,"stroke-width":s.pointStrokeWidth?s.pointStrokeWidth:0,"stroke-opacity":s.pointStrokeOpacity?s.pointStrokeOpacity:1}));return u}},{key:"pathMouseEnter",value:function(n,i){var s=this.w,l=new D(this.ctx),u=parseInt(n.node.getAttribute("index"),10),h=parseInt(n.node.getAttribute("j"),10);if(typeof s.config.chart.events.dataPointMouseEnter=="function"&&s.config.chart.events.dataPointMouseEnter(i,this.ctx,{seriesIndex:u,dataPointIndex:h,w:s}),this.ctx.events.fireEvent("dataPointMouseEnter",[i,this.ctx,{seriesIndex:u,dataPointIndex:h,w:s}]),(s.config.states.active.filter.type==="none"||n.node.getAttribute("selected")!=="true")&&s.config.states.hover.filter.type!=="none"&&!s.globals.isTouchDevice){var f=s.config.states.hover.filter;l.applyFilter(n,u,f.type,f.value)}}},{key:"pathMouseLeave",value:function(n,i){var s=this.w,l=new D(this.ctx),u=parseInt(n.node.getAttribute("index"),10),h=parseInt(n.node.getAttribute("j"),10);typeof s.config.chart.events.dataPointMouseLeave=="function"&&s.config.chart.events.dataPointMouseLeave(i,this.ctx,{seriesIndex:u,dataPointIndex:h,w:s}),this.ctx.events.fireEvent("dataPointMouseLeave",[i,this.ctx,{seriesIndex:u,dataPointIndex:h,w:s}]),s.config.states.active.filter.type!=="none"&&n.node.getAttribute("selected")==="true"||s.config.states.hover.filter.type!=="none"&&l.getDefaultFilter(n,u)}},{key:"pathMouseDown",value:function(n,i){var s=this.w,l=new D(this.ctx),u=parseInt(n.node.getAttribute("index"),10),h=parseInt(n.node.getAttribute("j"),10),f="false";if(n.node.getAttribute("selected")==="true"){if(n.node.setAttribute("selected","false"),s.globals.selectedDataPoints[u].indexOf(h)>-1){var g=s.globals.selectedDataPoints[u].indexOf(h);s.globals.selectedDataPoints[u].splice(g,1)}}else{if(!s.config.states.active.allowMultipleDataPointsSelection&&s.globals.selectedDataPoints.length>0){s.globals.selectedDataPoints=[];var v=s.globals.dom.Paper.select(".apexcharts-series path").members,S=s.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,C=function(_){Array.prototype.forEach.call(_,function(B){B.node.setAttribute("selected","false"),l.getDefaultFilter(B,u)})};C(v),C(S)}n.node.setAttribute("selected","true"),f="true",s.globals.selectedDataPoints[u]===void 0&&(s.globals.selectedDataPoints[u]=[]),s.globals.selectedDataPoints[u].push(h)}if(f==="true"){var O=s.config.states.active.filter;if(O!=="none")l.applyFilter(n,u,O.type,O.value);else if(s.config.states.hover.filter!=="none"&&!s.globals.isTouchDevice){var L=s.config.states.hover.filter;l.applyFilter(n,u,L.type,L.value)}}else s.config.states.active.filter.type!=="none"&&(s.config.states.hover.filter.type==="none"||s.globals.isTouchDevice?l.getDefaultFilter(n,u):(L=s.config.states.hover.filter,l.applyFilter(n,u,L.type,L.value)));typeof s.config.chart.events.dataPointSelection=="function"&&s.config.chart.events.dataPointSelection(i,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:u,dataPointIndex:h,w:s}),i&&this.ctx.events.fireEvent("dataPointSelection",[i,this.ctx,{selectedDataPoints:s.globals.selectedDataPoints,seriesIndex:u,dataPointIndex:h,w:s}])}},{key:"rotateAroundCenter",value:function(n){var i={};return n&&typeof n.getBBox=="function"&&(i=n.getBBox()),{x:i.x+i.width/2,y:i.y+i.height/2}}},{key:"getTextRects",value:function(n,i,s,l){var u=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],h=this.w,f=this.drawText({x:-200,y:-200,text:n,textAnchor:"start",fontSize:i,fontFamily:s,foreColor:"#fff",opacity:0});l&&f.attr("transform",l),h.globals.dom.Paper.add(f);var g=f.bbox();return u||(g=f.node.getBoundingClientRect()),f.remove(),{width:g.width,height:g.height}}},{key:"placeTextWithEllipsis",value:function(n,i,s){if(typeof n.getComputedTextLength=="function"&&(n.textContent=i,i.length>0&&n.getComputedTextLength()>=s/1.1)){for(var l=i.length-3;l>0;l-=3)if(n.getSubStringLength(0,l)<=s/1.1)return void(n.textContent=i.substring(0,l)+"...");n.textContent="."}}}],[{key:"setAttrs",value:function(n,i){for(var s in i)i.hasOwnProperty(s)&&n.setAttribute(s,i[s])}}]),Y}(),G=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"getStackedSeriesTotals",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=this.w,s=[];if(i.globals.series.length===0)return s;for(var l=0;l<i.globals.series[i.globals.maxValsInArrayIndex].length;l++){for(var u=0,h=0;h<i.globals.series.length;h++)i.globals.series[h][l]!==void 0&&n.indexOf(h)===-1&&(u+=i.globals.series[h][l]);s.push(u)}return s}},{key:"getSeriesTotalByIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return n===null?this.w.config.series.reduce(function(i,s){return i+s},0):this.w.globals.series[n].reduce(function(i,s){return i+s},0)}},{key:"isSeriesNull",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(n===null?this.w.config.series.filter(function(i){return i!==null}):this.w.config.series[n].data.filter(function(i){return i!==null})).length===0}},{key:"seriesHaveSameValues",value:function(n){return this.w.globals.series[n].every(function(i,s,l){return i===l[0]})}},{key:"getCategoryLabels",value:function(n){var i=this.w,s=n.slice();return i.config.xaxis.convertedCatToNumeric&&(s=n.map(function(l,u){return i.config.xaxis.labels.formatter(l-i.globals.minX+1)})),s}},{key:"getLargestSeries",value:function(){var n=this.w;n.globals.maxValsInArrayIndex=n.globals.series.map(function(i){return i.length}).indexOf(Math.max.apply(Math,n.globals.series.map(function(i){return i.length})))}},{key:"getLargestMarkerSize",value:function(){var n=this.w,i=0;return n.globals.markers.size.forEach(function(s){i=Math.max(i,s)}),n.config.markers.discrete&&n.config.markers.discrete.length&&n.config.markers.discrete.forEach(function(s){i=Math.max(i,s.size)}),i>0&&(i+=n.config.markers.hover.sizeOffset+1),n.globals.markers.largestSize=i,i}},{key:"getSeriesTotals",value:function(){var n=this.w;n.globals.seriesTotals=n.globals.series.map(function(i,s){var l=0;if(Array.isArray(i))for(var u=0;u<i.length;u++)l+=i[u];else l+=i;return l})}},{key:"getSeriesTotalsXRange",value:function(n,i){var s=this.w;return s.globals.series.map(function(l,u){for(var h=0,f=0;f<l.length;f++)s.globals.seriesX[u][f]>n&&s.globals.seriesX[u][f]<i&&(h+=l[f]);return h})}},{key:"getPercentSeries",value:function(){var n=this.w;n.globals.seriesPercent=n.globals.series.map(function(i,s){var l=[];if(Array.isArray(i))for(var u=0;u<i.length;u++){var h=n.globals.stackedSeriesTotals[u],f=0;h&&(f=100*i[u]/h),l.push(f)}else{var g=100*i/n.globals.seriesTotals.reduce(function(v,S){return v+S},0);l.push(g)}return l})}},{key:"getCalculatedRatios",value:function(){var n,i,s,l,u=this.w.globals,h=[],f=0,g=[],v=.1,S=0;if(u.yRange=[],u.isMultipleYAxis)for(var C=0;C<u.minYArr.length;C++)u.yRange.push(Math.abs(u.minYArr[C]-u.maxYArr[C])),g.push(0);else u.yRange.push(Math.abs(u.minY-u.maxY));u.xRange=Math.abs(u.maxX-u.minX),u.zRange=Math.abs(u.maxZ-u.minZ);for(var O=0;O<u.yRange.length;O++)h.push(u.yRange[O]/u.gridHeight);if(i=u.xRange/u.gridWidth,s=Math.abs(u.initialMaxX-u.initialMinX)/u.gridWidth,n=u.yRange/u.gridWidth,l=u.xRange/u.gridHeight,(f=u.zRange/u.gridHeight*16)||(f=1),u.minY!==Number.MIN_VALUE&&Math.abs(u.minY)!==0&&(u.hasNegs=!0),u.isMultipleYAxis){g=[];for(var L=0;L<h.length;L++)g.push(-u.minYArr[L]/h[L])}else g.push(-u.minY/h[0]),u.minY!==Number.MIN_VALUE&&Math.abs(u.minY)!==0&&(v=-u.minY/n,S=u.minX/i);return{yRatio:h,invertedYRatio:n,zRatio:f,xRatio:i,initialXRatio:s,invertedXRatio:l,baseLineInvertedY:v,baseLineY:g,baseLineX:S}}},{key:"getLogSeries",value:function(n){var i=this,s=this.w;return s.globals.seriesLog=n.map(function(l,u){return s.config.yaxis[u]&&s.config.yaxis[u].logarithmic?l.map(function(h){return h===null?null:i.getLogVal(s.config.yaxis[u].logBase,h,u)}):l}),s.globals.invalidLogScale?n:s.globals.seriesLog}},{key:"getBaseLog",value:function(n,i){return Math.log(i)/Math.log(n)}},{key:"getLogVal",value:function(n,i,s){if(i===0)return 0;var l=this.w,u=l.globals.minYArr[s]===0?-1:this.getBaseLog(n,l.globals.minYArr[s]),h=(l.globals.maxYArr[s]===0?0:this.getBaseLog(n,l.globals.maxYArr[s]))-u;return i<1?i/h:(this.getBaseLog(n,i)-u)/h}},{key:"getLogYRatios",value:function(n){var i=this,s=this.w,l=this.w.globals;return l.yLogRatio=n.slice(),l.logYRange=l.yRange.map(function(u,h){if(s.config.yaxis[h]&&i.w.config.yaxis[h].logarithmic){var f,g=-Number.MAX_VALUE,v=Number.MIN_VALUE;return l.seriesLog.forEach(function(S,C){S.forEach(function(O){s.config.yaxis[C]&&s.config.yaxis[C].logarithmic&&(g=Math.max(O,g),v=Math.min(O,v))})}),f=Math.pow(l.yRange[h],Math.abs(v-g)/l.yRange[h]),l.yLogRatio[h]=f/l.gridHeight,f}}),l.invalidLogScale?n.slice():l.yLogRatio}}],[{key:"checkComboSeries",value:function(n){var i=!1,s=0,l=0;return n.length&&n[0].type!==void 0&&n.forEach(function(u){u.type!=="bar"&&u.type!=="column"&&u.type!=="candlestick"&&u.type!=="boxPlot"||s++,u.type!==void 0&&l++}),l>0&&(i=!0),{comboBarCount:s,comboCharts:i}}},{key:"extendArrayProps",value:function(n,i,s){return i.yaxis&&(i=n.extendYAxis(i,s)),i.annotations&&(i.annotations.yaxis&&(i=n.extendYAxisAnnotations(i)),i.annotations.xaxis&&(i=n.extendXAxisAnnotations(i)),i.annotations.points&&(i=n.extendPointAnnotations(i))),i}}]),Y}(),q=function(){function Y(n){c(this,Y),this.w=n.w,this.annoCtx=n}return p(Y,[{key:"setOrientations",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.w;if(n.label.orientation==="vertical"){var l=i!==null?i:0,u=s.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(l,"']"));if(u!==null){var h=u.getBoundingClientRect();u.setAttribute("x",parseFloat(u.getAttribute("x"))-h.height+4),n.label.position==="top"?u.setAttribute("y",parseFloat(u.getAttribute("y"))+h.width):u.setAttribute("y",parseFloat(u.getAttribute("y"))-h.width);var f=this.annoCtx.graphics.rotateAroundCenter(u),g=f.x,v=f.y;u.setAttribute("transform","rotate(-90 ".concat(g," ").concat(v,")"))}}}},{key:"addBackgroundToAnno",value:function(n,i){var s=this.w;if(!n||i.label.text===void 0||i.label.text!==void 0&&!String(i.label.text).trim())return null;var l=s.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),u=n.getBoundingClientRect(),h=i.label.style.padding.left,f=i.label.style.padding.right,g=i.label.style.padding.top,v=i.label.style.padding.bottom;i.label.orientation==="vertical"&&(g=i.label.style.padding.left,v=i.label.style.padding.right,h=i.label.style.padding.top,f=i.label.style.padding.bottom);var S=u.left-l.left-h,C=u.top-l.top-g,O=this.annoCtx.graphics.drawRect(S-s.globals.barPadForNumericAxis,C,u.width+h+f,u.height+g+v,i.label.borderRadius,i.label.style.background,1,i.label.borderWidth,i.label.borderColor,0);return i.id&&O.node.classList.add(i.id),O}},{key:"annotationsBackground",value:function(){var n=this,i=this.w,s=function(l,u,h){var f=i.globals.dom.baseEl.querySelector(".apexcharts-".concat(h,"-annotations .apexcharts-").concat(h,"-annotation-label[rel='").concat(u,"']"));if(f){var g=f.parentNode,v=n.addBackgroundToAnno(f,l);v&&(g.insertBefore(v.node,f),l.label.mouseEnter&&v.node.addEventListener("mouseenter",l.label.mouseEnter.bind(n,l)),l.label.mouseLeave&&v.node.addEventListener("mouseleave",l.label.mouseLeave.bind(n,l)),l.label.click&&v.node.addEventListener("click",l.label.click.bind(n,l)))}};i.config.annotations.xaxis.map(function(l,u){s(l,u,"xaxis")}),i.config.annotations.yaxis.map(function(l,u){s(l,u,"yaxis")}),i.config.annotations.points.map(function(l,u){s(l,u,"point")})}},{key:"getY1Y2",value:function(n,i){var s,l=n==="y1"?i.y:i.y2,u=this.w;if(this.annoCtx.invertAxis){var h=u.globals.labels.indexOf(l);u.config.xaxis.convertedCatToNumeric&&(h=u.globals.categoryLabels.indexOf(l));var f=u.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(h+1)+")");f&&(s=parseFloat(f.getAttribute("y")))}else{var g;u.config.yaxis[i.yAxisIndex].logarithmic?g=(l=new G(this.annoCtx.ctx).getLogVal(l,i.yAxisIndex))/u.globals.yLogRatio[i.yAxisIndex]:g=(l-u.globals.minYArr[i.yAxisIndex])/(u.globals.yRange[i.yAxisIndex]/u.globals.gridHeight),s=u.globals.gridHeight-g,!i.marker||i.y!==void 0&&i.y!==null||(s=0),u.config.yaxis[i.yAxisIndex]&&u.config.yaxis[i.yAxisIndex].reversed&&(s=g)}return typeof l=="string"&&l.indexOf("px")>-1&&(s=parseFloat(l)),s}},{key:"getX1X2",value:function(n,i){var s=this.w,l=this.annoCtx.invertAxis?s.globals.minY:s.globals.minX,u=this.annoCtx.invertAxis?s.globals.maxY:s.globals.maxX,h=this.annoCtx.invertAxis?s.globals.yRange[0]:s.globals.xRange,f=(i.x-l)/(h/s.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(f=(u-i.x)/(h/s.globals.gridWidth)),s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||(f=this.getStringX(i.x));var g=(i.x2-l)/(h/s.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(g=(u-i.x2)/(h/s.globals.gridWidth)),s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||s.globals.dataFormatXNumeric||(g=this.getStringX(i.x2)),i.x!==void 0&&i.x!==null||!i.marker||(f=s.globals.gridWidth),n==="x1"&&typeof i.x=="string"&&i.x.indexOf("px")>-1&&(f=parseFloat(i.x)),n==="x2"&&typeof i.x2=="string"&&i.x2.indexOf("px")>-1&&(g=parseFloat(i.x2)),n==="x1"?f:g}},{key:"getStringX",value:function(n){var i=this.w,s=n;i.config.xaxis.convertedCatToNumeric&&i.globals.categoryLabels.length&&(n=i.globals.categoryLabels.indexOf(n)+1);var l=i.globals.labels.indexOf(n),u=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(l+1)+")");return u&&(s=parseFloat(u.getAttribute("x"))),s}}]),Y}(),W=function(){function Y(n){c(this,Y),this.w=n.w,this.annoCtx=n,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new q(this.annoCtx)}return p(Y,[{key:"addXaxisAnnotation",value:function(n,i,s){var l,u=this.w,h=this.helpers.getX1X2("x1",n),f=n.label.text,g=n.strokeDashArray;if(E.isNumber(h)){if(n.x2===null||n.x2===void 0){var v=this.annoCtx.graphics.drawLine(h+n.offsetX,0+n.offsetY,h+n.offsetX,u.globals.gridHeight+n.offsetY,n.borderColor,g,n.borderWidth);i.appendChild(v.node),n.id&&v.node.classList.add(n.id)}else{if((l=this.helpers.getX1X2("x2",n))<h){var S=h;h=l,l=S}var C=this.annoCtx.graphics.drawRect(h+n.offsetX,0+n.offsetY,l-h,u.globals.gridHeight+n.offsetY,0,n.fillColor,n.opacity,1,n.borderColor,g);C.node.classList.add("apexcharts-annotation-rect"),C.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),i.appendChild(C.node),n.id&&C.node.classList.add(n.id)}var O=this.annoCtx.graphics.getTextRects(f,parseFloat(n.label.style.fontSize)),L=n.label.position==="top"?4:n.label.position==="center"?u.globals.gridHeight/2+(n.label.orientation==="vertical"?O.width/2:0):u.globals.gridHeight,_=this.annoCtx.graphics.drawText({x:h+n.label.offsetX,y:L+n.label.offsetY-(n.label.orientation==="vertical"?n.label.position==="top"?O.width/2-12:-O.width/2:0),text:f,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});_.attr({rel:s}),i.appendChild(_.node),this.annoCtx.helpers.setOrientations(n,s)}}},{key:"drawXAxisAnnotations",value:function(){var n=this,i=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return i.config.annotations.xaxis.map(function(l,u){n.addXaxisAnnotation(l,s.node,u)}),s}}]),Y}(),te=function(){function Y(n){c(this,Y),this.w=n.w,this.annoCtx=n,this.helpers=new q(this.annoCtx)}return p(Y,[{key:"addYaxisAnnotation",value:function(n,i,s){var l,u=this.w,h=n.strokeDashArray,f=this.helpers.getY1Y2("y1",n),g=n.label.text;if(n.y2===null||n.y2===void 0){var v=this.annoCtx.graphics.drawLine(0+n.offsetX,f+n.offsetY,this._getYAxisAnnotationWidth(n),f+n.offsetY,n.borderColor,h,n.borderWidth);i.appendChild(v.node),n.id&&v.node.classList.add(n.id)}else{if((l=this.helpers.getY1Y2("y2",n))>f){var S=f;f=l,l=S}var C=this.annoCtx.graphics.drawRect(0+n.offsetX,l+n.offsetY,this._getYAxisAnnotationWidth(n),f-l,0,n.fillColor,n.opacity,1,n.borderColor,h);C.node.classList.add("apexcharts-annotation-rect"),C.attr("clip-path","url(#gridRectMask".concat(u.globals.cuid,")")),i.appendChild(C.node),n.id&&C.node.classList.add(n.id)}var O=n.label.position==="right"?u.globals.gridWidth:n.label.position==="center"?u.globals.gridWidth/2:0,L=this.annoCtx.graphics.drawText({x:O+n.label.offsetX,y:(l!=null?l:f)+n.label.offsetY-3,text:g,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});L.attr({rel:s}),i.appendChild(L.node)}},{key:"_getYAxisAnnotationWidth",value:function(n){var i=this.w;return i.globals.gridWidth,(n.width.indexOf("%")>-1?i.globals.gridWidth*parseInt(n.width,10)/100:parseInt(n.width,10))+n.offsetX}},{key:"drawYAxisAnnotations",value:function(){var n=this,i=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return i.config.annotations.yaxis.map(function(l,u){n.addYaxisAnnotation(l,s.node,u)}),s}}]),Y}(),U=function(){function Y(n){c(this,Y),this.w=n.w,this.annoCtx=n,this.helpers=new q(this.annoCtx)}return p(Y,[{key:"addPointAnnotation",value:function(n,i,s){this.w;var l=this.helpers.getX1X2("x1",n),u=this.helpers.getY1Y2("y1",n);if(E.isNumber(l)){var h={pSize:n.marker.size,pointStrokeWidth:n.marker.strokeWidth,pointFillColor:n.marker.fillColor,pointStrokeColor:n.marker.strokeColor,shape:n.marker.shape,pRadius:n.marker.radius,class:"apexcharts-point-annotation-marker ".concat(n.marker.cssClass," ").concat(n.id?n.id:"")},f=this.annoCtx.graphics.drawMarker(l+n.marker.offsetX,u+n.marker.offsetY,h);i.appendChild(f.node);var g=n.label.text?n.label.text:"",v=this.annoCtx.graphics.drawText({x:l+n.label.offsetX,y:u+n.label.offsetY-n.marker.size-parseFloat(n.label.style.fontSize)/1.6,text:g,textAnchor:n.label.textAnchor,fontSize:n.label.style.fontSize,fontFamily:n.label.style.fontFamily,fontWeight:n.label.style.fontWeight,foreColor:n.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(n.label.style.cssClass," ").concat(n.id?n.id:"")});if(v.attr({rel:s}),i.appendChild(v.node),n.customSVG.SVG){var S=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+n.customSVG.cssClass});S.attr({transform:"translate(".concat(l+n.customSVG.offsetX,", ").concat(u+n.customSVG.offsetY,")")}),S.node.innerHTML=n.customSVG.SVG,i.appendChild(S.node)}if(n.image.path){var C=n.image.width?n.image.width:20,O=n.image.height?n.image.height:20;f=this.annoCtx.addImage({x:l+n.image.offsetX-C/2,y:u+n.image.offsetY-O/2,width:C,height:O,path:n.image.path,appendTo:".apexcharts-point-annotations"})}n.mouseEnter&&f.node.addEventListener("mouseenter",n.mouseEnter.bind(this,n)),n.mouseLeave&&f.node.addEventListener("mouseleave",n.mouseLeave.bind(this,n)),n.click&&f.node.addEventListener("click",n.click.bind(this,n))}}},{key:"drawPointAnnotations",value:function(){var n=this,i=this.w,s=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return i.config.annotations.points.map(function(l,u){n.addPointAnnotation(l,s.node,u)}),s}}]),Y}(),X={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},j=function(){function Y(){c(this,Y),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return p(Y,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[X],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(n){return new Date(n).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(n){return n}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(n){return n+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce(function(i,s){return i+s},0)/n.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(n){return n}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(n){return n}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(n){return n.globals.seriesTotals.reduce(function(i,s){return i+s},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(n){return n!==null?n:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(n){return n?n+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),Y}(),Z=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.graphics=new R(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new q(this),this.xAxisAnnotations=new W(this),this.yAxisAnnotations=new te(this),this.pointsAnnotations=new U(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return p(Y,[{key:"drawAxesAnnotations",value:function(){var n=this.w;if(n.globals.axisCharts){for(var i=this.yAxisAnnotations.drawYAxisAnnotations(),s=this.xAxisAnnotations.drawXAxisAnnotations(),l=this.pointsAnnotations.drawPointAnnotations(),u=n.config.chart.animations.enabled,h=[i,s,l],f=[s.node,i.node,l.node],g=0;g<3;g++)n.globals.dom.elGraphical.add(h[g]),!u||n.globals.resized||n.globals.dataChanged||n.config.chart.type!=="scatter"&&n.config.chart.type!=="bubble"&&n.globals.dataPoints>1&&f[g].classList.add("apexcharts-element-hidden"),n.globals.delayedElements.push({el:f[g],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var n=this;this.w.config.annotations.images.map(function(i,s){n.addImage(i,s)})}},{key:"drawTextAnnos",value:function(){var n=this;this.w.config.annotations.texts.map(function(i,s){n.addText(i,s)})}},{key:"addXaxisAnnotation",value:function(n,i,s){this.xAxisAnnotations.addXaxisAnnotation(n,i,s)}},{key:"addYaxisAnnotation",value:function(n,i,s){this.yAxisAnnotations.addYaxisAnnotation(n,i,s)}},{key:"addPointAnnotation",value:function(n,i,s){this.pointsAnnotations.addPointAnnotation(n,i,s)}},{key:"addText",value:function(n,i){var s=n.x,l=n.y,u=n.text,h=n.textAnchor,f=n.foreColor,g=n.fontSize,v=n.fontFamily,S=n.fontWeight,C=n.cssClass,O=n.backgroundColor,L=n.borderWidth,_=n.strokeDashArray,B=n.borderRadius,H=n.borderColor,$=n.appendTo,J=$===void 0?".apexcharts-annotations":$,y=n.paddingLeft,M=y===void 0?4:y,z=n.paddingRight,V=z===void 0?4:z,Q=n.paddingBottom,ee=Q===void 0?2:Q,ue=n.paddingTop,he=ue===void 0?2:ue,ke=this.w,Ce=this.graphics.drawText({x:s,y:l,text:u,textAnchor:h||"start",fontSize:g||"12px",fontWeight:S||"regular",fontFamily:v||ke.config.chart.fontFamily,foreColor:f||ke.config.chart.foreColor,cssClass:C}),Te=ke.globals.dom.baseEl.querySelector(J);Te&&Te.appendChild(Ce.node);var Ne=Ce.bbox();if(u){var Ge=this.graphics.drawRect(Ne.x-M,Ne.y-he,Ne.width+M+V,Ne.height+ee+he,B,O||"transparent",1,L,H,_);Te.insertBefore(Ge.node,Ce.node)}}},{key:"addImage",value:function(n,i){var s=this.w,l=n.path,u=n.x,h=u===void 0?0:u,f=n.y,g=f===void 0?0:f,v=n.width,S=v===void 0?20:v,C=n.height,O=C===void 0?20:C,L=n.appendTo,_=L===void 0?".apexcharts-annotations":L,B=s.globals.dom.Paper.image(l);B.size(S,O).move(h,g);var H=s.globals.dom.baseEl.querySelector(_);return H&&H.appendChild(B.node),B}},{key:"addXaxisAnnotationExternal",value:function(n,i,s){return this.addAnnotationExternal({params:n,pushToMemory:i,context:s,type:"xaxis",contextMethod:s.addXaxisAnnotation}),s}},{key:"addYaxisAnnotationExternal",value:function(n,i,s){return this.addAnnotationExternal({params:n,pushToMemory:i,context:s,type:"yaxis",contextMethod:s.addYaxisAnnotation}),s}},{key:"addPointAnnotationExternal",value:function(n,i,s){return this.invertAxis===void 0&&(this.invertAxis=s.w.globals.isBarHorizontal),this.addAnnotationExternal({params:n,pushToMemory:i,context:s,type:"point",contextMethod:s.addPointAnnotation}),s}},{key:"addAnnotationExternal",value:function(n){var i=n.params,s=n.pushToMemory,l=n.context,u=n.type,h=n.contextMethod,f=l,g=f.w,v=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-annotations")),S=v.childNodes.length+1,C=new j,O=Object.assign({},u==="xaxis"?C.xAxisAnnotation:u==="yaxis"?C.yAxisAnnotation:C.pointAnnotation),L=E.extend(O,i);switch(u){case"xaxis":this.addXaxisAnnotation(L,v,S);break;case"yaxis":this.addYaxisAnnotation(L,v,S);break;case"point":this.addPointAnnotation(L,v,S)}var _=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(u,"-annotations .apexcharts-").concat(u,"-annotation-label[rel='").concat(S,"']")),B=this.helpers.addBackgroundToAnno(_,L);return B&&v.insertBefore(B.node,_),s&&g.globals.memory.methodsToExec.push({context:f,id:L.id?L.id:E.randomId(),method:h,label:"addAnnotation",params:i}),l}},{key:"clearAnnotations",value:function(n){var i=n.w,s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");i.globals.memory.methodsToExec.map(function(l,u){l.label!=="addText"&&l.label!=="addAnnotation"||i.globals.memory.methodsToExec.splice(u,1)}),s=E.listToArray(s),Array.prototype.forEach.call(s,function(l){for(;l.firstChild;)l.removeChild(l.firstChild)})}},{key:"removeAnnotation",value:function(n,i){var s=n.w,l=s.globals.dom.baseEl.querySelectorAll(".".concat(i));l&&(s.globals.memory.methodsToExec.map(function(u,h){u.id===i&&s.globals.memory.methodsToExec.splice(h,1)}),Array.prototype.forEach.call(l,function(u){u.parentElement.removeChild(u)}))}}]),Y}(),ie=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return p(Y,[{key:"isValidDate",value:function(n){return!isNaN(this.parseDate(n))}},{key:"getTimeStamp",value:function(n){return Date.parse(n)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toISOString().substr(0,25)).getTime():new Date(n).getTime():n}},{key:"getDate",value:function(n){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(n).toUTCString()):new Date(n)}},{key:"parseDate",value:function(n){var i=Date.parse(n);if(!isNaN(i))return this.getTimeStamp(n);var s=Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "));return s=this.getTimeStamp(s)}},{key:"parseDateWithTimezone",value:function(n){return Date.parse(n.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(n,i){var s=this.w.globals.locale,l=this.w.config.xaxis.labels.datetimeUTC,u=["\0"].concat(P(s.months)),h=[""].concat(P(s.shortMonths)),f=[""].concat(P(s.days)),g=[""].concat(P(s.shortDays));function v(ee,ue){var he=ee+"";for(ue=ue||2;he.length<ue;)he="0"+he;return he}var S=l?n.getUTCFullYear():n.getFullYear();i=(i=(i=i.replace(/(^|[^\\])yyyy+/g,"$1"+S)).replace(/(^|[^\\])yy/g,"$1"+S.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+S);var C=(l?n.getUTCMonth():n.getMonth())+1;i=(i=(i=(i=i.replace(/(^|[^\\])MMMM+/g,"$1"+u[0])).replace(/(^|[^\\])MMM/g,"$1"+h[0])).replace(/(^|[^\\])MM/g,"$1"+v(C))).replace(/(^|[^\\])M/g,"$1"+C);var O=l?n.getUTCDate():n.getDate();i=(i=(i=(i=i.replace(/(^|[^\\])dddd+/g,"$1"+f[0])).replace(/(^|[^\\])ddd/g,"$1"+g[0])).replace(/(^|[^\\])dd/g,"$1"+v(O))).replace(/(^|[^\\])d/g,"$1"+O);var L=l?n.getUTCHours():n.getHours(),_=L>12?L-12:L===0?12:L;i=(i=(i=(i=i.replace(/(^|[^\\])HH+/g,"$1"+v(L))).replace(/(^|[^\\])H/g,"$1"+L)).replace(/(^|[^\\])hh+/g,"$1"+v(_))).replace(/(^|[^\\])h/g,"$1"+_);var B=l?n.getUTCMinutes():n.getMinutes();i=(i=i.replace(/(^|[^\\])mm+/g,"$1"+v(B))).replace(/(^|[^\\])m/g,"$1"+B);var H=l?n.getUTCSeconds():n.getSeconds();i=(i=i.replace(/(^|[^\\])ss+/g,"$1"+v(H))).replace(/(^|[^\\])s/g,"$1"+H);var $=l?n.getUTCMilliseconds():n.getMilliseconds();i=i.replace(/(^|[^\\])fff+/g,"$1"+v($,3)),$=Math.round($/10),i=i.replace(/(^|[^\\])ff/g,"$1"+v($)),$=Math.round($/10);var J=L<12?"AM":"PM";i=(i=(i=i.replace(/(^|[^\\])f/g,"$1"+$)).replace(/(^|[^\\])TT+/g,"$1"+J)).replace(/(^|[^\\])T/g,"$1"+J.charAt(0));var y=J.toLowerCase();i=(i=i.replace(/(^|[^\\])tt+/g,"$1"+y)).replace(/(^|[^\\])t/g,"$1"+y.charAt(0));var M=-n.getTimezoneOffset(),z=l||!M?"Z":M>0?"+":"-";if(!l){var V=(M=Math.abs(M))%60;z+=v(Math.floor(M/60))+":"+v(V)}i=i.replace(/(^|[^\\])K/g,"$1"+z);var Q=(l?n.getUTCDay():n.getDay())+1;return i=(i=(i=(i=(i=i.replace(new RegExp(f[0],"g"),f[Q])).replace(new RegExp(g[0],"g"),g[Q])).replace(new RegExp(u[0],"g"),u[C])).replace(new RegExp(h[0],"g"),h[C])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(n,i,s){var l=this.w;l.config.xaxis.min!==void 0&&(n=l.config.xaxis.min),l.config.xaxis.max!==void 0&&(i=l.config.xaxis.max);var u=this.getDate(n),h=this.getDate(i),f=this.formatDate(u,"yyyy MM dd HH mm ss fff").split(" "),g=this.formatDate(h,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(f[6],10),maxMillisecond:parseInt(g[6],10),minSecond:parseInt(f[5],10),maxSecond:parseInt(g[5],10),minMinute:parseInt(f[4],10),maxMinute:parseInt(g[4],10),minHour:parseInt(f[3],10),maxHour:parseInt(g[3],10),minDate:parseInt(f[2],10),maxDate:parseInt(g[2],10),minMonth:parseInt(f[1],10)-1,maxMonth:parseInt(g[1],10)-1,minYear:parseInt(f[0],10),maxYear:parseInt(g[0],10)}}},{key:"isLeapYear",value:function(n){return n%4==0&&n%100!=0||n%400==0}},{key:"calculcateLastDaysOfMonth",value:function(n,i,s){return this.determineDaysOfMonths(n,i)-s}},{key:"determineDaysOfYear",value:function(n){var i=365;return this.isLeapYear(n)&&(i=366),i}},{key:"determineRemainingDaysOfYear",value:function(n,i,s){var l=this.daysCntOfYear[i]+s;return i>1&&this.isLeapYear()&&l++,l}},{key:"determineDaysOfMonths",value:function(n,i){var s=30;switch(n=E.monthMod(n),!0){case this.months30.indexOf(n)>-1:n===2&&(s=this.isLeapYear(i)?29:28);break;case this.months31.indexOf(n)>-1:default:s=31}return s}}]),Y}(),oe=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.tooltipKeyFormat="dd MMM"}return p(Y,[{key:"xLabelFormat",value:function(n,i,s,l){var u=this.w;if(u.config.xaxis.type==="datetime"&&u.config.xaxis.labels.formatter===void 0&&u.config.tooltip.x.formatter===void 0){var h=new ie(this.ctx);return h.formatDate(h.getDate(i),u.config.tooltip.x.format)}return n(i,s,l)}},{key:"defaultGeneralFormatter",value:function(n){return Array.isArray(n)?n.map(function(i){return i}):n}},{key:"defaultYFormatter",value:function(n,i,s){var l=this.w;return E.isNumber(n)&&(n=l.globals.yValueDecimal!==0?n.toFixed(i.decimalsInFloat!==void 0?i.decimalsInFloat:l.globals.yValueDecimal):l.globals.maxYArr[s]-l.globals.minYArr[s]<5?n.toFixed(1):n.toFixed(0)),n}},{key:"setLabelFormatters",value:function(){var n=this,i=this.w;return i.globals.xaxisTooltipFormatter=function(s){return n.defaultGeneralFormatter(s)},i.globals.ttKeyFormatter=function(s){return n.defaultGeneralFormatter(s)},i.globals.ttZFormatter=function(s){return s},i.globals.legendFormatter=function(s){return n.defaultGeneralFormatter(s)},i.config.xaxis.labels.formatter!==void 0?i.globals.xLabelFormatter=i.config.xaxis.labels.formatter:i.globals.xLabelFormatter=function(s){if(E.isNumber(s)){if(!i.config.xaxis.convertedCatToNumeric&&i.config.xaxis.type==="numeric"){if(E.isNumber(i.config.xaxis.decimalsInFloat))return s.toFixed(i.config.xaxis.decimalsInFloat);var l=i.globals.maxX-i.globals.minX;return l>0&&l<100?s.toFixed(1):s.toFixed(0)}return i.globals.isBarHorizontal&&i.globals.maxY-i.globals.minYArr<4?s.toFixed(1):s.toFixed(0)}return s},typeof i.config.tooltip.x.formatter=="function"?i.globals.ttKeyFormatter=i.config.tooltip.x.formatter:i.globals.ttKeyFormatter=i.globals.xLabelFormatter,typeof i.config.xaxis.tooltip.formatter=="function"&&(i.globals.xaxisTooltipFormatter=i.config.xaxis.tooltip.formatter),(Array.isArray(i.config.tooltip.y)||i.config.tooltip.y.formatter!==void 0)&&(i.globals.ttVal=i.config.tooltip.y),i.config.tooltip.z.formatter!==void 0&&(i.globals.ttZFormatter=i.config.tooltip.z.formatter),i.config.legend.formatter!==void 0&&(i.globals.legendFormatter=i.config.legend.formatter),i.config.yaxis.forEach(function(s,l){s.labels.formatter!==void 0?i.globals.yLabelFormatters[l]=s.labels.formatter:i.globals.yLabelFormatters[l]=function(u){return i.globals.xyCharts?Array.isArray(u)?u.map(function(h){return n.defaultYFormatter(h,s,l)}):n.defaultYFormatter(u,s,l):u}}),i.globals}},{key:"heatmapLabelFormatters",value:function(){var n=this.w;if(n.config.chart.type==="heatmap"){n.globals.yAxisScale[0].result=n.globals.seriesNames.slice();var i=n.globals.seriesNames.reduce(function(s,l){return s.length>l.length?s:l},0);n.globals.yAxisScale[0].niceMax=i,n.globals.yAxisScale[0].niceMin=i}}}]),Y}(),me=function(Y){var n,i=Y.isTimeline,s=Y.ctx,l=Y.seriesIndex,u=Y.dataPointIndex,h=Y.y1,f=Y.y2,g=Y.w,v=g.globals.seriesRangeStart[l][u],S=g.globals.seriesRangeEnd[l][u],C=g.globals.labels[u],O=g.config.series[l].name?g.config.series[l].name:"",L=g.globals.ttKeyFormatter,_=g.config.tooltip.y.title.formatter,B={w:g,seriesIndex:l,dataPointIndex:u,start:v,end:S};typeof _=="function"&&(O=_(O,B)),(n=g.config.series[l].data[u])!==null&&n!==void 0&&n.x&&(C=g.config.series[l].data[u].x),i||g.config.xaxis.type==="datetime"&&(C=new oe(s).xLabelFormat(g.globals.ttKeyFormatter,C,C,{i:void 0,dateFormatter:new ie(s).formatDate,w:g})),typeof L=="function"&&(C=L(C,B)),Number.isFinite(h)&&Number.isFinite(f)&&(v=h,S=f);var H="",$="",J=g.globals.colors[l];if(g.config.tooltip.x.formatter===void 0)if(g.config.xaxis.type==="datetime"){var y=new ie(s);H=y.formatDate(y.getDate(v),g.config.tooltip.x.format),$=y.formatDate(y.getDate(S),g.config.tooltip.x.format)}else H=v,$=S;else H=g.config.tooltip.x.formatter(v),$=g.config.tooltip.x.formatter(S);return{start:v,end:S,startVal:H,endVal:$,ylabel:C,color:J,seriesName:O}},ye=function(Y){var n=Y.color,i=Y.seriesName,s=Y.ylabel,l=Y.start,u=Y.end,h=Y.seriesIndex,f=Y.dataPointIndex,g=Y.ctx.tooltip.tooltipLabels.getFormatters(h);l=g.yLbFormatter(l),u=g.yLbFormatter(u);var v=g.yLbFormatter(Y.w.globals.series[h][f]),S=`<span class="value start-value">
  `.concat(l,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(u,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+n+'">'+(i||"")+'</span></div><div> <span class="category">'+s+": </span> "+(Y.w.globals.comboCharts?Y.w.config.series[h].type==="rangeArea"||Y.w.config.series[h].type==="rangeBar"?S:"<span>".concat(v,"</span>"):S)+" </div></div>"},Ee=function(){function Y(n){c(this,Y),this.opts=n}return p(Y,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(n){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,E.extend(n,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var n=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(i){var s=i.seriesIndex,l=i.dataPointIndex,u=i.w;return n._getBoxTooltip(u,s,l,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var n=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(i){var s=i.seriesIndex,l=i.dataPointIndex,u=i.w;return n._getBoxTooltip(u,s,l,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(n,i){i.ctx;var s=i.seriesIndex,l=i.dataPointIndex,u=i.w,h=function(){var f=u.globals.seriesRangeStart[s][l];return u.globals.seriesRangeEnd[s][l]-f};return u.globals.comboCharts?u.config.series[s].type==="rangeBar"||u.config.series[s].type==="rangeArea"?h():n:h()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(n){return n.w.config.plotOptions&&n.w.config.plotOptions.bar&&n.w.config.plotOptions.bar.horizontal?function(i){var s=me(r(r({},i),{},{isTimeline:!0})),l=s.color,u=s.seriesName,h=s.ylabel,f=s.startVal,g=s.endVal;return ye(r(r({},i),{},{color:l,seriesName:u,ylabel:h,start:f,end:g}))}(n):function(i){var s=me(i),l=s.color,u=s.seriesName,h=s.ylabel,f=s.start,g=s.end;return ye(r(r({},i),{},{color:l,seriesName:u,ylabel:h,start:f,end:g}))}(n)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(n){var i,s;return(i=n.plotOptions.bar)!==null&&i!==void 0&&i.barHeight||(n.plotOptions.bar.barHeight=2),(s=n.plotOptions.bar)!==null&&s!==void 0&&s.columnWidth||(n.plotOptions.bar.columnWidth=2),n}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(n){return function(i){var s=me(i),l=s.color,u=s.seriesName,h=s.ylabel,f=s.start,g=s.end;return ye(r(r({},i),{},{color:l,seriesName:u,ylabel:h,start:f,end:g}))}(n)}}}}},{key:"brush",value:function(n){return E.extend(n,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(n){n.dataLabels=n.dataLabels||{},n.dataLabels.formatter=n.dataLabels.formatter||void 0;var i=n.dataLabels.formatter;return n.yaxis.forEach(function(s,l){n.yaxis[l].min=0,n.yaxis[l].max=100}),n.chart.type==="bar"&&(n.dataLabels.formatter=i||function(s){return typeof s=="number"&&s?s.toFixed(0)+"%":s}),n}},{key:"stackedBars",value:function(){var n=this.bar();return r(r({},n),{},{plotOptions:r(r({},n.plotOptions),{},{bar:r(r({},n.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(n){return n.xaxis.convertedCatToNumeric=!0,n}},{key:"convertCatToNumericXaxis",value:function(n,i,s){n.xaxis.type="numeric",n.xaxis.labels=n.xaxis.labels||{},n.xaxis.labels.formatter=n.xaxis.labels.formatter||function(h){return E.isNumber(h)?Math.floor(h):h};var l=n.xaxis.labels.formatter,u=n.xaxis.categories&&n.xaxis.categories.length?n.xaxis.categories:n.labels;return s&&s.length&&(u=s.map(function(h){return Array.isArray(h)?h:String(h)})),u&&u.length&&(n.xaxis.labels.formatter=function(h){return E.isNumber(h)?l(u[Math.floor(h)-1]):l(h)}),n.xaxis.categories=[],n.labels=[],n.xaxis.tickAmount=n.xaxis.tickAmount||"dataPoints",n}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(n){return n.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(n){return n},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(n,i,s,l,u){var h=n.globals.seriesCandleO[i][s],f=n.globals.seriesCandleH[i][s],g=n.globals.seriesCandleM[i][s],v=n.globals.seriesCandleL[i][s],S=n.globals.seriesCandleC[i][s];return n.config.series[i].type&&n.config.series[i].type!==u?`<div class="apexcharts-custom-tooltip">
          `.concat(n.config.series[i].name?n.config.series[i].name:"series-"+(i+1),": <strong>").concat(n.globals.series[i][s],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(n.config.chart.type,'">')+"<div>".concat(l[0],': <span class="value">')+h+"</span></div>"+"<div>".concat(l[1],': <span class="value">')+f+"</span></div>"+(g?"<div>".concat(l[2],': <span class="value">')+g+"</span></div>":"")+"<div>".concat(l[3],': <span class="value">')+v+"</span></div>"+"<div>".concat(l[4],': <span class="value">')+S+"</span></div></div>"}}]),Y}(),fe=function(){function Y(n){c(this,Y),this.opts=n}return p(Y,[{key:"init",value:function(n){var i=n.responsiveOverride,s=this.opts,l=new j,u=new Ee(s);this.chartType=s.chart.type,s=this.extendYAxis(s),s=this.extendAnnotations(s);var h=l.init(),f={};if(s&&o(s)==="object"){var g,v,S,C,O,L,_={};_=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(s.chart.type)!==-1?u[s.chart.type]():u.line(),s.chart.stacked&&s.chart.type==="bar"&&(_=u.stackedBars()),(g=s.chart.brush)!==null&&g!==void 0&&g.enabled&&(_=u.brush(_)),s.chart.stacked&&s.chart.stackType==="100%"&&(s=u.stacked100(s)),(v=s.plotOptions)!==null&&v!==void 0&&(S=v.bar)!==null&&S!==void 0&&S.isDumbbell&&(s=u.dumbbell(s)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(s),s.xaxis=s.xaxis||window.Apex.xaxis||{},i||(s.xaxis.convertedCatToNumeric=!1),((C=(s=this.checkForCatToNumericXAxis(this.chartType,_,s)).chart.sparkline)!==null&&C!==void 0&&C.enabled||(O=window.Apex.chart)!==null&&O!==void 0&&(L=O.sparkline)!==null&&L!==void 0&&L.enabled)&&(_=u.sparkline(_)),f=E.extend(h,_)}var B=E.extend(f,window.Apex);return h=E.extend(B,s),h=this.handleUserInputErrors(h)}},{key:"checkForCatToNumericXAxis",value:function(n,i,s){var l,u,h=new Ee(s),f=(n==="bar"||n==="boxPlot")&&((l=s.plotOptions)===null||l===void 0||(u=l.bar)===null||u===void 0?void 0:u.horizontal),g=n==="pie"||n==="polarArea"||n==="donut"||n==="radar"||n==="radialBar"||n==="heatmap",v=s.xaxis.type!=="datetime"&&s.xaxis.type!=="numeric",S=s.xaxis.tickPlacement?s.xaxis.tickPlacement:i.xaxis&&i.xaxis.tickPlacement;return f||g||!v||S==="between"||(s=h.convertCatToNumeric(s)),s}},{key:"extendYAxis",value:function(n,i){var s=new j;(n.yaxis===void 0||!n.yaxis||Array.isArray(n.yaxis)&&n.yaxis.length===0)&&(n.yaxis={}),n.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(n.yaxis=E.extend(n.yaxis,window.Apex.yaxis)),n.yaxis.constructor!==Array?n.yaxis=[E.extend(s.yAxis,n.yaxis)]:n.yaxis=E.extendArray(n.yaxis,s.yAxis);var l=!1;n.yaxis.forEach(function(h){h.logarithmic&&(l=!0)});var u=n.series;return i&&!u&&(u=i.config.series),l&&u.length!==n.yaxis.length&&u.length&&(n.yaxis=u.map(function(h,f){if(h.name||(u[f].name="series-".concat(f+1)),n.yaxis[f])return n.yaxis[f].seriesName=u[f].name,n.yaxis[f];var g=E.extend(s.yAxis,n.yaxis[0]);return g.show=!1,g})),l&&u.length>1&&u.length!==n.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),n}},{key:"extendAnnotations",value:function(n){return n.annotations===void 0&&(n.annotations={},n.annotations.yaxis=[],n.annotations.xaxis=[],n.annotations.points=[]),n=this.extendYAxisAnnotations(n),n=this.extendXAxisAnnotations(n),n=this.extendPointAnnotations(n)}},{key:"extendYAxisAnnotations",value:function(n){var i=new j;return n.annotations.yaxis=E.extendArray(n.annotations.yaxis!==void 0?n.annotations.yaxis:[],i.yAxisAnnotation),n}},{key:"extendXAxisAnnotations",value:function(n){var i=new j;return n.annotations.xaxis=E.extendArray(n.annotations.xaxis!==void 0?n.annotations.xaxis:[],i.xAxisAnnotation),n}},{key:"extendPointAnnotations",value:function(n){var i=new j;return n.annotations.points=E.extendArray(n.annotations.points!==void 0?n.annotations.points:[],i.pointAnnotation),n}},{key:"checkForDarkTheme",value:function(n){n.theme&&n.theme.mode==="dark"&&(n.tooltip||(n.tooltip={}),n.tooltip.theme!=="light"&&(n.tooltip.theme="dark"),n.chart.foreColor||(n.chart.foreColor="#f6f7f8"),n.chart.background||(n.chart.background="#424242"),n.theme.palette||(n.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(n){var i=n;if(i.tooltip.shared&&i.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(i.chart.type==="bar"&&i.plotOptions.bar.horizontal){if(i.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");i.yaxis[0].reversed&&(i.yaxis[0].opposite=!0),i.xaxis.tooltip.enabled=!1,i.yaxis[0].tooltip.enabled=!1,i.chart.zoom.enabled=!1}return i.chart.type!=="bar"&&i.chart.type!=="rangeBar"||i.tooltip.shared&&i.xaxis.crosshairs.width==="barWidth"&&i.series.length>1&&(i.xaxis.crosshairs.width="tickWidth"),i.chart.type!=="candlestick"&&i.chart.type!=="boxPlot"||i.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(i.chart.type," chart is not supported.")),i.yaxis[0].reversed=!1),i}}]),Y}(),ce=function(){function Y(){c(this,Y)}return p(Y,[{key:"initGlobalVars",value:function(n){n.series=[],n.seriesCandleO=[],n.seriesCandleH=[],n.seriesCandleM=[],n.seriesCandleL=[],n.seriesCandleC=[],n.seriesRangeStart=[],n.seriesRangeEnd=[],n.seriesRange=[],n.seriesPercent=[],n.seriesGoals=[],n.seriesX=[],n.seriesZ=[],n.seriesNames=[],n.seriesTotals=[],n.seriesLog=[],n.seriesColors=[],n.stackedSeriesTotals=[],n.seriesXvalues=[],n.seriesYvalues=[],n.labels=[],n.hasXaxisGroups=!1,n.groups=[],n.hasSeriesGroups=!1,n.seriesGroups=[],n.categoryLabels=[],n.timescaleLabels=[],n.noLabelsProvided=!1,n.resizeTimer=null,n.selectionResizeTimer=null,n.delayedElements=[],n.pointsArray=[],n.dataLabelsRects=[],n.isXNumeric=!1,n.skipLastTimelinelabel=!1,n.skipFirstTimelinelabel=!1,n.isDataXYZ=!1,n.isMultiLineX=!1,n.isMultipleYAxis=!1,n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE,n.minYArr=[],n.maxYArr=[],n.maxX=-Number.MAX_VALUE,n.minX=Number.MAX_VALUE,n.initialMaxX=-Number.MAX_VALUE,n.initialMinX=Number.MAX_VALUE,n.maxDate=0,n.minDate=Number.MAX_VALUE,n.minZ=Number.MAX_VALUE,n.maxZ=-Number.MAX_VALUE,n.minXDiff=Number.MAX_VALUE,n.yAxisScale=[],n.xAxisScale=null,n.xAxisTicksPositions=[],n.yLabelsCoords=[],n.yTitleCoords=[],n.barPadForNumericAxis=0,n.padHorizontal=0,n.xRange=0,n.yRange=[],n.zRange=0,n.dataPoints=0,n.xTickAmount=0}},{key:"globalVars",value:function(n){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:n.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:n.chart.toolbar.autoSelected==="zoom"&&n.chart.toolbar.tools.zoom&&n.chart.zoom.enabled,panEnabled:n.chart.toolbar.autoSelected==="pan"&&n.chart.toolbar.tools.pan,selectionEnabled:n.chart.toolbar.autoSelected==="selection"&&n.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(n){var i=this.globalVars(n);return this.initGlobalVars(i),i.initialConfig=E.extend({},n),i.initialSeries=E.clone(n.series),i.lastXAxis=E.clone(i.initialConfig.xaxis),i.lastYAxis=E.clone(i.initialConfig.yaxis),i}}]),Y}(),K=function(){function Y(n){c(this,Y),this.opts=n}return p(Y,[{key:"init",value:function(){var n=new fe(this.opts).init({responsiveOverride:!1});return{config:n,globals:new ce().init(n)}}}]),Y}(),ae=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.opts=null,this.seriesIndex=0}return p(Y,[{key:"clippedImgArea",value:function(n){var i=this.w,s=i.config,l=parseInt(i.globals.gridWidth,10),u=parseInt(i.globals.gridHeight,10),h=l>u?l:u,f=n.image,g=0,v=0;n.width===void 0&&n.height===void 0?s.fill.image.width!==void 0&&s.fill.image.height!==void 0?(g=s.fill.image.width+1,v=s.fill.image.height):(g=h+1,v=h):(g=n.width,v=n.height);var S=document.createElementNS(i.globals.SVGNS,"pattern");R.setAttrs(S,{id:n.patternID,patternUnits:n.patternUnits?n.patternUnits:"userSpaceOnUse",width:g+"px",height:v+"px"});var C=document.createElementNS(i.globals.SVGNS,"image");S.appendChild(C),C.setAttributeNS(window.SVG.xlink,"href",f),R.setAttrs(C,{x:0,y:0,preserveAspectRatio:"none",width:g+"px",height:v+"px"}),C.style.opacity=n.opacity,i.globals.dom.elDefs.node.appendChild(S)}},{key:"getSeriesIndex",value:function(n){var i=this.w;return(i.config.chart.type==="bar"||i.config.chart.type==="rangeBar")&&i.config.plotOptions.bar.distributed||i.config.chart.type==="heatmap"||i.config.chart.type==="treemap"?this.seriesIndex=n.seriesNumber:this.seriesIndex=n.seriesNumber%i.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(n){var i=this.w;this.opts=n;var s,l,u,h=this.w.config;this.seriesIndex=this.getSeriesIndex(n);var f=this.getFillColors()[this.seriesIndex];i.globals.seriesColors[this.seriesIndex]!==void 0&&(f=i.globals.seriesColors[this.seriesIndex]),typeof f=="function"&&(f=f({seriesIndex:this.seriesIndex,dataPointIndex:n.dataPointIndex,value:n.value,w:i}));var g=n.fillType?n.fillType:this.getFillType(this.seriesIndex),v=Array.isArray(h.fill.opacity)?h.fill.opacity[this.seriesIndex]:h.fill.opacity;n.color&&(f=n.color);var S=f;if(f.indexOf("rgb")===-1?f.length<9&&(S=E.hexToRgba(f,v)):f.indexOf("rgba")>-1&&(v=E.getOpacityFromRGBA(f)),n.opacity&&(v=n.opacity),g==="pattern"&&(l=this.handlePatternFill({fillConfig:n.fillConfig,patternFill:l,fillColor:f,fillOpacity:v,defaultColor:S})),g==="gradient"&&(u=this.handleGradientFill({fillConfig:n.fillConfig,fillColor:f,fillOpacity:v,i:this.seriesIndex})),g==="image"){var C=h.fill.image.src,O=n.patternID?n.patternID:"";this.clippedImgArea({opacity:v,image:Array.isArray(C)?n.seriesNumber<C.length?C[n.seriesNumber]:C[0]:C,width:n.width?n.width:void 0,height:n.height?n.height:void 0,patternUnits:n.patternUnits,patternID:"pattern".concat(i.globals.cuid).concat(n.seriesNumber+1).concat(O)}),s="url(#pattern".concat(i.globals.cuid).concat(n.seriesNumber+1).concat(O,")")}else s=g==="gradient"?u:g==="pattern"?l:S;return n.solid&&(s=S),s}},{key:"getFillType",value:function(n){var i=this.w;return Array.isArray(i.config.fill.type)?i.config.fill.type[n]:i.config.fill.type}},{key:"getFillColors",value:function(){var n=this.w,i=n.config,s=this.opts,l=[];return n.globals.comboCharts?n.config.series[this.seriesIndex].type==="line"?Array.isArray(n.globals.stroke.colors)?l=n.globals.stroke.colors:l.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?l=n.globals.fill.colors:l.push(n.globals.fill.colors):i.chart.type==="line"?Array.isArray(n.globals.stroke.colors)?l=n.globals.stroke.colors:l.push(n.globals.stroke.colors):Array.isArray(n.globals.fill.colors)?l=n.globals.fill.colors:l.push(n.globals.fill.colors),s.fillColors!==void 0&&(l=[],Array.isArray(s.fillColors)?l=s.fillColors.slice():l.push(s.fillColors)),l}},{key:"handlePatternFill",value:function(n){var i=n.fillConfig,s=n.patternFill,l=n.fillColor,u=n.fillOpacity,h=n.defaultColor,f=this.w.config.fill;i&&(f=i);var g=this.opts,v=new R(this.ctx),S=Array.isArray(f.pattern.strokeWidth)?f.pattern.strokeWidth[this.seriesIndex]:f.pattern.strokeWidth,C=l;return Array.isArray(f.pattern.style)?s=f.pattern.style[g.seriesNumber]!==void 0?v.drawPattern(f.pattern.style[g.seriesNumber],f.pattern.width,f.pattern.height,C,S,u):h:s=v.drawPattern(f.pattern.style,f.pattern.width,f.pattern.height,C,S,u),s}},{key:"handleGradientFill",value:function(n){var i=n.fillColor,s=n.fillOpacity,l=n.fillConfig,u=n.i,h=this.w.config.fill;l&&(h=r(r({},h),l));var f,g=this.opts,v=new R(this.ctx),S=new E,C=h.gradient.type,O=i,L=h.gradient.opacityFrom===void 0?s:Array.isArray(h.gradient.opacityFrom)?h.gradient.opacityFrom[u]:h.gradient.opacityFrom;O.indexOf("rgba")>-1&&(L=E.getOpacityFromRGBA(O));var _=h.gradient.opacityTo===void 0?s:Array.isArray(h.gradient.opacityTo)?h.gradient.opacityTo[u]:h.gradient.opacityTo;if(h.gradient.gradientToColors===void 0||h.gradient.gradientToColors.length===0)f=h.gradient.shade==="dark"?S.shadeColor(-1*parseFloat(h.gradient.shadeIntensity),i.indexOf("rgb")>-1?E.rgb2hex(i):i):S.shadeColor(parseFloat(h.gradient.shadeIntensity),i.indexOf("rgb")>-1?E.rgb2hex(i):i);else if(h.gradient.gradientToColors[g.seriesNumber]){var B=h.gradient.gradientToColors[g.seriesNumber];f=B,B.indexOf("rgba")>-1&&(_=E.getOpacityFromRGBA(B))}else f=i;if(h.gradient.gradientFrom&&(O=h.gradient.gradientFrom),h.gradient.gradientTo&&(f=h.gradient.gradientTo),h.gradient.inverseColors){var H=O;O=f,f=H}return O.indexOf("rgb")>-1&&(O=E.rgb2hex(O)),f.indexOf("rgb")>-1&&(f=E.rgb2hex(f)),v.drawGradient(C,O,f,L,_,g.size,h.gradient.stops,h.gradient.colorStops,u)}}]),Y}(),le=function(){function Y(n,i){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"setGlobalMarkerSize",value:function(){var n=this.w;if(n.globals.markers.size=Array.isArray(n.config.markers.size)?n.config.markers.size:[n.config.markers.size],n.globals.markers.size.length>0){if(n.globals.markers.size.length<n.globals.series.length+1)for(var i=0;i<=n.globals.series.length;i++)n.globals.markers.size[i]===void 0&&n.globals.markers.size.push(n.globals.markers.size[0])}else n.globals.markers.size=n.config.series.map(function(s){return n.config.markers.size})}},{key:"plotChartMarkers",value:function(n,i,s,l){var u,h=arguments.length>4&&arguments[4]!==void 0&&arguments[4],f=this.w,g=i,v=n,S=null,C=new R(this.ctx),O=f.config.markers.discrete&&f.config.markers.discrete.length;if((f.globals.markers.size[i]>0||h||O)&&(S=C.group({class:h||O?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(f.globals.cuid,")")),Array.isArray(v.x))for(var L=0;L<v.x.length;L++){var _=s;s===1&&L===0&&(_=0),s===1&&L===1&&(_=1);var B="apexcharts-marker";if(f.config.chart.type!=="line"&&f.config.chart.type!=="area"||f.globals.comboCharts||f.config.tooltip.intersect||(B+=" no-pointer-events"),(Array.isArray(f.config.markers.size)?f.globals.markers.size[i]>0:f.config.markers.size>0)||h||O){E.isNumber(v.y[L])?B+=" w".concat(E.randomId()):B="apexcharts-nullpoint";var H=this.getMarkerConfig({cssClass:B,seriesIndex:i,dataPointIndex:_});f.config.series[g].data[_]&&(f.config.series[g].data[_].fillColor&&(H.pointFillColor=f.config.series[g].data[_].fillColor),f.config.series[g].data[_].strokeColor&&(H.pointStrokeColor=f.config.series[g].data[_].strokeColor)),l&&(H.pSize=l),(v.x[L]<0||v.x[L]>f.globals.gridWidth||v.y[L]<0||v.y[L]>f.globals.gridHeight)&&(H.pSize=0),(u=C.drawMarker(v.x[L],v.y[L],H)).attr("rel",_),u.attr("j",_),u.attr("index",i),u.node.setAttribute("default-marker-size",H.pSize),new D(this.ctx).setSelectionFilter(u,i,_),this.addEvents(u),S&&S.add(u)}else f.globals.pointsArray[i]===void 0&&(f.globals.pointsArray[i]=[]),f.globals.pointsArray[i].push([v.x[L],v.y[L]])}return S}},{key:"getMarkerConfig",value:function(n){var i=n.cssClass,s=n.seriesIndex,l=n.dataPointIndex,u=l===void 0?null:l,h=n.finishRadius,f=h===void 0?null:h,g=this.w,v=this.getMarkerStyle(s),S=g.globals.markers.size[s],C=g.config.markers;return u!==null&&C.discrete.length&&C.discrete.map(function(O){O.seriesIndex===s&&O.dataPointIndex===u&&(v.pointStrokeColor=O.strokeColor,v.pointFillColor=O.fillColor,S=O.size,v.pointShape=O.shape)}),{pSize:f===null?S:f,pRadius:C.radius,width:Array.isArray(C.width)?C.width[s]:C.width,height:Array.isArray(C.height)?C.height[s]:C.height,pointStrokeWidth:Array.isArray(C.strokeWidth)?C.strokeWidth[s]:C.strokeWidth,pointStrokeColor:v.pointStrokeColor,pointFillColor:v.pointFillColor,shape:v.pointShape||(Array.isArray(C.shape)?C.shape[s]:C.shape),class:i,pointStrokeOpacity:Array.isArray(C.strokeOpacity)?C.strokeOpacity[s]:C.strokeOpacity,pointStrokeDashArray:Array.isArray(C.strokeDashArray)?C.strokeDashArray[s]:C.strokeDashArray,pointFillOpacity:Array.isArray(C.fillOpacity)?C.fillOpacity[s]:C.fillOpacity,seriesIndex:s}}},{key:"addEvents",value:function(n){var i=this.w,s=new R(this.ctx);n.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this.ctx,n)),n.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this.ctx,n)),n.node.addEventListener("mousedown",s.pathMouseDown.bind(this.ctx,n)),n.node.addEventListener("click",i.config.markers.onClick),n.node.addEventListener("dblclick",i.config.markers.onDblClick),n.node.addEventListener("touchstart",s.pathMouseDown.bind(this.ctx,n),{passive:!0})}},{key:"getMarkerStyle",value:function(n){var i=this.w,s=i.globals.markers.colors,l=i.config.markers.strokeColor||i.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(l)?l[n]:l,pointFillColor:Array.isArray(s)?s[n]:s}}}]),Y}(),ve=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return p(Y,[{key:"draw",value:function(n,i,s){var l=this.w,u=new R(this.ctx),h=s.realIndex,f=s.pointsPos,g=s.zRatio,v=s.elParent,S=u.group({class:"apexcharts-series-markers apexcharts-series-".concat(l.config.chart.type)});if(S.attr("clip-path","url(#gridRectMarkerMask".concat(l.globals.cuid,")")),Array.isArray(f.x))for(var C=0;C<f.x.length;C++){var O=i+1,L=!0;i===0&&C===0&&(O=0),i===0&&C===1&&(O=1);var _=0,B=l.globals.markers.size[h];if(g!==1/0){var H=l.config.plotOptions.bubble;B=l.globals.seriesZ[h][O],H.zScaling&&(B/=g),H.minBubbleRadius&&B<H.minBubbleRadius&&(B=H.minBubbleRadius),H.maxBubbleRadius&&B>H.maxBubbleRadius&&(B=H.maxBubbleRadius)}l.config.chart.animations.enabled||(_=B);var $=f.x[C],J=f.y[C];if(_=_||0,J!==null&&l.globals.series[h][O]!==void 0||(L=!1),L){var y=this.drawPoint($,J,_,B,h,O,i);S.add(y)}v.add(S)}}},{key:"drawPoint",value:function(n,i,s,l,u,h,f){var g=this.w,v=u,S=new F(this.ctx),C=new D(this.ctx),O=new ae(this.ctx),L=new le(this.ctx),_=new R(this.ctx),B=L.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:v,dataPointIndex:h,finishRadius:g.config.chart.type==="bubble"||g.globals.comboCharts&&g.config.series[u]&&g.config.series[u].type==="bubble"?l:null});l=B.pSize;var H,$=O.fillPath({seriesNumber:u,dataPointIndex:h,color:B.pointFillColor,patternUnits:"objectBoundingBox",value:g.globals.series[u][f]});if(B.shape==="circle"?H=_.drawCircle(s):B.shape!=="square"&&B.shape!=="rect"||(H=_.drawRect(0,0,B.width-B.pointStrokeWidth/2,B.height-B.pointStrokeWidth/2,B.pRadius)),g.config.series[v].data[h]&&g.config.series[v].data[h].fillColor&&($=g.config.series[v].data[h].fillColor),H.attr({x:n-B.width/2-B.pointStrokeWidth/2,y:i-B.height/2-B.pointStrokeWidth/2,cx:n,cy:i,fill:$,"fill-opacity":B.pointFillOpacity,stroke:B.pointStrokeColor,r:l,"stroke-width":B.pointStrokeWidth,"stroke-dasharray":B.pointStrokeDashArray,"stroke-opacity":B.pointStrokeOpacity}),g.config.chart.dropShadow.enabled){var J=g.config.chart.dropShadow;C.dropShadow(H,J,u)}if(!this.initialAnim||g.globals.dataChanged||g.globals.resized)g.globals.animationEnded=!0;else{var y=g.config.chart.animations.speed;S.animateMarker(H,0,B.shape==="circle"?l:{width:B.width,height:B.height},y,g.globals.easing,function(){window.setTimeout(function(){S.animationCompleted(H)},100)})}if(g.globals.dataChanged&&B.shape==="circle")if(this.dynamicAnim){var M,z,V,Q,ee=g.config.chart.animations.dynamicAnimation.speed;(Q=g.globals.previousPaths[u]&&g.globals.previousPaths[u][f])!=null&&(M=Q.x,z=Q.y,V=Q.r!==void 0?Q.r:l);for(var ue=0;ue<g.globals.collapsedSeries.length;ue++)g.globals.collapsedSeries[ue].index===u&&(ee=1,l=0);n===0&&i===0&&(l=0),S.animateCircle(H,{cx:M,cy:z,r:V},{cx:n,cy:i,r:l},ee,g.globals.easing)}else H.attr({r:l});return H.attr({rel:h,j:h,index:u,"default-marker-size":l}),C.setSelectionFilter(H,u,h),L.addEvents(H),H.node.classList.add("apexcharts-marker"),H}},{key:"centerTextInBubble",value:function(n){var i=this.w;return{y:n+=parseInt(i.config.dataLabels.style.fontSize,10)/4}}}]),Y}(),pe=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"dataLabelsCorrection",value:function(n,i,s,l,u,h,f){var g=this.w,v=!1,S=new R(this.ctx).getTextRects(s,f),C=S.width,O=S.height;i<0&&(i=0),i>g.globals.gridHeight+O&&(i=g.globals.gridHeight+O/2),g.globals.dataLabelsRects[l]===void 0&&(g.globals.dataLabelsRects[l]=[]),g.globals.dataLabelsRects[l].push({x:n,y:i,width:C,height:O});var L=g.globals.dataLabelsRects[l].length-2,_=g.globals.lastDrawnDataLabelsIndexes[l]!==void 0?g.globals.lastDrawnDataLabelsIndexes[l][g.globals.lastDrawnDataLabelsIndexes[l].length-1]:0;if(g.globals.dataLabelsRects[l][L]!==void 0){var B=g.globals.dataLabelsRects[l][_];(n>B.x+B.width+2||i>B.y+B.height+2||n+C<B.x)&&(v=!0)}return(u===0||h)&&(v=!0),{x:n,y:i,textRects:S,drawnextLabel:v}}},{key:"drawDataLabel",value:function(n){var i=this,s=n.type,l=n.pos,u=n.i,h=n.j,f=n.isRangeStart,g=n.strokeWidth,v=g===void 0?2:g,S=this.w,C=new R(this.ctx),O=S.config.dataLabels,L=0,_=0,B=h,H=null;if(!O.enabled||!Array.isArray(l.x))return H;H=C.group({class:"apexcharts-data-labels"});for(var $=0;$<l.x.length;$++)if(L=l.x[$]+O.offsetX,_=l.y[$]+O.offsetY+v,!isNaN(L)){h===1&&$===0&&(B=0),h===1&&$===1&&(B=1);var J=S.globals.series[u][B];s==="rangeArea"&&(J=f?S.globals.seriesRangeStart[u][B]:S.globals.seriesRangeEnd[u][B]);var y="",M=function(z){return S.config.dataLabels.formatter(z,{ctx:i.ctx,seriesIndex:u,dataPointIndex:B,w:S})};S.config.chart.type==="bubble"?(y=M(J=S.globals.seriesZ[u][B]),_=l.y[$],_=new ve(this.ctx).centerTextInBubble(_,u,B).y):J!==void 0&&(y=M(J)),this.plotDataLabelsText({x:L,y:_,text:y,i:u,j:B,parent:H,offsetCorrection:!0,dataLabelsConfig:S.config.dataLabels})}return H}},{key:"plotDataLabelsText",value:function(n){var i=this.w,s=new R(this.ctx),l=n.x,u=n.y,h=n.i,f=n.j,g=n.text,v=n.textAnchor,S=n.fontSize,C=n.parent,O=n.dataLabelsConfig,L=n.color,_=n.alwaysDrawDataLabel,B=n.offsetCorrection;if(!(Array.isArray(i.config.dataLabels.enabledOnSeries)&&i.config.dataLabels.enabledOnSeries.indexOf(h)<0)){var H={x:l,y:u,drawnextLabel:!0,textRects:null};B&&(H=this.dataLabelsCorrection(l,u,g,h,f,_,parseInt(O.style.fontSize,10))),i.globals.zoomed||(l=H.x,u=H.y),H.textRects&&(l<-10-H.textRects.width||l>i.globals.gridWidth+H.textRects.width+10)&&(g="");var $=i.globals.dataLabels.style.colors[h];((i.config.chart.type==="bar"||i.config.chart.type==="rangeBar")&&i.config.plotOptions.bar.distributed||i.config.dataLabels.distributed)&&($=i.globals.dataLabels.style.colors[f]),typeof $=="function"&&($=$({series:i.globals.series,seriesIndex:h,dataPointIndex:f,w:i})),L&&($=L);var J=O.offsetX,y=O.offsetY;if(i.config.chart.type!=="bar"&&i.config.chart.type!=="rangeBar"||(J=0,y=0),H.drawnextLabel){var M=s.drawText({width:100,height:parseInt(O.style.fontSize,10),x:l+J,y:u+y,foreColor:$,textAnchor:v||O.textAnchor,text:g,fontSize:S||O.style.fontSize,fontFamily:O.style.fontFamily,fontWeight:O.style.fontWeight||"normal"});if(M.attr({class:"apexcharts-datalabel",cx:l,cy:u}),O.dropShadow.enabled){var z=O.dropShadow;new D(this.ctx).dropShadow(M,z)}C.add(M),i.globals.lastDrawnDataLabelsIndexes[h]===void 0&&(i.globals.lastDrawnDataLabelsIndexes[h]=[]),i.globals.lastDrawnDataLabelsIndexes[h].push(f)}}}},{key:"addBackgroundToDataLabel",value:function(n,i){var s=this.w,l=s.config.dataLabels.background,u=l.padding,h=l.padding/2,f=i.width,g=i.height,v=new R(this.ctx).drawRect(i.x-u,i.y-h/2,f+2*u,g+h,l.borderRadius,s.config.chart.background==="transparent"?"#fff":s.config.chart.background,l.opacity,l.borderWidth,l.borderColor);return l.dropShadow.enabled&&new D(this.ctx).dropShadow(v,l.dropShadow),v}},{key:"dataLabelsBackground",value:function(){var n=this.w;if(n.config.chart.type!=="bubble")for(var i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),s=0;s<i.length;s++){var l=i[s],u=l.getBBox(),h=null;if(u.width&&u.height&&(h=this.addBackgroundToDataLabel(l,u)),h){l.parentNode.insertBefore(h.node,l);var f=l.getAttribute("fill");n.config.chart.animations.enabled&&!n.globals.resized&&!n.globals.dataChanged?h.animate().attr({fill:f}):h.attr({fill:f}),l.setAttribute("fill",n.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var n=this.w,i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),s=n.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),l=0;l<i.length;l++)s&&s.insertBefore(i[l],s.nextSibling)}}]),Y}(),re=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.legendInactiveClass="legend-mouseover-inactive"}return p(Y,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(n){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(E.escapeString(n),"']"))}},{key:"isSeriesHidden",value:function(n){var i=this.getSeriesByName(n),s=parseInt(i.getAttribute("data:realIndex"),10);return{isHidden:i.classList.contains("apexcharts-series-collapsed"),realIndex:s}}},{key:"addCollapsedClassToSeries",value:function(n,i){var s=this.w;function l(u){for(var h=0;h<u.length;h++)u[h].index===i&&n.node.classList.add("apexcharts-series-collapsed")}l(s.globals.collapsedSeries),l(s.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(n){var i=this.isSeriesHidden(n);return this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,i.isHidden),i.isHidden}},{key:"showSeries",value:function(n){var i=this.isSeriesHidden(n);i.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,!0)}},{key:"hideSeries",value:function(n){var i=this.isSeriesHidden(n);i.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(i.realIndex,!1)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=this.w,u=E.clone(l.globals.initialSeries);l.globals.previousPaths=[],s?(l.globals.collapsedSeries=[],l.globals.ancillaryCollapsedSeries=[],l.globals.collapsedSeriesIndices=[],l.globals.ancillaryCollapsedSeriesIndices=[]):u=this.emptyCollapsedSeries(u),l.config.series=u,n&&(i&&(l.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(u,l.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(n){for(var i=this.w,s=0;s<n.length;s++)i.globals.collapsedSeriesIndices.indexOf(s)>-1&&(n[s].data=[]);return n}},{key:"toggleSeriesOnHover",value:function(n,i){var s=this.w;i||(i=n.target);var l=s.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if(n.type==="mousemove"){var u=parseInt(i.getAttribute("rel"),10)-1,h=null,f=null;s.globals.axisCharts||s.config.chart.type==="radialBar"?s.globals.axisCharts?(h=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(u,"']")),f=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(u,"']"))):h=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(u+1,"']")):h=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(u+1,"'] path"));for(var g=0;g<l.length;g++)l[g].classList.add(this.legendInactiveClass);h!==null&&(s.globals.axisCharts||h.parentNode.classList.remove(this.legendInactiveClass),h.classList.remove(this.legendInactiveClass),f!==null&&f.classList.remove(this.legendInactiveClass))}else if(n.type==="mouseout")for(var v=0;v<l.length;v++)l[v].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(n,i){var s=this,l=this.w,u=l.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),h=function(g){for(var v=0;v<u.length;v++)u[v].classList[g](s.legendInactiveClass)};if(n.type==="mousemove"){var f=parseInt(i.getAttribute("rel"),10)-1;h("add"),function(g){for(var v=0;v<u.length;v++){var S=parseInt(u[v].getAttribute("val"),10);S>=g.from&&S<=g.to&&u[v].classList.remove(s.legendInactiveClass)}}(l.config.plotOptions.heatmap.colorScale.ranges[f])}else n.type==="mouseout"&&h("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=this.w,l=0;if(s.config.series.length>1){for(var u=s.config.series.map(function(f,g){return f.data&&f.data.length>0&&s.globals.collapsedSeriesIndices.indexOf(g)===-1&&(!s.globals.comboCharts||i.length===0||i.length&&i.indexOf(s.config.series[g].type)>-1)?g:-1}),h=n==="asc"?0:u.length-1;n==="asc"?h<u.length:h>=0;n==="asc"?h++:h--)if(u[h]!==-1){l=u[h];break}}return l}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(n,i){return n.type==="bar"||n.type==="column"?i:-1}).filter(function(n){return n!==-1}):this.w.config.series.map(function(n,i){return i})}},{key:"getPreviousPaths",value:function(){var n=this.w;function i(h,f,g){for(var v=h[f].childNodes,S={type:g,paths:[],realIndex:h[f].getAttribute("data:realIndex")},C=0;C<v.length;C++)if(v[C].hasAttribute("pathTo")){var O=v[C].getAttribute("pathTo");S.paths.push({d:O})}n.globals.previousPaths.push(S)}n.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(h){for(var f,g=(f=h,n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(f,"-series .apexcharts-series"))),v=0;v<g.length;v++)i(g,v,h)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var s=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series"));if(s.length>0)for(var l=function(h){for(var f=n.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(h,"'] rect")),g=[],v=function(C){var O=function(_){return f[C].getAttribute(_)},L={x:parseFloat(O("x")),y:parseFloat(O("y")),width:parseFloat(O("width")),height:parseFloat(O("height"))};g.push({rect:L,color:f[C].getAttribute("color")})},S=0;S<f.length;S++)v(S);n.globals.previousPaths.push(g)},u=0;u<s.length;u++)l(u);n.globals.axisCharts||(n.globals.previousPaths=n.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(n){var i=this.w,s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series"));if(s.length>0)for(var l=0;l<s.length;l++){for(var u=i.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(n,"-series .apexcharts-series[data\\:realIndex='").concat(l,"'] circle")),h=[],f=0;f<u.length;f++)h.push({x:u[f].getAttribute("cx"),y:u[f].getAttribute("cy"),r:u[f].getAttribute("r")});i.globals.previousPaths.push(h)}}},{key:"clearPreviousPaths",value:function(){var n=this.w;n.globals.previousPaths=[],n.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var n=this.w,i=n.config.noData,s=new R(this.ctx),l=n.globals.svgWidth/2,u=n.globals.svgHeight/2,h="middle";if(n.globals.noData=!0,n.globals.animationEnded=!0,i.align==="left"?(l=10,h="start"):i.align==="right"&&(l=n.globals.svgWidth-10,h="end"),i.verticalAlign==="top"?u=50:i.verticalAlign==="bottom"&&(u=n.globals.svgHeight-50),l+=i.offsetX,u=u+parseInt(i.style.fontSize,10)+2+i.offsetY,i.text!==void 0&&i.text!==""){var f=s.drawText({x:l,y:u,text:i.text,textAnchor:h,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,foreColor:i.style.color,opacity:1,class:"apexcharts-text-nodata"});n.globals.dom.Paper.add(f)}}},{key:"setNullSeriesToZeroValues",value:function(n){for(var i=this.w,s=0;s<n.length;s++)if(n[s].length===0)for(var l=0;l<n[i.globals.maxValsInArrayIndex].length;l++)n[s].push(0);return n}},{key:"hasAllSeriesEqualX",value:function(){for(var n=!0,i=this.w,s=this.filteredSeriesX(),l=0;l<s.length-1;l++)if(s[l][0]!==s[l+1][0]){n=!1;break}return i.globals.allSeriesHasEqualX=n,n}},{key:"filteredSeriesX",value:function(){var n=this.w.globals.seriesX.map(function(i){return i.length>0?i:[]});return n}}]),Y}(),de=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new G(this.ctx)}return p(Y,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var n=this.w.config.series.slice(),i=new re(this.ctx);if(this.activeSeriesIndex=i.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].x!==void 0&&n[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var n=this.w.config.series.slice(),i=new re(this.ctx);if(this.activeSeriesIndex=i.getActiveConfigSeriesIndex(),n[this.activeSeriesIndex].data!==void 0&&n[this.activeSeriesIndex].data.length>0&&n[this.activeSeriesIndex].data[0]!==void 0&&n[this.activeSeriesIndex].data[0]!==null&&n[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(n,i){for(var s=this.w.config,l=this.w.globals,u=s.chart.type==="boxPlot"||s.series[i].type==="boxPlot",h=0;h<n[i].data.length;h++)if(n[i].data[h][1]!==void 0&&(Array.isArray(n[i].data[h][1])&&n[i].data[h][1].length===4&&!u?this.twoDSeries.push(E.parseNumber(n[i].data[h][1][3])):n[i].data[h].length>=5?this.twoDSeries.push(E.parseNumber(n[i].data[h][4])):this.twoDSeries.push(E.parseNumber(n[i].data[h][1])),l.dataFormatXNumeric=!0),s.xaxis.type==="datetime"){var f=new Date(n[i].data[h][0]);f=new Date(f).getTime(),this.twoDSeriesX.push(f)}else this.twoDSeriesX.push(n[i].data[h][0]);for(var g=0;g<n[i].data.length;g++)n[i].data[g][2]!==void 0&&(this.threeDSeries.push(n[i].data[g][2]),l.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(n,i){var s=this.w.config,l=this.w.globals,u=new ie(this.ctx),h=i;l.collapsedSeriesIndices.indexOf(i)>-1&&(h=this.activeSeriesIndex);for(var f=0;f<n[i].data.length;f++)n[i].data[f].y!==void 0&&(Array.isArray(n[i].data[f].y)?this.twoDSeries.push(E.parseNumber(n[i].data[f].y[n[i].data[f].y.length-1])):this.twoDSeries.push(E.parseNumber(n[i].data[f].y))),n[i].data[f].goals!==void 0&&Array.isArray(n[i].data[f].goals)?(this.seriesGoals[i]===void 0&&(this.seriesGoals[i]=[]),this.seriesGoals[i].push(n[i].data[f].goals)):(this.seriesGoals[i]===void 0&&(this.seriesGoals[i]=[]),this.seriesGoals[i].push(null));for(var g=0;g<n[h].data.length;g++){var v=typeof n[h].data[g].x=="string",S=Array.isArray(n[h].data[g].x),C=!S&&!!u.isValidDate(n[h].data[g].x.toString());if(v||C)if(v||s.xaxis.convertedCatToNumeric){var O=l.isBarHorizontal&&l.isRangeData;s.xaxis.type!=="datetime"||O?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[h].data[g].x)):this.twoDSeriesX.push(u.parseDate(n[h].data[g].x))}else s.xaxis.type==="datetime"?this.twoDSeriesX.push(u.parseDate(n[h].data[g].x.toString())):(l.dataFormatXNumeric=!0,l.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(n[h].data[g].x)));else S?(this.fallbackToCategory=!0,this.twoDSeriesX.push(n[h].data[g].x)):(l.isXNumeric=!0,l.dataFormatXNumeric=!0,this.twoDSeriesX.push(n[h].data[g].x))}if(n[i].data[0]&&n[i].data[0].z!==void 0){for(var L=0;L<n[i].data.length;L++)this.threeDSeries.push(n[i].data[L].z);l.isDataXYZ=!0}}},{key:"handleRangeData",value:function(n,i){var s=this.w.globals,l={};return this.isFormat2DArray()?l=this.handleRangeDataFormat("array",n,i):this.isFormatXY()&&(l=this.handleRangeDataFormat("xy",n,i)),s.seriesRangeStart.push(l.start),s.seriesRangeEnd.push(l.end),s.seriesRange.push(l.rangeUniques),s.seriesRange.forEach(function(u,h){u&&u.forEach(function(f,g){f.y.forEach(function(v,S){for(var C=0;C<f.y.length;C++)if(S!==C){var O=v.y1,L=v.y2,_=f.y[C].y1;O<=f.y[C].y2&&_<=L&&(f.overlaps.indexOf(v.rangeName)<0&&f.overlaps.push(v.rangeName),f.overlaps.indexOf(f.y[C].rangeName)<0&&f.overlaps.push(f.y[C].rangeName))}})})}),l}},{key:"handleCandleStickBoxData",value:function(n,i){var s=this.w.globals,l={};return this.isFormat2DArray()?l=this.handleCandleStickBoxDataFormat("array",n,i):this.isFormatXY()&&(l=this.handleCandleStickBoxDataFormat("xy",n,i)),s.seriesCandleO[i]=l.o,s.seriesCandleH[i]=l.h,s.seriesCandleM[i]=l.m,s.seriesCandleL[i]=l.l,s.seriesCandleC[i]=l.c,l}},{key:"handleRangeDataFormat",value:function(n,i,s){var l=[],u=[],h=i[s].data.filter(function(S,C,O){return C===O.findIndex(function(L){return L.x===S.x})}).map(function(S,C){return{x:S.x,overlaps:[],y:[]}});if(n==="array")for(var f=0;f<i[s].data.length;f++)Array.isArray(i[s].data[f])?(l.push(i[s].data[f][1][0]),u.push(i[s].data[f][1][1])):(l.push(i[s].data[f]),u.push(i[s].data[f]));else if(n==="xy")for(var g=function(S){var C=Array.isArray(i[s].data[S].y),O=E.randomId(),L=i[s].data[S].x,_={y1:C?i[s].data[S].y[0]:i[s].data[S].y,y2:C?i[s].data[S].y[1]:i[s].data[S].y,rangeName:O};i[s].data[S].rangeName=O;var B=h.findIndex(function(H){return H.x===L});h[B].y.push(_),l.push(_.y1),u.push(_.y2)},v=0;v<i[s].data.length;v++)g(v);return{start:l,end:u,rangeUniques:h}}},{key:"handleCandleStickBoxDataFormat",value:function(n,i,s){var l=this.w,u=l.config.chart.type==="boxPlot"||l.config.series[s].type==="boxPlot",h=[],f=[],g=[],v=[],S=[];if(n==="array")if(u&&i[s].data[0].length===6||!u&&i[s].data[0].length===5)for(var C=0;C<i[s].data.length;C++)h.push(i[s].data[C][1]),f.push(i[s].data[C][2]),u?(g.push(i[s].data[C][3]),v.push(i[s].data[C][4]),S.push(i[s].data[C][5])):(v.push(i[s].data[C][3]),S.push(i[s].data[C][4]));else for(var O=0;O<i[s].data.length;O++)Array.isArray(i[s].data[O][1])&&(h.push(i[s].data[O][1][0]),f.push(i[s].data[O][1][1]),u?(g.push(i[s].data[O][1][2]),v.push(i[s].data[O][1][3]),S.push(i[s].data[O][1][4])):(v.push(i[s].data[O][1][2]),S.push(i[s].data[O][1][3])));else if(n==="xy")for(var L=0;L<i[s].data.length;L++)Array.isArray(i[s].data[L].y)&&(h.push(i[s].data[L].y[0]),f.push(i[s].data[L].y[1]),u?(g.push(i[s].data[L].y[2]),v.push(i[s].data[L].y[3]),S.push(i[s].data[L].y[4])):(v.push(i[s].data[L].y[2]),S.push(i[s].data[L].y[3])));return{o:h,h:f,m:g,l:v,c:S}}},{key:"parseDataAxisCharts",value:function(n){var i,s=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,u=this.w.config,h=this.w.globals,f=new ie(l),g=u.labels.length>0?u.labels.slice():u.xaxis.categories.slice();if(h.isRangeBar=u.chart.type==="rangeBar"&&h.isBarHorizontal,h.hasXaxisGroups=u.xaxis.type==="category"&&u.xaxis.group.groups.length>0,h.hasXaxisGroups&&(h.groups=u.xaxis.group.groups),h.hasSeriesGroups=(i=n[0])===null||i===void 0?void 0:i.group,h.hasSeriesGroups){var v=[],S=P(new Set(n.map(function(_){return _.group})));n.forEach(function(_,B){var H=S.indexOf(_.group);v[H]||(v[H]=[]),v[H].push(_.name)}),h.seriesGroups=v}for(var C=function(){for(var _=0;_<g.length;_++)if(typeof g[_]=="string"){if(!f.isValidDate(g[_]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");s.twoDSeriesX.push(f.parseDate(g[_]))}else s.twoDSeriesX.push(g[_])},O=0;O<n.length;O++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],n[O].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(u.chart.type!=="rangeBar"&&u.chart.type!=="rangeArea"&&n[O].type!=="rangeBar"&&n[O].type!=="rangeArea"||(h.isRangeData=!0,h.isComboCharts?n[O].type!=="rangeBar"&&n[O].type!=="rangeArea"||this.handleRangeData(n,O):u.chart.type!=="rangeBar"&&u.chart.type!=="rangeArea"||this.handleRangeData(n,O)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(n,O):this.isFormatXY()&&this.handleFormatXY(n,O),u.chart.type!=="candlestick"&&n[O].type!=="candlestick"&&u.chart.type!=="boxPlot"&&n[O].type!=="boxPlot"||this.handleCandleStickBoxData(n,O),h.series.push(this.twoDSeries),h.labels.push(this.twoDSeriesX),h.seriesX.push(this.twoDSeriesX),h.seriesGoals=this.seriesGoals,O!==this.activeSeriesIndex||this.fallbackToCategory||(h.isXNumeric=!0);else{u.xaxis.type==="datetime"?(h.isXNumeric=!0,C(),h.seriesX.push(this.twoDSeriesX)):u.xaxis.type==="numeric"&&(h.isXNumeric=!0,g.length>0&&(this.twoDSeriesX=g,h.seriesX.push(this.twoDSeriesX))),h.labels.push(this.twoDSeriesX);var L=n[O].data.map(function(_){return E.parseNumber(_)});h.series.push(L)}h.seriesZ.push(this.threeDSeries),n[O].name!==void 0?h.seriesNames.push(n[O].name):h.seriesNames.push("series-"+parseInt(O+1,10)),n[O].color!==void 0?h.seriesColors.push(n[O].color):h.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(n){var i=this.w.globals,s=this.w.config;i.series=n.slice(),i.seriesNames=s.labels.slice();for(var l=0;l<i.series.length;l++)i.seriesNames[l]===void 0&&i.seriesNames.push("series-"+(l+1));return this.w}},{key:"handleExternalLabelsData",value:function(n){var i=this.w.config,s=this.w.globals;i.xaxis.categories.length>0?s.labels=i.xaxis.categories:i.labels.length>0?s.labels=i.labels.slice():this.fallbackToCategory?(s.labels=s.labels[0],s.seriesRange.length&&(s.seriesRange.map(function(l){l.forEach(function(u){s.labels.indexOf(u.x)<0&&u.x&&s.labels.push(u.x)})}),s.labels=s.labels.filter(function(l,u,h){return h.indexOf(l)===u})),i.xaxis.convertedCatToNumeric&&(new Ee(i).convertCatToNumericXaxis(i,this.ctx,s.seriesX[0]),this._generateExternalLabels(n))):this._generateExternalLabels(n)}},{key:"_generateExternalLabels",value:function(n){var i=this.w.globals,s=this.w.config,l=[];if(i.axisCharts){if(i.series.length>0)if(this.isFormatXY())for(var u=s.series.map(function(C,O){return C.data.filter(function(L,_,B){return B.findIndex(function(H){return H.x===L.x})===_})}),h=u.reduce(function(C,O,L,_){return _[C].length>O.length?C:L},0),f=0;f<u[h].length;f++)l.push(f+1);else for(var g=0;g<i.series[i.maxValsInArrayIndex].length;g++)l.push(g+1);i.seriesX=[];for(var v=0;v<n.length;v++)i.seriesX.push(l);i.isXNumeric=!0}if(l.length===0){l=i.axisCharts?[]:i.series.map(function(C,O){return O+1});for(var S=0;S<n.length;S++)i.seriesX.push(l)}i.labels=l,s.xaxis.convertedCatToNumeric&&(i.categoryLabels=l.map(function(C){return s.xaxis.labels.formatter(C)})),i.noLabelsProvided=!0}},{key:"parseData",value:function(n){var i=this.w,s=i.config,l=i.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),l.axisCharts?(this.parseDataAxisCharts(n),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(n),s.chart.type==="bar"&&s.chart.stacked){var u=new re(this.ctx);l.series=u.setNullSeriesToZeroValues(l.series)}this.coreUtils.getSeriesTotals(),l.axisCharts&&(l.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals()),this.coreUtils.getPercentSeries(),l.dataFormatXNumeric||l.isXNumeric&&(s.xaxis.type!=="numeric"||s.labels.length!==0||s.xaxis.categories.length!==0)||this.handleExternalLabelsData(n);for(var h=this.coreUtils.getCategoryLabels(l.labels),f=0;f<h.length;f++)if(Array.isArray(h[f])){l.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var n=this,i=this.w;i.globals.ignoreYAxisIndexes=i.globals.collapsedSeries.map(function(s,l){if(n.w.globals.isMultipleYAxis&&!i.config.chart.stacked)return s.index})}}]),Y}(),xe=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"getLabel",value:function(n,i,s,l){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",f=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],g=this.w,v=n[l]===void 0?"":n[l],S=v,C=g.globals.xLabelFormatter,O=g.config.xaxis.labels.formatter,L=!1,_=new oe(this.ctx),B=v;f&&(S=_.xLabelFormat(C,v,B,{i:l,dateFormatter:new ie(this.ctx).formatDate,w:g}),O!==void 0&&(S=O(v,n[l],{i:l,dateFormatter:new ie(this.ctx).formatDate,w:g})));var H,$;i.length>0?(H=i[l].unit,$=null,i.forEach(function(z){z.unit==="month"?$="year":z.unit==="day"?$="month":z.unit==="hour"?$="day":z.unit==="minute"&&($="hour")}),L=$===H,s=i[l].position,S=i[l].value):g.config.xaxis.type==="datetime"&&O===void 0&&(S=""),S===void 0&&(S=""),S=Array.isArray(S)?S:S.toString();var J=new R(this.ctx),y={};y=g.globals.rotateXLabels&&f?J.getTextRects(S,parseInt(h,10),null,"rotate(".concat(g.config.xaxis.labels.rotate," 0 0)"),!1):J.getTextRects(S,parseInt(h,10));var M=!g.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(S)&&(S.indexOf("NaN")===0||S.toLowerCase().indexOf("invalid")===0||S.toLowerCase().indexOf("infinity")>=0||u.indexOf(S)>=0&&M)&&(S=""),{x:s,text:S,textRect:y,isBold:L}}},{key:"checkLabelBasedOnTickamount",value:function(n,i,s){var l=this.w,u=l.config.xaxis.tickAmount;return u==="dataPoints"&&(u=Math.round(l.globals.gridWidth/120)),u>s||n%Math.round(s/(u+1))==0||(i.text=""),i}},{key:"checkForOverflowingLabels",value:function(n,i,s,l,u){var h=this.w;if(n===0&&h.globals.skipFirstTimelinelabel&&(i.text=""),n===s-1&&h.globals.skipLastTimelinelabel&&(i.text=""),h.config.xaxis.labels.hideOverlappingLabels&&l.length>0){var f=u[u.length-1];i.x<f.textRect.width/(h.globals.rotateXLabels?Math.abs(h.config.xaxis.labels.rotate)/12:1.01)+f.x&&(i.text="")}return i}},{key:"checkForReversedLabels",value:function(n,i){var s=this.w;return s.config.yaxis[n]&&s.config.yaxis[n].reversed&&i.reverse(),i}},{key:"isYAxisHidden",value:function(n){var i=this.w,s=new G(this.ctx);return!i.config.yaxis[n].show||!i.config.yaxis[n].showForNullSeries&&s.isSeriesNull(n)&&i.globals.collapsedSeriesIndices.indexOf(n)===-1}},{key:"getYAxisForeColor",value:function(n,i){var s=this.w;return Array.isArray(n)&&s.globals.yAxisScale[i]&&this.ctx.theme.pushExtraColors(n,s.globals.yAxisScale[i].result.length,!1),n}},{key:"drawYAxisTicks",value:function(n,i,s,l,u,h,f){var g=this.w,v=new R(this.ctx),S=g.globals.translateY;if(l.show&&i>0){g.config.yaxis[u].opposite===!0&&(n+=l.width);for(var C=i;C>=0;C--){var O=S+i/10+g.config.yaxis[u].labels.offsetY-1;g.globals.isBarHorizontal&&(O=h*C),g.config.chart.type==="heatmap"&&(O+=h/2);var L=v.drawLine(n+s.offsetX-l.width+l.offsetX,O+l.offsetY,n+s.offsetX+l.offsetX,O+l.offsetY,l.color);f.add(L),S+=h}}}}]),Y}(),be=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"scaleSvgNode",value:function(n,i){var s=parseFloat(n.getAttributeNS(null,"width")),l=parseFloat(n.getAttributeNS(null,"height"));n.setAttributeNS(null,"width",s*i),n.setAttributeNS(null,"height",l*i),n.setAttributeNS(null,"viewBox","0 0 "+s+" "+l)}},{key:"fixSvgStringForIe11",value:function(n){if(!E.isIE11())return n.replace(/&nbsp;/g,"&#160;");var i=0,s=n.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(l){return++i===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':l});return s=(s=s.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(n){n==null&&(n=1);var i=this.w.globals.dom.Paper.svg();if(n!==1){var s=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(s,n),i=new XMLSerializer().serializeToString(s)}return this.fixSvgStringForIe11(i)}},{key:"cleanup",value:function(){var n=this.w,i=n.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),s=n.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),l=n.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(l,function(u){u.setAttribute("width",0)}),i&&i[0]&&(i[0].setAttribute("x",-500),i[0].setAttribute("x1",-500),i[0].setAttribute("x2",-500)),s&&s[0]&&(s[0].setAttribute("y",-100),s[0].setAttribute("y1",-100),s[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var n=this.getSvgString(),i=new Blob([n],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(i)}},{key:"dataURI",value:function(n){var i=this;return new Promise(function(s){var l=i.w,u=n?n.scale||n.width/l.globals.svgWidth:1;i.cleanup();var h=document.createElement("canvas");h.width=l.globals.svgWidth*u,h.height=parseInt(l.globals.dom.elWrap.style.height,10)*u;var f=l.config.chart.background==="transparent"?"#fff":l.config.chart.background,g=h.getContext("2d");g.fillStyle=f,g.fillRect(0,0,h.width*u,h.height*u);var v=i.getSvgString(u);if(window.canvg&&E.isIE11()){var S=window.canvg.Canvg.fromString(g,v,{ignoreClear:!0,ignoreDimensions:!0});S.start();var C=h.msToBlob();S.stop(),s({blob:C})}else{var O="data:image/svg+xml,"+encodeURIComponent(v),L=new Image;L.crossOrigin="anonymous",L.onload=function(){if(g.drawImage(L,0,0),h.msToBlob){var _=h.msToBlob();s({blob:_})}else{var B=h.toDataURL("image/png");s({imgURI:B})}},L.src=O}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var n=this;this.dataURI().then(function(i){var s=i.imgURI,l=i.blob;l?navigator.msSaveOrOpenBlob(l,n.w.globals.chartID+".png"):n.triggerDownload(s,n.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(n){var i=this,s=n.series,l=n.fileName,u=n.columnDelimiter,h=u===void 0?",":u,f=n.lineDelimiter,g=f===void 0?`
`:f,v=this.w;s||(s=v.config.series);var S=[],C=[],O="",L=v.globals.series.map(function(y,M){return v.globals.collapsedSeriesIndices.indexOf(M)===-1?y:[]}),_=Math.max.apply(Math,P(s.map(function(y){return y.data?y.data.length:0}))),B=new de(this.ctx),H=new xe(this.ctx),$=function(y){var M="";if(v.globals.axisCharts){if(v.config.xaxis.type==="category"||v.config.xaxis.convertedCatToNumeric)if(v.globals.isBarHorizontal){var z=v.globals.yLabelFormatters[0],V=new re(i.ctx).getActiveConfigSeriesIndex();M=z(v.globals.labels[y],{seriesIndex:V,dataPointIndex:y,w:v})}else M=H.getLabel(v.globals.labels,v.globals.timescaleLabels,0,y).text;v.config.xaxis.type==="datetime"&&(v.config.xaxis.categories.length?M=v.config.xaxis.categories[y]:v.config.labels.length&&(M=v.config.labels[y]))}else M=v.config.labels[y];return Array.isArray(M)&&(M=M.join(" ")),E.isNumber(M)?M:M.split(h).join("")},J=function(y,M){if(S.length&&M===0&&C.push(S.join(h)),y.data){y.data=y.data.length&&y.data||P(Array(_)).map(function(){return""});for(var z=0;z<y.data.length;z++){S=[];var V=$(z);if(V||(B.isFormatXY()?V=s[M].data[z].x:B.isFormat2DArray()&&(V=s[M].data[z]?s[M].data[z][0]:"")),M===0){S.push((ee=V,v.config.xaxis.type==="datetime"&&String(ee).length>=10?v.config.chart.toolbar.export.csv.dateFormatter(V):E.isNumber(V)?V:V.split(h).join("")));for(var Q=0;Q<v.globals.series.length;Q++)B.isFormatXY()?S.push(s[Q].data[z].y):S.push(L[Q][z])}(v.config.chart.type==="candlestick"||y.type&&y.type==="candlestick")&&(S.pop(),S.push(v.globals.seriesCandleO[M][z]),S.push(v.globals.seriesCandleH[M][z]),S.push(v.globals.seriesCandleL[M][z]),S.push(v.globals.seriesCandleC[M][z])),(v.config.chart.type==="boxPlot"||y.type&&y.type==="boxPlot")&&(S.pop(),S.push(v.globals.seriesCandleO[M][z]),S.push(v.globals.seriesCandleH[M][z]),S.push(v.globals.seriesCandleM[M][z]),S.push(v.globals.seriesCandleL[M][z]),S.push(v.globals.seriesCandleC[M][z])),v.config.chart.type==="rangeBar"&&(S.pop(),S.push(v.globals.seriesRangeStart[M][z]),S.push(v.globals.seriesRangeEnd[M][z])),S.length&&C.push(S.join(h))}}var ee};S.push(v.config.chart.toolbar.export.csv.headerCategory),v.config.chart.type==="boxPlot"?(S.push("minimum"),S.push("q1"),S.push("median"),S.push("q3"),S.push("maximum")):v.config.chart.type==="candlestick"?(S.push("open"),S.push("high"),S.push("low"),S.push("close")):v.config.chart.type==="rangeBar"?(S.push("minimum"),S.push("maximum")):s.map(function(y,M){var z=y.name?y.name:"series-".concat(M);v.globals.axisCharts&&S.push(z.split(h).join("")?z.split(h).join(""):"series-".concat(M))}),v.globals.axisCharts||(S.push(v.config.chart.toolbar.export.csv.headerValue),C.push(S.join(h))),s.map(function(y,M){v.globals.axisCharts?J(y,M):((S=[]).push(v.globals.labels[M].split(h).join("")),S.push(L[M]),C.push(S.join(h)))}),O+=C.join(g),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+O),l||v.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(n,i,s){var l=document.createElement("a");l.href=n,l.download=(i||this.w.globals.chartID)+s,document.body.appendChild(l),l.click(),document.body.removeChild(l)}}]),Y}(),Oe=function(){function Y(n,i){c(this,Y),this.ctx=n,this.elgrid=i,this.w=n.w;var s=this.w;this.axesUtils=new xe(n),this.xaxisLabels=s.globals.labels.slice(),s.globals.timescaleLabels.length>0&&!s.globals.isBarHorizontal&&(this.xaxisLabels=s.globals.timescaleLabels.slice()),s.config.xaxis.overwriteCategories&&(this.xaxisLabels=s.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],s.config.xaxis.position==="top"?this.offY=0:this.offY=s.globals.gridHeight+1,this.offY=this.offY+s.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.xaxisBorderWidth=s.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=s.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=s.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=s.config.xaxis.axisBorder.height,this.yaxis=s.config.yaxis[0]}return p(Y,[{key:"drawXaxis",value:function(){var n=this.w,i=new R(this.ctx),s=i.group({class:"apexcharts-xaxis",transform:"translate(".concat(n.config.xaxis.offsetX,", ").concat(n.config.xaxis.offsetY,")")}),l=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(n.globals.translateXAxisX,", ").concat(n.globals.translateXAxisY,")")});s.add(l);for(var u=[],h=0;h<this.xaxisLabels.length;h++)u.push(this.xaxisLabels[h]);if(this.drawXAxisLabelAndGroup(!0,i,l,u,n.globals.isXNumeric,function(_,B){return B}),n.globals.hasXaxisGroups){var f=n.globals.groups;u=[];for(var g=0;g<f.length;g++)u.push(f[g].title);var v={};n.config.xaxis.group.style&&(v.xaxisFontSize=n.config.xaxis.group.style.fontSize,v.xaxisFontFamily=n.config.xaxis.group.style.fontFamily,v.xaxisForeColors=n.config.xaxis.group.style.colors,v.fontWeight=n.config.xaxis.group.style.fontWeight,v.cssClass=n.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,i,l,u,!1,function(_,B){return f[_].cols*B},v)}if(n.config.xaxis.title.text!==void 0){var S=i.group({class:"apexcharts-xaxis-title"}),C=i.drawText({x:n.globals.gridWidth/2+n.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(n.config.xaxis.position==="bottom"?n.globals.xAxisLabelsHeight:-n.globals.xAxisLabelsHeight-10)+n.config.xaxis.title.offsetY,text:n.config.xaxis.title.text,textAnchor:"middle",fontSize:n.config.xaxis.title.style.fontSize,fontFamily:n.config.xaxis.title.style.fontFamily,fontWeight:n.config.xaxis.title.style.fontWeight,foreColor:n.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+n.config.xaxis.title.style.cssClass});S.add(C),s.add(S)}if(n.config.xaxis.axisBorder.show){var O=n.globals.barPadForNumericAxis,L=i.drawLine(n.globals.padHorizontal+n.config.xaxis.axisBorder.offsetX-O,this.offY,this.xaxisBorderWidth+O,this.offY,n.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(L):s.add(L)}return s}},{key:"drawXAxisLabelAndGroup",value:function(n,i,s,l,u,h){var f,g=this,v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},S=[],C=[],O=this.w,L=v.xaxisFontSize||this.xaxisFontSize,_=v.xaxisFontFamily||this.xaxisFontFamily,B=v.xaxisForeColors||this.xaxisForeColors,H=v.fontWeight||O.config.xaxis.labels.style.fontWeight,$=v.cssClass||O.config.xaxis.labels.style.cssClass,J=O.globals.padHorizontal,y=l.length,M=O.config.xaxis.type==="category"?O.globals.dataPoints:y;if(M===0&&y>M&&(M=y),u){var z=M>1?M-1:M;f=O.globals.gridWidth/z,J=J+h(0,f)/2+O.config.xaxis.labels.offsetX}else f=O.globals.gridWidth/M,J=J+h(0,f)+O.config.xaxis.labels.offsetX;for(var V=function(ee){var ue=J-h(ee,f)/2+O.config.xaxis.labels.offsetX;ee===0&&y===1&&f/2===J&&M===1&&(ue=O.globals.gridWidth/2);var he=g.axesUtils.getLabel(l,O.globals.timescaleLabels,ue,ee,S,L,n),ke=28;if(O.globals.rotateXLabels&&n&&(ke=22),O.config.xaxis.title.text&&O.config.xaxis.position==="top"&&(ke+=parseFloat(O.config.xaxis.title.style.fontSize)+2),n||(ke=ke+parseFloat(L)+(O.globals.xAxisLabelsHeight-O.globals.xAxisGroupLabelsHeight)+(O.globals.rotateXLabels?10:0)),he=O.config.xaxis.tickAmount!==void 0&&O.config.xaxis.tickAmount!=="dataPoints"&&O.config.xaxis.type!=="datetime"?g.axesUtils.checkLabelBasedOnTickamount(ee,he,y):g.axesUtils.checkForOverflowingLabels(ee,he,y,S,C),O.config.xaxis.labels.show){var Ce=i.drawText({x:he.x,y:g.offY+O.config.xaxis.labels.offsetY+ke-(O.config.xaxis.position==="top"?O.globals.xAxisHeight+O.config.xaxis.axisTicks.height-2:0),text:he.text,textAnchor:"middle",fontWeight:he.isBold?600:H,fontSize:L,fontFamily:_,foreColor:Array.isArray(B)?n&&O.config.xaxis.convertedCatToNumeric?B[O.globals.minX+ee-1]:B[ee]:B,isPlainText:!1,cssClass:(n?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+$});if(s.add(Ce),Ce.on("click",function(Ne){if(typeof O.config.chart.events.xAxisLabelClick=="function"){var Ge=Object.assign({},O,{labelIndex:ee});O.config.chart.events.xAxisLabelClick(Ne,g.ctx,Ge)}}),n){var Te=document.createElementNS(O.globals.SVGNS,"title");Te.textContent=Array.isArray(he.text)?he.text.join(" "):he.text,Ce.node.appendChild(Te),he.text!==""&&(S.push(he.text),C.push(he))}}ee<y-1&&(J+=h(ee+1,f))},Q=0;Q<=y-1;Q++)V(Q)}},{key:"drawXaxisInversed",value:function(n){var i,s,l=this,u=this.w,h=new R(this.ctx),f=u.config.yaxis[0].opposite?u.globals.translateYAxisX[n]:0,g=h.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:n}),v=h.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+f+", 0)"});g.add(v);var S=[];if(u.config.yaxis[n].show)for(var C=0;C<this.xaxisLabels.length;C++)S.push(this.xaxisLabels[C]);i=u.globals.gridHeight/S.length,s=-i/2.2;var O=u.globals.yLabelFormatters[0],L=u.config.yaxis[0].labels;if(L.show)for(var _=function(z){var V=S[z]===void 0?"":S[z];V=O(V,{seriesIndex:n,dataPointIndex:z,w:u});var Q=l.axesUtils.getYAxisForeColor(L.style.colors,n),ee=0;Array.isArray(V)&&(ee=V.length/2*parseInt(L.style.fontSize,10));var ue=L.offsetX-15,he="end";l.yaxis.opposite&&(he="start"),u.config.yaxis[0].labels.align==="left"?(ue=L.offsetX,he="start"):u.config.yaxis[0].labels.align==="center"?(ue=L.offsetX,he="middle"):u.config.yaxis[0].labels.align==="right"&&(he="end");var ke=h.drawText({x:ue,y:s+i+L.offsetY-ee,text:V,textAnchor:he,foreColor:Array.isArray(Q)?Q[z]:Q,fontSize:L.style.fontSize,fontFamily:L.style.fontFamily,fontWeight:L.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+L.style.cssClass,maxWidth:L.maxWidth});v.add(ke),ke.on("click",function(Ne){if(typeof u.config.chart.events.xAxisLabelClick=="function"){var Ge=Object.assign({},u,{labelIndex:z});u.config.chart.events.xAxisLabelClick(Ne,l.ctx,Ge)}});var Ce=document.createElementNS(u.globals.SVGNS,"title");if(Ce.textContent=Array.isArray(V)?V.join(" "):V,ke.node.appendChild(Ce),u.config.yaxis[n].labels.rotate!==0){var Te=h.rotateAroundCenter(ke.node);ke.node.setAttribute("transform","rotate(".concat(u.config.yaxis[n].labels.rotate," 0 ").concat(Te.y,")"))}s+=i},B=0;B<=S.length-1;B++)_(B);if(u.config.yaxis[0].title.text!==void 0){var H=h.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+f+", 0)"}),$=h.drawText({x:u.config.yaxis[0].title.offsetX,y:u.globals.gridHeight/2+u.config.yaxis[0].title.offsetY,text:u.config.yaxis[0].title.text,textAnchor:"middle",foreColor:u.config.yaxis[0].title.style.color,fontSize:u.config.yaxis[0].title.style.fontSize,fontWeight:u.config.yaxis[0].title.style.fontWeight,fontFamily:u.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+u.config.yaxis[0].title.style.cssClass});H.add($),g.add(H)}var J=0;this.isCategoryBarHorizontal&&u.config.yaxis[0].opposite&&(J=u.globals.gridWidth);var y=u.config.xaxis.axisBorder;if(y.show){var M=h.drawLine(u.globals.padHorizontal+y.offsetX+J,1+y.offsetY,u.globals.padHorizontal+y.offsetX+J,u.globals.gridHeight+y.offsetY,y.color,0);this.elgrid&&this.elgrid.elGridBorders&&u.config.grid.show?this.elgrid.elGridBorders.add(M):g.add(M)}return u.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(J,S.length,u.config.yaxis[0].axisBorder,u.config.yaxis[0].axisTicks,0,i,g),g}},{key:"drawXaxisTicks",value:function(n,i,s){var l=this.w,u=n;if(!(n<0||n-2>l.globals.gridWidth)){var h=this.offY+l.config.xaxis.axisTicks.offsetY;if(i=i+h+l.config.xaxis.axisTicks.height,l.config.xaxis.position==="top"&&(i=h-l.config.xaxis.axisTicks.height),l.config.xaxis.axisTicks.show){var f=new R(this.ctx).drawLine(n+l.config.xaxis.axisTicks.offsetX,h+l.config.xaxis.offsetY,u+l.config.xaxis.axisTicks.offsetX,i+l.config.xaxis.offsetY,l.config.xaxis.axisTicks.color);s.add(f),f.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var n=this.w,i=[],s=this.xaxisLabels.length,l=n.globals.padHorizontal;if(n.globals.timescaleLabels.length>0)for(var u=0;u<s;u++)l=this.xaxisLabels[u].position,i.push(l);else for(var h=s,f=0;f<h;f++){var g=h;n.globals.isXNumeric&&n.config.chart.type!=="bar"&&(g-=1),l+=n.globals.gridWidth/g,i.push(l)}return i}},{key:"xAxisLabelCorrections",value:function(){var n=this.w,i=new R(this.ctx),s=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),l=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),u=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),h=n.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(n.globals.rotateXLabels||n.config.xaxis.labels.rotateAlways)for(var f=0;f<l.length;f++){var g=i.rotateAroundCenter(l[f]);g.y=g.y-1,g.x=g.x+1,l[f].setAttribute("transform","rotate(".concat(n.config.xaxis.labels.rotate," ").concat(g.x," ").concat(g.y,")")),l[f].setAttribute("text-anchor","end"),s.setAttribute("transform","translate(0, ".concat(-10,")"));var v=l[f].childNodes;n.config.xaxis.labels.trim&&Array.prototype.forEach.call(v,function(L){i.placeTextWithEllipsis(L,L.textContent,n.globals.xAxisLabelsHeight-(n.config.legend.position==="bottom"?20:10))})}else(function(){for(var L=n.globals.gridWidth/(n.globals.labels.length+1),_=0;_<l.length;_++){var B=l[_].childNodes;n.config.xaxis.labels.trim&&n.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(B,function(H){i.placeTextWithEllipsis(H,H.textContent,L)})}})();if(u.length>0){var S=u[u.length-1].getBBox(),C=u[0].getBBox();S.x<-20&&u[u.length-1].parentNode.removeChild(u[u.length-1]),C.x+C.width>n.globals.gridWidth&&!n.globals.isBarHorizontal&&u[0].parentNode.removeChild(u[0]);for(var O=0;O<h.length;O++)i.placeTextWithEllipsis(h[O],h[O].textContent,n.config.yaxis[0].labels.maxWidth-(n.config.yaxis[0].title.text?2*parseFloat(n.config.yaxis[0].title.style.fontSize):0)-15)}}}]),Y}(),ze=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w;var i=this.w;this.xaxisLabels=i.globals.labels.slice(),this.axesUtils=new xe(n),this.isRangeBar=i.globals.seriesRange.length,i.globals.timescaleLabels.length>0&&(this.xaxisLabels=i.globals.timescaleLabels.slice())}return p(Y,[{key:"drawGridArea",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this.w,s=new R(this.ctx);n===null&&(n=s.group({class:"apexcharts-grid"}));var l=s.drawLine(i.globals.padHorizontal,1,i.globals.padHorizontal,i.globals.gridHeight,"transparent"),u=s.drawLine(i.globals.padHorizontal,i.globals.gridHeight,i.globals.gridWidth,i.globals.gridHeight,"transparent");return n.add(u),n.add(l),n}},{key:"drawGrid",value:function(){var n=null;return this.w.globals.axisCharts&&(n=this.renderGrid(),this.drawGridArea(n.el)),n}},{key:"createGridMask",value:function(){var n=this.w,i=n.globals,s=new R(this.ctx),l=Array.isArray(n.config.stroke.width)?0:n.config.stroke.width;if(Array.isArray(n.config.stroke.width)){var u=0;n.config.stroke.width.forEach(function(C){u=Math.max(u,C)}),l=u}i.dom.elGridRectMask=document.createElementNS(i.SVGNS,"clipPath"),i.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(i.cuid)),i.dom.elGridRectMarkerMask=document.createElementNS(i.SVGNS,"clipPath"),i.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(i.cuid)),i.dom.elForecastMask=document.createElementNS(i.SVGNS,"clipPath"),i.dom.elForecastMask.setAttribute("id","forecastMask".concat(i.cuid)),i.dom.elNonForecastMask=document.createElementNS(i.SVGNS,"clipPath"),i.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(i.cuid));var h=n.config.chart.type,f=0,g=0;(h==="bar"||h==="rangeBar"||h==="candlestick"||h==="boxPlot"||n.globals.comboBarCount>0)&&n.globals.isXNumeric&&!n.globals.isBarHorizontal&&(f=n.config.grid.padding.left,g=n.config.grid.padding.right,i.barPadForNumericAxis>f&&(f=i.barPadForNumericAxis,g=i.barPadForNumericAxis)),i.dom.elGridRect=s.drawRect(-l/2-f-2,-l/2,i.gridWidth+l+g+f+4,i.gridHeight+l,0,"#fff");var v=n.globals.markers.largestSize+1;i.dom.elGridRectMarker=s.drawRect(2*-v,2*-v,i.gridWidth+4*v,i.gridHeight+4*v,0,"#fff"),i.dom.elGridRectMask.appendChild(i.dom.elGridRect.node),i.dom.elGridRectMarkerMask.appendChild(i.dom.elGridRectMarker.node);var S=i.dom.baseEl.querySelector("defs");S.appendChild(i.dom.elGridRectMask),S.appendChild(i.dom.elForecastMask),S.appendChild(i.dom.elNonForecastMask),S.appendChild(i.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(n){var i=n.i,s=n.x1,l=n.y1,u=n.x2,h=n.y2,f=n.xCount,g=n.parent,v=this.w;if(!(i===0&&v.globals.skipFirstTimelinelabel||i===f-1&&v.globals.skipLastTimelinelabel&&!v.config.xaxis.labels.formatter||v.config.chart.type==="radar")){v.config.grid.xaxis.lines.show&&this._drawGridLine({i,x1:s,y1:l,x2:u,y2:h,xCount:f,parent:g});var S=0;if(v.globals.hasXaxisGroups&&v.config.xaxis.tickPlacement==="between"){var C=v.globals.groups;if(C){for(var O=0,L=0;O<i&&L<C.length;L++)O+=C[L].cols;O===i&&(S=.6*v.globals.xAxisLabelsHeight)}}new Oe(this.ctx).drawXaxisTicks(s,S,v.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(n){var i=n.i,s=n.x1,l=n.y1,u=n.x2,h=n.y2,f=n.xCount,g=n.parent,v=this.w,S=!1,C=g.node.classList.contains("apexcharts-gridlines-horizontal"),O=v.config.grid.strokeDashArray,L=v.globals.barPadForNumericAxis;(l===0&&h===0||s===0&&u===0)&&(S=!0),l===v.globals.gridHeight&&h===v.globals.gridHeight&&(S=!0),!v.globals.isBarHorizontal||i!==0&&i!==f-1||(S=!0);var _=new R(this).drawLine(s-(C?L:0),l,u+(C?L:0),h,v.config.grid.borderColor,O);_.node.classList.add("apexcharts-gridline"),S&&v.config.grid.show?this.elGridBorders.add(_):g.add(_)}},{key:"_drawGridBandRect",value:function(n){var i=n.c,s=n.x1,l=n.y1,u=n.x2,h=n.y2,f=n.type,g=this.w,v=new R(this.ctx),S=g.globals.barPadForNumericAxis;if(f!=="column"||g.config.xaxis.type!=="datetime"){var C=g.config.grid[f].colors[i],O=v.drawRect(s-(f==="row"?S:0),l,u+(f==="row"?2*S:0),h,0,C,g.config.grid[f].opacity);this.elg.add(O),O.attr("clip-path","url(#gridRectMask".concat(g.globals.cuid,")")),O.node.classList.add("apexcharts-grid-".concat(f))}}},{key:"_drawXYLines",value:function(n){var i=this,s=n.xCount,l=n.tickAmount,u=this.w;if(u.config.grid.xaxis.lines.show||u.config.xaxis.axisTicks.show){var h,f=u.globals.padHorizontal,g=u.globals.gridHeight;u.globals.timescaleLabels.length?function(_){for(var B=_.xC,H=_.x1,$=_.y1,J=_.x2,y=_.y2,M=0;M<B;M++)H=i.xaxisLabels[M].position,J=i.xaxisLabels[M].position,i._drawGridLines({i:M,x1:H,y1:$,x2:J,y2:y,xCount:s,parent:i.elgridLinesV})}({xC:s,x1:f,y1:0,x2:h,y2:g}):(u.globals.isXNumeric&&(s=u.globals.xAxisScale.result.length),function(_){for(var B=_.xC,H=_.x1,$=_.y1,J=_.x2,y=_.y2,M=0;M<B+(u.globals.isXNumeric?0:1);M++)M===0&&B===1&&u.globals.dataPoints===1&&(J=H=u.globals.gridWidth/2),i._drawGridLines({i:M,x1:H,y1:$,x2:J,y2:y,xCount:s,parent:i.elgridLinesV}),J=H+=u.globals.gridWidth/(u.globals.isXNumeric?B-1:B)}({xC:s,x1:f,y1:0,x2:h,y2:g}))}if(u.config.grid.yaxis.lines.show){var v=0,S=0,C=u.globals.gridWidth,O=l+1;this.isRangeBar&&(O=u.globals.labels.length);for(var L=0;L<O+(this.isRangeBar?1:0);L++)this._drawGridLine({i:L,xCount:O+(this.isRangeBar?1:0),x1:0,y1:v,x2:C,y2:S,parent:this.elgridLinesH}),S=v+=u.globals.gridHeight/(this.isRangeBar?O:l)}}},{key:"_drawInvertedXYLines",value:function(n){var i=n.xCount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show)for(var l,u=s.globals.padHorizontal,h=s.globals.gridHeight,f=0;f<i+1;f++)s.config.grid.xaxis.lines.show&&this._drawGridLine({i:f,xCount:i+1,x1:u,y1:0,x2:l,y2:h,parent:this.elgridLinesV}),new Oe(this.ctx).drawXaxisTicks(u,0,s.globals.dom.elGraphical),l=u=u+s.globals.gridWidth/i+.3;if(s.config.grid.yaxis.lines.show)for(var g=0,v=0,S=s.globals.gridWidth,C=0;C<s.globals.dataPoints+1;C++)this._drawGridLine({i:C,xCount:s.globals.dataPoints+1,x1:0,y1:g,x2:S,y2:v,parent:this.elgridLinesH}),v=g+=s.globals.gridHeight/s.globals.dataPoints}},{key:"renderGrid",value:function(){var n=this.w,i=new R(this.ctx);this.elg=i.group({class:"apexcharts-grid"}),this.elgridLinesH=i.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=i.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=i.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),n.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var s,l=n.globals.yAxisScale.length?n.globals.yAxisScale[0].result.length-1:5,u=0;u<n.globals.series.length&&(n.globals.yAxisScale[u]!==void 0&&(l=n.globals.yAxisScale[u].result.length-1),!(l>2));u++);return!n.globals.isBarHorizontal||this.isRangeBar?(s=this.xaxisLabels.length,this.isRangeBar&&(s--,l=n.globals.labels.length,n.config.xaxis.tickAmount&&n.config.xaxis.labels.formatter&&(s=n.config.xaxis.tickAmount)),this._drawXYLines({xCount:s,tickAmount:l})):(s=l,l=n.globals.xTickAmount,this._drawInvertedXYLines({xCount:s,tickAmount:l})),this.drawGridBands(s,l),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:n.globals.gridWidth/s}}},{key:"drawGridBands",value:function(n,i){var s=this.w;if(s.config.grid.row.colors!==void 0&&s.config.grid.row.colors.length>0)for(var l=0,u=s.globals.gridHeight/i,h=s.globals.gridWidth,f=0,g=0;f<i;f++,g++)g>=s.config.grid.row.colors.length&&(g=0),this._drawGridBandRect({c:g,x1:0,y1:l,x2:h,y2:u,type:"row"}),l+=s.globals.gridHeight/i;if(s.config.grid.column.colors!==void 0&&s.config.grid.column.colors.length>0)for(var v=s.globals.isBarHorizontal||s.config.xaxis.type!=="category"&&!s.config.xaxis.convertedCatToNumeric?n:n-1,S=s.globals.padHorizontal,C=s.globals.padHorizontal+s.globals.gridWidth/v,O=s.globals.gridHeight,L=0,_=0;L<n;L++,_++)_>=s.config.grid.column.colors.length&&(_=0),this._drawGridBandRect({c:_,x1:S,y1:0,x2:C,y2:O,type:"column"}),S+=s.globals.gridWidth/v}}]),Y}(),We=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"niceScale",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4?arguments[4]:void 0,h=this.w,f=Math.abs(i-n);if((s=this._adjustTicksForSmallRange(s,l,f))==="dataPoints"&&(s=h.globals.dataPoints-1),n===Number.MIN_VALUE&&i===0||!E.isNumber(n)&&!E.isNumber(i)||n===Number.MIN_VALUE&&i===-Number.MAX_VALUE)return n=0,i=s,this.linearScale(n,i,s);n>i?(console.warn("axis.min cannot be greater than axis.max"),i=n+.1):n===i&&(n=n===0?0:n-.5,i=i===0?2:i+.5);var g=[];f<1&&u&&(h.config.chart.type==="candlestick"||h.config.series[l].type==="candlestick"||h.config.chart.type==="boxPlot"||h.config.series[l].type==="boxPlot"||h.globals.isRangeData)&&(i*=1.01);var v=s+1;v<2?v=2:v>2&&(v-=2);var S=f/v,C=Math.floor(E.log10(S)),O=Math.pow(10,C),L=Math.round(S/O);L<1&&(L=1);var _=L*O,B=_*Math.floor(n/_),H=_*Math.ceil(i/_),$=B;if(u&&f>2){for(;g.push($),!(($+=_)>H););return{result:g,niceMin:g[0],niceMax:g[g.length-1]}}var J=n;(g=[]).push(J);for(var y=Math.abs(i-n)/s,M=0;M<=s;M++)J+=y,g.push(J);return g[g.length-2]>=i&&g.pop(),{result:g,niceMin:g[0],niceMax:g[g.length-1]}}},{key:"linearScale",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,l=arguments.length>3?arguments[3]:void 0,u=Math.abs(i-n);(s=this._adjustTicksForSmallRange(s,l,u))==="dataPoints"&&(s=this.w.globals.dataPoints-1);var h=u/s;s===Number.MAX_VALUE&&(s=10,h=1);for(var f=[],g=n;s>=0;)f.push(g),g+=h,s-=1;return{result:f,niceMin:f[0],niceMax:f[f.length-1]}}},{key:"logarithmicScaleNice",value:function(n,i,s){i<=0&&(i=Math.max(n,s)),n<=0&&(n=Math.min(i,s));for(var l=[],u=Math.ceil(Math.log(i)/Math.log(s)+1),h=Math.floor(Math.log(n)/Math.log(s));h<u;h++)l.push(Math.pow(s,h));return{result:l,niceMin:l[0],niceMax:l[l.length-1]}}},{key:"logarithmicScale",value:function(n,i,s){i<=0&&(i=Math.max(n,s)),n<=0&&(n=Math.min(i,s));for(var l=[],u=Math.log(i)/Math.log(s),h=Math.log(n)/Math.log(s),f=u-h,g=Math.round(f),v=f/g,S=0,C=h;S<g;S++,C+=v)l.push(Math.pow(s,C));return l.push(Math.pow(s,u)),{result:l,niceMin:n,niceMax:i}}},{key:"_adjustTicksForSmallRange",value:function(n,i,s){var l=n;if(i!==void 0&&this.w.config.yaxis[i].labels.formatter&&this.w.config.yaxis[i].tickAmount===void 0){var u=Number(this.w.config.yaxis[i].labels.formatter(1));E.isNumber(u)&&this.w.globals.yValueDecimal===0&&(l=Math.ceil(s))}return l<n?l:n}},{key:"setYScaleForIndex",value:function(n,i,s){var l=this.w.globals,u=this.w.config,h=l.isBarHorizontal?u.xaxis:u.yaxis[n];l.yAxisScale[n]===void 0&&(l.yAxisScale[n]=[]);var f=Math.abs(s-i);if(h.logarithmic&&f<=5&&(l.invalidLogScale=!0),h.logarithmic&&f>5)l.allSeriesCollapsed=!1,l.yAxisScale[n]=this.logarithmicScale(i,s,h.logBase),l.yAxisScale[n]=h.forceNiceScale?this.logarithmicScaleNice(i,s,h.logBase):this.logarithmicScale(i,s,h.logBase);else if(s!==-Number.MAX_VALUE&&E.isNumber(s))if(l.allSeriesCollapsed=!1,h.min===void 0&&h.max===void 0||h.forceNiceScale){var g=u.yaxis[n].max===void 0&&u.yaxis[n].min===void 0||u.yaxis[n].forceNiceScale;l.yAxisScale[n]=this.niceScale(i,s,h.tickAmount?h.tickAmount:f<5&&f>1?f+1:5,n,g)}else l.yAxisScale[n]=this.linearScale(i,s,h.tickAmount,n);else l.yAxisScale[n]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(n,i){var s=this.w,l=s.globals,u=s.config.xaxis,h=Math.abs(i-n);return i!==-Number.MAX_VALUE&&E.isNumber(i)?l.xAxisScale=this.linearScale(n,i,u.tickAmount?u.tickAmount:h<5&&h>1?h+1:5,0):l.xAxisScale=this.linearScale(0,5,5),l.xAxisScale}},{key:"setMultipleYScales",value:function(){var n=this,i=this.w.globals,s=this.w.config,l=i.minYArr.concat([]),u=i.maxYArr.concat([]),h=[];s.yaxis.forEach(function(f,g){var v=g;s.series.forEach(function(O,L){O.name===f.seriesName&&(v=L,g!==L?h.push({index:L,similarIndex:g,alreadyExists:!0}):h.push({index:L}))});var S=l[v],C=u[v];n.setYScaleForIndex(g,S,C)}),this.sameScaleInMultipleAxes(l,u,h)}},{key:"sameScaleInMultipleAxes",value:function(n,i,s){var l=this,u=this.w.config,h=this.w.globals,f=[];s.forEach(function(B){B.alreadyExists&&(f[B.index]===void 0&&(f[B.index]=[]),f[B.index].push(B.index),f[B.index].push(B.similarIndex))}),h.yAxisSameScaleIndices=f,f.forEach(function(B,H){f.forEach(function($,J){var y,M;H!==J&&(y=B,M=$,y.filter(function(z){return M.indexOf(z)!==-1})).length>0&&(f[H]=f[H].concat(f[J]))})});var g=f.map(function(B){return B.filter(function(H,$){return B.indexOf(H)===$})}).map(function(B){return B.sort()});f=f.filter(function(B){return!!B});var v=g.slice(),S=v.map(function(B){return JSON.stringify(B)});v=v.filter(function(B,H){return S.indexOf(JSON.stringify(B))===H});var C=[],O=[];n.forEach(function(B,H){v.forEach(function($,J){$.indexOf(H)>-1&&(C[J]===void 0&&(C[J]=[],O[J]=[]),C[J].push({key:H,value:B}),O[J].push({key:H,value:i[H]}))})});var L=Array.apply(null,Array(v.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),_=Array.apply(null,Array(v.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);C.forEach(function(B,H){B.forEach(function($,J){L[H]=Math.min($.value,L[H])})}),O.forEach(function(B,H){B.forEach(function($,J){_[H]=Math.max($.value,_[H])})}),n.forEach(function(B,H){O.forEach(function($,J){var y=L[J],M=_[J];u.chart.stacked&&(M=0,$.forEach(function(z,V){z.value!==-Number.MAX_VALUE&&(M+=z.value),y!==Number.MIN_VALUE&&(y+=C[J][V].value)})),$.forEach(function(z,V){$[V].key===H&&(u.yaxis[H].min!==void 0&&(y=typeof u.yaxis[H].min=="function"?u.yaxis[H].min(h.minY):u.yaxis[H].min),u.yaxis[H].max!==void 0&&(M=typeof u.yaxis[H].max=="function"?u.yaxis[H].max(h.maxY):u.yaxis[H].max),l.setYScaleForIndex(H,y,M))})})})}},{key:"autoScaleY",value:function(n,i,s){n||(n=this);var l=n.w;if(l.globals.isMultipleYAxis||l.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),i;var u=l.globals.seriesX[0],h=l.config.chart.stacked;return i.forEach(function(f,g){for(var v=0,S=0;S<u.length;S++)if(u[S]>=s.xaxis.min){v=S;break}var C,O,L=l.globals.minYArr[g],_=l.globals.maxYArr[g],B=l.globals.stackedSeriesTotals;l.globals.series.forEach(function(H,$){var J=H[v];h?(J=B[v],C=O=J,B.forEach(function(y,M){u[M]<=s.xaxis.max&&u[M]>=s.xaxis.min&&(y>O&&y!==null&&(O=y),H[M]<C&&H[M]!==null&&(C=H[M]))})):(C=O=J,H.forEach(function(y,M){if(u[M]<=s.xaxis.max&&u[M]>=s.xaxis.min){var z=y,V=y;l.globals.series.forEach(function(Q,ee){y!==null&&(z=Math.min(Q[M],z),V=Math.max(Q[M],V))}),V>O&&V!==null&&(O=V),z<C&&z!==null&&(C=z)}})),C===void 0&&O===void 0&&(C=L,O=_),O*=O<0?.9:1.1,(C*=C<0?1.1:.9)===0&&O===0&&(C=-1,O=1),O<0&&O<_&&(O=_),C<0&&C>L&&(C=L),i.length>1?(i[$].min=f.min===void 0?C:f.min,i[$].max=f.max===void 0?O:f.max):(i[0].min=f.min===void 0?C:f.min,i[0].max=f.max===void 0?O:f.max)})}),i}}]),Y}(),qe=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.scales=new We(n)}return p(Y,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=this.w.config,h=this.w.globals,f=-Number.MAX_VALUE,g=Number.MIN_VALUE;l===null&&(l=n+1);var v=h.series,S=v,C=v;u.chart.type==="candlestick"?(S=h.seriesCandleL,C=h.seriesCandleH):u.chart.type==="boxPlot"?(S=h.seriesCandleO,C=h.seriesCandleC):h.isRangeData&&(S=h.seriesRangeStart,C=h.seriesRangeEnd);for(var O=n;O<l;O++){h.dataPoints=Math.max(h.dataPoints,v[O].length),h.categoryLabels.length&&(h.dataPoints=h.categoryLabels.filter(function(B){return B!==void 0}).length);for(var L=0;L<h.series[O].length;L++){var _=v[O][L];_!==null&&E.isNumber(_)?(C[O][L]!==void 0&&(f=Math.max(f,C[O][L]),i=Math.min(i,C[O][L])),S[O][L]!==void 0&&(i=Math.min(i,S[O][L]),s=Math.max(s,S[O][L])),this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"&&this.w.config.chart.type==="rangeArea"&&this.w.config.chart.type==="rangeBar"||(this.w.config.chart.type!=="candlestick"&&this.w.config.chart.type!=="boxPlot"||h.seriesCandleC[O][L]!==void 0&&(f=Math.max(f,h.seriesCandleO[O][L]),f=Math.max(f,h.seriesCandleH[O][L]),f=Math.max(f,h.seriesCandleL[O][L]),f=Math.max(f,h.seriesCandleC[O][L]),this.w.config.chart.type==="boxPlot"&&(f=Math.max(f,h.seriesCandleM[O][L]))),!u.series[O].type||u.series[O].type==="candlestick"&&u.series[O].type==="boxPlot"&&u.series[O].type==="rangeArea"&&u.series[O].type==="rangeBar"||(f=Math.max(f,h.series[O][L]),i=Math.min(i,h.series[O][L])),s=f),h.seriesGoals[O]&&h.seriesGoals[O][L]&&Array.isArray(h.seriesGoals[O][L])&&h.seriesGoals[O][L].forEach(function(B){g!==Number.MIN_VALUE&&(g=Math.min(g,B.value),i=g),f=Math.max(f,B.value),s=f}),E.isFloat(_)&&(_=E.noExponents(_),h.yValueDecimal=Math.max(h.yValueDecimal,_.toString().split(".")[1].length)),g>S[O][L]&&S[O][L]<0&&(g=S[O][L])):h.hasNullValues=!0}}return u.chart.type==="rangeBar"&&h.seriesRangeStart.length&&h.isBarHorizontal&&(g=i),u.chart.type==="bar"&&(g<0&&f<0&&(f=0),g===Number.MIN_VALUE&&(g=0)),{minY:g,maxY:f,lowestY:i,highestY:s}}},{key:"setYRange",value:function(){var n=this.w.globals,i=this.w.config;n.maxY=-Number.MAX_VALUE,n.minY=Number.MIN_VALUE;var s=Number.MAX_VALUE;if(n.isMultipleYAxis)for(var l=0;l<n.series.length;l++){var u=this.getMinYMaxY(l,s,null,l+1);n.minYArr.push(u.minY),n.maxYArr.push(u.maxY),s=u.lowestY}var h=this.getMinYMaxY(0,s,null,n.series.length);if(n.minY=h.minY,n.maxY=h.maxY,s=h.lowestY,i.chart.stacked&&this._setStackedMinMax(),(i.chart.type==="line"||i.chart.type==="area"||i.chart.type==="candlestick"||i.chart.type==="boxPlot"||i.chart.type==="rangeBar"&&!n.isBarHorizontal)&&n.minY===Number.MIN_VALUE&&s!==-Number.MAX_VALUE&&s!==n.maxY){var f=n.maxY-s;(s>=0&&s<=10||i.yaxis[0].min!==void 0||i.yaxis[0].max!==void 0)&&(f=0),n.minY=s-5*f/100,s>0&&n.minY<0&&(n.minY=0),n.maxY=n.maxY+5*f/100}return i.yaxis.forEach(function(g,v){g.max!==void 0&&(typeof g.max=="number"?n.maxYArr[v]=g.max:typeof g.max=="function"&&(n.maxYArr[v]=g.max(n.isMultipleYAxis?n.maxYArr[v]:n.maxY)),n.maxY=n.maxYArr[v]),g.min!==void 0&&(typeof g.min=="number"?n.minYArr[v]=g.min:typeof g.min=="function"&&(n.minYArr[v]=g.min(n.isMultipleYAxis?n.minYArr[v]===Number.MIN_VALUE?0:n.minYArr[v]:n.minY)),n.minY=n.minYArr[v])}),n.isBarHorizontal&&["min","max"].forEach(function(g){i.xaxis[g]!==void 0&&typeof i.xaxis[g]=="number"&&(g==="min"?n.minY=i.xaxis[g]:n.maxY=i.xaxis[g])}),n.isMultipleYAxis?(this.scales.setMultipleYScales(),n.minY=s,n.yAxisScale.forEach(function(g,v){n.minYArr[v]=g.niceMin,n.maxYArr[v]=g.niceMax})):(this.scales.setYScaleForIndex(0,n.minY,n.maxY),n.minY=n.yAxisScale[0].niceMin,n.maxY=n.yAxisScale[0].niceMax,n.minYArr[0]=n.yAxisScale[0].niceMin,n.maxYArr[0]=n.yAxisScale[0].niceMax),{minY:n.minY,maxY:n.maxY,minYArr:n.minYArr,maxYArr:n.maxYArr,yAxisScale:n.yAxisScale}}},{key:"setXRange",value:function(){var n=this.w.globals,i=this.w.config,s=i.xaxis.type==="numeric"||i.xaxis.type==="datetime"||i.xaxis.type==="category"&&!n.noLabelsProvided||n.noLabelsProvided||n.isXNumeric;if(n.isXNumeric&&function(){for(var f=0;f<n.series.length;f++)if(n.labels[f])for(var g=0;g<n.labels[f].length;g++)n.labels[f][g]!==null&&E.isNumber(n.labels[f][g])&&(n.maxX=Math.max(n.maxX,n.labels[f][g]),n.initialMaxX=Math.max(n.maxX,n.labels[f][g]),n.minX=Math.min(n.minX,n.labels[f][g]),n.initialMinX=Math.min(n.minX,n.labels[f][g]))}(),n.noLabelsProvided&&i.xaxis.categories.length===0&&(n.maxX=n.labels[n.labels.length-1],n.initialMaxX=n.labels[n.labels.length-1],n.minX=1,n.initialMinX=1),n.isXNumeric||n.noLabelsProvided||n.dataFormatXNumeric){var l;if(i.xaxis.tickAmount===void 0?(l=Math.round(n.svgWidth/150),i.xaxis.type==="numeric"&&n.dataPoints<30&&(l=n.dataPoints-1),l>n.dataPoints&&n.dataPoints!==0&&(l=n.dataPoints-1)):i.xaxis.tickAmount==="dataPoints"?(n.series.length>1&&(l=n.series[n.maxValsInArrayIndex].length-1),n.isXNumeric&&(l=n.maxX-n.minX-1)):l=i.xaxis.tickAmount,n.xTickAmount=l,i.xaxis.max!==void 0&&typeof i.xaxis.max=="number"&&(n.maxX=i.xaxis.max),i.xaxis.min!==void 0&&typeof i.xaxis.min=="number"&&(n.minX=i.xaxis.min),i.xaxis.range!==void 0&&(n.minX=n.maxX-i.xaxis.range),n.minX!==Number.MAX_VALUE&&n.maxX!==-Number.MAX_VALUE)if(i.xaxis.convertedCatToNumeric&&!n.dataFormatXNumeric){for(var u=[],h=n.minX-1;h<n.maxX;h++)u.push(h+1);n.xAxisScale={result:u,niceMin:u[0],niceMax:u[u.length-1]}}else n.xAxisScale=this.scales.setXScale(n.minX,n.maxX);else n.xAxisScale=this.scales.linearScale(1,l,l),n.noLabelsProvided&&n.labels.length>0&&(n.xAxisScale=this.scales.linearScale(1,n.labels.length,l-1),n.seriesX=n.labels.slice());s&&(n.labels=n.xAxisScale.result.slice())}return n.isBarHorizontal&&n.labels.length&&(n.xTickAmount=n.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:n.minX,maxX:n.maxX}}},{key:"setZRange",value:function(){var n=this.w.globals;if(n.isDataXYZ){for(var i=0;i<n.series.length;i++)if(n.seriesZ[i]!==void 0)for(var s=0;s<n.seriesZ[i].length;s++)n.seriesZ[i][s]!==null&&E.isNumber(n.seriesZ[i][s])&&(n.maxZ=Math.max(n.maxZ,n.seriesZ[i][s]),n.minZ=Math.min(n.minZ,n.seriesZ[i][s]))}}},{key:"_handleSingleDataPoint",value:function(){var n=this.w.globals,i=this.w.config;if(n.minX===n.maxX){var s=new ie(this.ctx);if(i.xaxis.type==="datetime"){var l=s.getDate(n.minX);i.xaxis.labels.datetimeUTC?l.setUTCDate(l.getUTCDate()-2):l.setDate(l.getDate()-2),n.minX=new Date(l).getTime();var u=s.getDate(n.maxX);i.xaxis.labels.datetimeUTC?u.setUTCDate(u.getUTCDate()+2):u.setDate(u.getDate()+2),n.maxX=new Date(u).getTime()}else(i.xaxis.type==="numeric"||i.xaxis.type==="category"&&!n.noLabelsProvided)&&(n.minX=n.minX-2,n.initialMinX=n.minX,n.maxX=n.maxX+2,n.initialMaxX=n.maxX)}}},{key:"_getMinXDiff",value:function(){var n=this.w.globals;n.isXNumeric&&n.seriesX.forEach(function(i,s){i.length===1&&i.push(n.seriesX[n.maxValsInArrayIndex][n.seriesX[n.maxValsInArrayIndex].length-1]);var l=i.slice();l.sort(function(u,h){return u-h}),l.forEach(function(u,h){if(h>0){var f=u-l[h-1];f>0&&(n.minXDiff=Math.min(f,n.minXDiff))}}),n.dataPoints!==1&&n.minXDiff!==Number.MAX_VALUE||(n.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var n=this,i=this.w.globals;if(i.series.length){var s=i.seriesGroups;s.length||(s=[this.w.config.series.map(function(h){return h.name})]);var l={},u={};s.forEach(function(h){l[h]=[],u[h]=[],n.w.config.series.map(function(f,g){return h.indexOf(f.name)>-1?g:null}).filter(function(f){return f!==null}).forEach(function(f){for(var g=0;g<i.series[i.maxValsInArrayIndex].length;g++)l[h][g]===void 0&&(l[h][g]=0,u[h][g]=0),i.series[f][g]!==null&&E.isNumber(i.series[f][g])&&(i.series[f][g]>0?l[h][g]+=parseFloat(i.series[f][g])+1e-4:u[h][g]+=parseFloat(i.series[f][g]))})}),Object.entries(l).forEach(function(h){var f=T(h,1)[0];l[f].forEach(function(g,v){i.maxY=Math.max(i.maxY,l[f][v]),i.minY=Math.min(i.minY,u[f][v])})})}}}]),Y}(),Qe=function(){function Y(n,i){c(this,Y),this.ctx=n,this.elgrid=i,this.w=n.w;var s=this.w;this.xaxisFontSize=s.config.xaxis.labels.style.fontSize,this.axisFontFamily=s.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=s.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=s.config.chart.type==="bar"&&s.config.plotOptions.bar.horizontal,this.xAxisoffX=0,s.config.xaxis.position==="bottom"&&(this.xAxisoffX=s.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new xe(n)}return p(Y,[{key:"drawYaxis",value:function(n){var i=this,s=this.w,l=new R(this.ctx),u=s.config.yaxis[n].labels.style,h=u.fontSize,f=u.fontFamily,g=u.fontWeight,v=l.group({class:"apexcharts-yaxis",rel:n,transform:"translate("+s.globals.translateYAxisX[n]+", 0)"});if(this.axesUtils.isYAxisHidden(n))return v;var S=l.group({class:"apexcharts-yaxis-texts-g"});v.add(S);var C=s.globals.yAxisScale[n].result.length-1,O=s.globals.gridHeight/C,L=s.globals.translateY,_=s.globals.yLabelFormatters[n],B=s.globals.yAxisScale[n].result.slice();B=this.axesUtils.checkForReversedLabels(n,B);var H="";if(s.config.yaxis[n].labels.show)for(var $=function(ue){var he=B[ue];he=_(he,ue,s);var ke=s.config.yaxis[n].labels.padding;s.config.yaxis[n].opposite&&s.config.yaxis.length!==0&&(ke*=-1);var Ce="end";s.config.yaxis[n].opposite&&(Ce="start"),s.config.yaxis[n].labels.align==="left"?Ce="start":s.config.yaxis[n].labels.align==="center"?Ce="middle":s.config.yaxis[n].labels.align==="right"&&(Ce="end");var Te=i.axesUtils.getYAxisForeColor(u.colors,n),Ne=l.drawText({x:ke,y:L+C/10+s.config.yaxis[n].labels.offsetY+1,text:he,textAnchor:Ce,fontSize:h,fontFamily:f,fontWeight:g,maxWidth:s.config.yaxis[n].labels.maxWidth,foreColor:Array.isArray(Te)?Te[ue]:Te,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+u.cssClass});ue===C&&(H=Ne),S.add(Ne);var Ge=document.createElementNS(s.globals.SVGNS,"title");if(Ge.textContent=Array.isArray(he)?he.join(" "):he,Ne.node.appendChild(Ge),s.config.yaxis[n].labels.rotate!==0){var nt=l.rotateAroundCenter(H.node),rt=l.rotateAroundCenter(Ne.node);Ne.node.setAttribute("transform","rotate(".concat(s.config.yaxis[n].labels.rotate," ").concat(nt.x," ").concat(rt.y,")"))}L+=O},J=C;J>=0;J--)$(J);if(s.config.yaxis[n].title.text!==void 0){var y=l.group({class:"apexcharts-yaxis-title"}),M=0;s.config.yaxis[n].opposite&&(M=s.globals.translateYAxisX[n]);var z=l.drawText({x:M,y:s.globals.gridHeight/2+s.globals.translateY+s.config.yaxis[n].title.offsetY,text:s.config.yaxis[n].title.text,textAnchor:"end",foreColor:s.config.yaxis[n].title.style.color,fontSize:s.config.yaxis[n].title.style.fontSize,fontWeight:s.config.yaxis[n].title.style.fontWeight,fontFamily:s.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+s.config.yaxis[n].title.style.cssClass});y.add(z),v.add(y)}var V=s.config.yaxis[n].axisBorder,Q=31+V.offsetX;if(s.config.yaxis[n].opposite&&(Q=-31-V.offsetX),V.show){var ee=l.drawLine(Q,s.globals.translateY+V.offsetY-2,Q,s.globals.gridHeight+s.globals.translateY+V.offsetY+2,V.color,0,V.width);v.add(ee)}return s.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(Q,C,V,s.config.yaxis[n].axisTicks,n,O,v),v}},{key:"drawYaxisInversed",value:function(n){var i=this.w,s=new R(this.ctx),l=s.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),u=s.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(i.globals.translateXAxisX,", ").concat(i.globals.translateXAxisY,")")});l.add(u);var h=i.globals.yAxisScale[n].result.length-1,f=i.globals.gridWidth/h+.1,g=f+i.config.xaxis.labels.offsetX,v=i.globals.xLabelFormatter,S=i.globals.yAxisScale[n].result.slice(),C=i.globals.timescaleLabels;C.length>0&&(this.xaxisLabels=C.slice(),h=(S=C.slice()).length),S=this.axesUtils.checkForReversedLabels(n,S);var O=C.length;if(i.config.xaxis.labels.show)for(var L=O?0:h;O?L<O:L>=0;O?L++:L--){var _=S[L];_=v(_,L,i);var B=i.globals.gridWidth+i.globals.padHorizontal-(g-f+i.config.xaxis.labels.offsetX);if(C.length){var H=this.axesUtils.getLabel(S,C,B,L,this.drawnLabels,this.xaxisFontSize);B=H.x,_=H.text,this.drawnLabels.push(H.text),L===0&&i.globals.skipFirstTimelinelabel&&(_=""),L===S.length-1&&i.globals.skipLastTimelinelabel&&(_="")}var $=s.drawText({x:B,y:this.xAxisoffX+i.config.xaxis.labels.offsetY+30-(i.config.xaxis.position==="top"?i.globals.xAxisHeight+i.config.xaxis.axisTicks.height-2:0),text:_,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[n]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:i.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+i.config.xaxis.labels.style.cssClass});u.add($),$.tspan(_);var J=document.createElementNS(i.globals.SVGNS,"title");J.textContent=_,$.node.appendChild(J),g+=f}return this.inversedYAxisTitleText(l),this.inversedYAxisBorder(l),l}},{key:"inversedYAxisBorder",value:function(n){var i=this.w,s=new R(this.ctx),l=i.config.xaxis.axisBorder;if(l.show){var u=0;i.config.chart.type==="bar"&&i.globals.isXNumeric&&(u-=15);var h=s.drawLine(i.globals.padHorizontal+u+l.offsetX,this.xAxisoffX,i.globals.gridWidth,this.xAxisoffX,l.color,0,l.height);this.elgrid&&this.elgrid.elGridBorders&&i.config.grid.show?this.elgrid.elGridBorders.add(h):n.add(h)}}},{key:"inversedYAxisTitleText",value:function(n){var i=this.w,s=new R(this.ctx);if(i.config.xaxis.title.text!==void 0){var l=s.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),u=s.drawText({x:i.globals.gridWidth/2+i.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(i.config.xaxis.title.style.fontSize)+i.config.xaxis.title.offsetY+20,text:i.config.xaxis.title.text,textAnchor:"middle",fontSize:i.config.xaxis.title.style.fontSize,fontFamily:i.config.xaxis.title.style.fontFamily,fontWeight:i.config.xaxis.title.style.fontWeight,foreColor:i.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+i.config.xaxis.title.style.cssClass});l.add(u),n.add(l)}}},{key:"yAxisTitleRotate",value:function(n,i){var s=this.w,l=new R(this.ctx),u={width:0,height:0},h={width:0,height:0},f=s.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g"));f!==null&&(u=f.getBoundingClientRect());var g=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-title text"));if(g!==null&&(h=g.getBoundingClientRect()),g!==null){var v=this.xPaddingForYAxisTitle(n,u,h,i);g.setAttribute("x",v.xPos-(i?10:0))}if(g!==null){var S=l.rotateAroundCenter(g);g.setAttribute("transform","rotate(".concat(i?-1*s.config.yaxis[n].title.rotate:s.config.yaxis[n].title.rotate," ").concat(S.x," ").concat(S.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(n,i,s,l){var u=this.w,h=0,f=0,g=10;return u.config.yaxis[n].title.text===void 0||n<0?{xPos:f,padd:0}:(l?(f=i.width+u.config.yaxis[n].title.offsetX+s.width/2+g/2,(h+=1)===0&&(f-=g/2)):(f=-1*i.width+u.config.yaxis[n].title.offsetX+g/2+s.width/2,u.globals.isBarHorizontal&&(g=25,f=-1*i.width-u.config.yaxis[n].title.offsetX-g)),{xPos:f,padd:g})}},{key:"setYAxisXPosition",value:function(n,i){var s=this.w,l=0,u=0,h=18,f=1;s.config.yaxis.length>1&&(this.multipleYs=!0),s.config.yaxis.map(function(g,v){var S=s.globals.ignoreYAxisIndexes.indexOf(v)>-1||!g.show||g.floating||n[v].width===0,C=n[v].width+i[v].width;g.opposite?s.globals.isBarHorizontal?(u=s.globals.gridWidth+s.globals.translateX-1,s.globals.translateYAxisX[v]=u-g.labels.offsetX):(u=s.globals.gridWidth+s.globals.translateX+f,S||(f=f+C+20),s.globals.translateYAxisX[v]=u-g.labels.offsetX+20):(l=s.globals.translateX-h,S||(h=h+C+20),s.globals.translateYAxisX[v]=l+g.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var n=this.w,i=n.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(i=E.listToArray(i)).forEach(function(s,l){var u=n.config.yaxis[l];if(u&&!u.floating&&u.labels.align!==void 0){var h=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(l,"'] .apexcharts-yaxis-texts-g")),f=n.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(l,"'] .apexcharts-yaxis-label"));f=E.listToArray(f);var g=h.getBoundingClientRect();u.labels.align==="left"?(f.forEach(function(v,S){v.setAttribute("text-anchor","start")}),u.opposite||h.setAttribute("transform","translate(-".concat(g.width,", 0)"))):u.labels.align==="center"?(f.forEach(function(v,S){v.setAttribute("text-anchor","middle")}),h.setAttribute("transform","translate(".concat(g.width/2*(u.opposite?1:-1),", 0)"))):u.labels.align==="right"&&(f.forEach(function(v,S){v.setAttribute("text-anchor","end")}),u.opposite&&h.setAttribute("transform","translate(".concat(g.width,", 0)")))}})}}]),Y}(),at=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.documentEvent=E.bind(this.documentEvent,this)}return p(Y,[{key:"addEventListener",value:function(n,i){var s=this.w;s.globals.events.hasOwnProperty(n)?s.globals.events[n].push(i):s.globals.events[n]=[i]}},{key:"removeEventListener",value:function(n,i){var s=this.w;if(s.globals.events.hasOwnProperty(n)){var l=s.globals.events[n].indexOf(i);l!==-1&&s.globals.events[n].splice(l,1)}}},{key:"fireEvent",value:function(n,i){var s=this.w;if(s.globals.events.hasOwnProperty(n)){i&&i.length||(i=[]);for(var l=s.globals.events[n],u=l.length,h=0;h<u;h++)l[h].apply(null,i)}}},{key:"setupEventHandlers",value:function(){var n=this,i=this.w,s=this.ctx,l=i.globals.dom.baseEl.querySelector(i.globals.chartClass);this.ctx.eventList.forEach(function(u){l.addEventListener(u,function(h){var f=Object.assign({},i,{seriesIndex:i.globals.capturedSeriesIndex,dataPointIndex:i.globals.capturedDataPointIndex});h.type==="mousemove"||h.type==="touchmove"?typeof i.config.chart.events.mouseMove=="function"&&i.config.chart.events.mouseMove(h,s,f):h.type==="mouseleave"||h.type==="touchleave"?typeof i.config.chart.events.mouseLeave=="function"&&i.config.chart.events.mouseLeave(h,s,f):(h.type==="mouseup"&&h.which===1||h.type==="touchend")&&(typeof i.config.chart.events.click=="function"&&i.config.chart.events.click(h,s,f),s.ctx.events.fireEvent("click",[h,s,f]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(u){i.globals.dom.baseEl.addEventListener(u,n.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(n){var i=this.w,s=n.target.className;if(n.type==="click"){var l=i.globals.dom.baseEl.querySelector(".apexcharts-menu");l&&l.classList.contains("apexcharts-menu-open")&&s!=="apexcharts-menu-icon"&&l.classList.remove("apexcharts-menu-open")}i.globals.clientX=n.type==="touchmove"?n.touches[0].clientX:n.clientX,i.globals.clientY=n.type==="touchmove"?n.touches[0].clientY:n.clientY}}]),Y}(),kt=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"setCurrentLocaleValues",value:function(n){var i=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(i=this.w.config.chart.locales.concat(window.Apex.chart.locales));var s=i.filter(function(u){return u.name===n})[0];if(!s)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var l=E.extend(X,s);this.w.globals.locale=l.options}}]),Y}(),dt=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"drawAxis",value:function(n,i){var s,l,u=this,h=this.w.globals,f=this.w.config,g=new Oe(this.ctx,i),v=new Qe(this.ctx,i);h.axisCharts&&n!=="radar"&&(h.isBarHorizontal?(l=v.drawYaxisInversed(0),s=g.drawXaxisInversed(0),h.dom.elGraphical.add(s),h.dom.elGraphical.add(l)):(s=g.drawXaxis(),h.dom.elGraphical.add(s),f.yaxis.map(function(S,C){if(h.ignoreYAxisIndexes.indexOf(C)===-1&&(l=v.drawYaxis(C),h.dom.Paper.add(l),u.w.config.grid.position==="back")){var O=h.dom.Paper.children()[1];O.remove(),h.dom.Paper.add(O)}})))}}]),Y}(),Se=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"drawXCrosshairs",value:function(){var n=this.w,i=new R(this.ctx),s=new D(this.ctx),l=n.config.xaxis.crosshairs.fill.gradient,u=n.config.xaxis.crosshairs.dropShadow,h=n.config.xaxis.crosshairs.fill.type,f=l.colorFrom,g=l.colorTo,v=l.opacityFrom,S=l.opacityTo,C=l.stops,O=u.enabled,L=u.left,_=u.top,B=u.blur,H=u.color,$=u.opacity,J=n.config.xaxis.crosshairs.fill.color;if(n.config.xaxis.crosshairs.show){h==="gradient"&&(J=i.drawGradient("vertical",f,g,v,S,null,C,null));var y=i.drawRect();n.config.xaxis.crosshairs.width===1&&(y=i.drawLine());var M=n.globals.gridHeight;(!E.isNumber(M)||M<0)&&(M=0);var z=n.config.xaxis.crosshairs.width;(!E.isNumber(z)||z<0)&&(z=0),y.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:M,width:z,height:M,fill:J,filter:"none","fill-opacity":n.config.xaxis.crosshairs.opacity,stroke:n.config.xaxis.crosshairs.stroke.color,"stroke-width":n.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":n.config.xaxis.crosshairs.stroke.dashArray}),O&&(y=s.dropShadow(y,{left:L,top:_,blur:B,color:H,opacity:$})),n.globals.dom.elGraphical.add(y)}}},{key:"drawYCrosshairs",value:function(){var n=this.w,i=new R(this.ctx),s=n.config.yaxis[0].crosshairs,l=n.globals.barPadForNumericAxis;if(n.config.yaxis[0].crosshairs.show){var u=i.drawLine(-l,0,n.globals.gridWidth+l,0,s.stroke.color,s.stroke.dashArray,s.stroke.width);u.attr({class:"apexcharts-ycrosshairs"}),n.globals.dom.elGraphical.add(u)}var h=i.drawLine(-l,0,n.globals.gridWidth+l,0,s.stroke.color,0,0);h.attr({class:"apexcharts-ycrosshairs-hidden"}),n.globals.dom.elGraphical.add(h)}}]),Y}(),Ae=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"checkResponsiveConfig",value:function(n){var i=this,s=this.w,l=s.config;if(l.responsive.length!==0){var u=l.responsive.slice();u.sort(function(v,S){return v.breakpoint>S.breakpoint?1:S.breakpoint>v.breakpoint?-1:0}).reverse();var h=new fe({}),f=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=u[0].breakpoint,C=window.innerWidth>0?window.innerWidth:screen.width;if(C>S){var O=G.extendArrayProps(h,s.globals.initialConfig,s);v=E.extend(O,v),v=E.extend(s.config,v),i.overrideResponsiveOptions(v)}else for(var L=0;L<u.length;L++)C<u[L].breakpoint&&(v=G.extendArrayProps(h,u[L].options,s),v=E.extend(s.config,v),i.overrideResponsiveOptions(v))};if(n){var g=G.extendArrayProps(h,n,s);g=E.extend(s.config,g),f(g=E.extend(g,n))}else f({})}}},{key:"overrideResponsiveOptions",value:function(n){var i=new fe(n).init({responsiveOverride:!0});this.w.config=i}}]),Y}(),Ie=function(){function Y(n){c(this,Y),this.ctx=n,this.colors=[],this.w=n.w;var i=this.w;this.isColorFn=!1,this.isHeatmapDistributed=i.config.chart.type==="treemap"&&i.config.plotOptions.treemap.distributed||i.config.chart.type==="heatmap"&&i.config.plotOptions.heatmap.distributed,this.isBarDistributed=i.config.plotOptions.bar.distributed&&(i.config.chart.type==="bar"||i.config.chart.type==="rangeBar")}return p(Y,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var n=this,i=this.w,s=new E;if(i.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(i.config.theme.mode)),i.config.colors===void 0?i.globals.colors=this.predefined():(i.globals.colors=i.config.colors,Array.isArray(i.config.colors)&&i.config.colors.length>0&&typeof i.config.colors[0]=="function"&&(i.globals.colors=i.config.series.map(function(L,_){var B=i.config.colors[_];return B||(B=i.config.colors[0]),typeof B=="function"?(n.isColorFn=!0,B({value:i.globals.axisCharts?i.globals.series[_][0]?i.globals.series[_][0]:0:i.globals.series[_],seriesIndex:_,dataPointIndex:_,w:i})):B}))),i.globals.seriesColors.map(function(L,_){L&&(i.globals.colors[_]=L)}),i.config.theme.monochrome.enabled){var l=[],u=i.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(u=i.globals.series[0].length*i.globals.series.length);for(var h=i.config.theme.monochrome.color,f=1/(u/i.config.theme.monochrome.shadeIntensity),g=i.config.theme.monochrome.shadeTo,v=0,S=0;S<u;S++){var C=void 0;g==="dark"?(C=s.shadeColor(-1*v,h),v+=f):(C=s.shadeColor(v,h),v+=f),l.push(C)}i.globals.colors=l.slice()}var O=i.globals.colors.slice();this.pushExtraColors(i.globals.colors),["fill","stroke"].forEach(function(L){i.config[L].colors===void 0?i.globals[L].colors=n.isColorFn?i.config.colors:O:i.globals[L].colors=i.config[L].colors.slice(),n.pushExtraColors(i.globals[L].colors)}),i.config.dataLabels.style.colors===void 0?i.globals.dataLabels.style.colors=O:i.globals.dataLabels.style.colors=i.config.dataLabels.style.colors.slice(),this.pushExtraColors(i.globals.dataLabels.style.colors,50),i.config.plotOptions.radar.polygons.fill.colors===void 0?i.globals.radarPolygons.fill.colors=[i.config.theme.mode==="dark"?"#424242":"none"]:i.globals.radarPolygons.fill.colors=i.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(i.globals.radarPolygons.fill.colors,20),i.config.markers.colors===void 0?i.globals.markers.colors=O:i.globals.markers.colors=i.config.markers.colors.slice(),this.pushExtraColors(i.globals.markers.colors)}},{key:"pushExtraColors",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=this.w,u=i||l.globals.series.length;if(s===null&&(s=this.isBarDistributed||this.isHeatmapDistributed||l.config.chart.type==="heatmap"&&l.config.plotOptions.heatmap.colorScale.inverse),s&&l.globals.series.length&&(u=l.globals.series[l.globals.maxValsInArrayIndex].length*l.globals.series.length),n.length<u)for(var h=u-n.length,f=0;f<h;f++)n.push(n[f])}},{key:"updateThemeOptions",value:function(n){n.chart=n.chart||{},n.tooltip=n.tooltip||{};var i=n.theme.mode||"light",s=n.theme.palette?n.theme.palette:i==="dark"?"palette4":"palette1",l=n.chart.foreColor?n.chart.foreColor:i==="dark"?"#f6f7f8":"#373d3f";return n.tooltip.theme=i,n.chart.foreColor=l,n.theme.palette=s,n}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),Y}(),Re=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(n){var i=this.w,s=n==="title"?i.config.title:i.config.subtitle,l=i.globals.svgWidth/2,u=s.offsetY,h="middle";if(s.align==="left"?(l=10,h="start"):s.align==="right"&&(l=i.globals.svgWidth-10,h="end"),l+=s.offsetX,u=u+parseInt(s.style.fontSize,10)+s.margin/2,s.text!==void 0){var f=new R(this.ctx).drawText({x:l,y:u,text:s.text,textAnchor:h,fontSize:s.style.fontSize,fontFamily:s.style.fontFamily,fontWeight:s.style.fontWeight,foreColor:s.style.color,opacity:1});f.node.setAttribute("class","apexcharts-".concat(n,"-text")),i.globals.dom.Paper.add(f)}}}]),Y}(),Me=function(){function Y(n){c(this,Y),this.w=n.w,this.dCtx=n}return p(Y,[{key:"getTitleSubtitleCoords",value:function(n){var i=this.w,s=0,l=0,u=n==="title"?i.config.title.floating:i.config.subtitle.floating,h=i.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-text"));if(h!==null&&!u){var f=h.getBoundingClientRect();s=f.width,l=i.globals.axisCharts?f.height+5:f.height}return{width:s,height:l}}},{key:"getLegendsRect",value:function(){var n=this.w,i=n.globals.dom.elLegendWrap;n.config.legend.height||n.config.legend.position!=="top"&&n.config.legend.position!=="bottom"||(i.style.maxHeight=n.globals.svgHeight/2+"px");var s=Object.assign({},E.getBoundingClientRect(i));return i!==null&&!n.config.legend.floating&&n.config.legend.show?this.dCtx.lgRect={x:s.x,y:s.y,height:s.height,width:s.height===0?0:s.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},n.config.legend.position!=="left"&&n.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>n.globals.svgWidth&&(this.dCtx.lgRect.width=n.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(n,i){var s=n;if(this.w.globals.isMultiLineX){var l=i.map(function(h,f){return Array.isArray(h)?h.length:1}),u=Math.max.apply(Math,P(l));s=i[l.indexOf(u)]}return s}}]),Y}(),$e=function(){function Y(n){c(this,Y),this.w=n.w,this.dCtx=n}return p(Y,[{key:"getxAxisLabelsCoords",value:function(){var n,i=this.w,s=i.globals.labels.slice();if(i.config.xaxis.convertedCatToNumeric&&s.length===0&&(s=i.globals.categoryLabels),i.globals.timescaleLabels.length>0){var l=this.getxAxisTimeScaleLabelsCoords();n={width:l.width,height:l.height},i.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=i.config.legend.position!=="left"&&i.config.legend.position!=="right"||i.config.legend.floating?0:this.dCtx.lgRect.width;var u=i.globals.xLabelFormatter,h=E.getLargestStringFromArr(s),f=this.dCtx.dimHelpers.getLargestStringFromMultiArr(h,s);i.globals.isBarHorizontal&&(f=h=i.globals.yAxisScale[0].result.reduce(function(_,B){return _.length>B.length?_:B},0));var g=new oe(this.dCtx.ctx),v=h;h=g.xLabelFormat(u,h,v,{i:void 0,dateFormatter:new ie(this.dCtx.ctx).formatDate,w:i}),f=g.xLabelFormat(u,f,v,{i:void 0,dateFormatter:new ie(this.dCtx.ctx).formatDate,w:i}),(i.config.xaxis.convertedCatToNumeric&&h===void 0||String(h).trim()==="")&&(f=h="1");var S=new R(this.dCtx.ctx),C=S.getTextRects(h,i.config.xaxis.labels.style.fontSize),O=C;if(h!==f&&(O=S.getTextRects(f,i.config.xaxis.labels.style.fontSize)),(n={width:C.width>=O.width?C.width:O.width,height:C.height>=O.height?C.height:O.height}).width*s.length>i.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&i.config.xaxis.labels.rotate!==0||i.config.xaxis.labels.rotateAlways){if(!i.globals.isBarHorizontal){i.globals.rotateXLabels=!0;var L=function(_){return S.getTextRects(_,i.config.xaxis.labels.style.fontSize,i.config.xaxis.labels.style.fontFamily,"rotate(".concat(i.config.xaxis.labels.rotate," 0 0)"),!1)};C=L(h),h!==f&&(O=L(f)),n.height=(C.height>O.height?C.height:O.height)/1.5,n.width=C.width>O.width?C.width:O.width}}else i.globals.rotateXLabels=!1}return i.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var n,i=this.w;if(!i.globals.hasXaxisGroups)return{width:0,height:0};var s,l=((n=i.config.xaxis.group.style)===null||n===void 0?void 0:n.fontSize)||i.config.xaxis.labels.style.fontSize,u=i.globals.groups.map(function(C){return C.title}),h=E.getLargestStringFromArr(u),f=this.dCtx.dimHelpers.getLargestStringFromMultiArr(h,u),g=new R(this.dCtx.ctx),v=g.getTextRects(h,l),S=v;return h!==f&&(S=g.getTextRects(f,l)),s={width:v.width>=S.width?v.width:S.width,height:v.height>=S.height?v.height:S.height},i.config.xaxis.labels.show||(s={width:0,height:0}),{width:s.width,height:s.height}}},{key:"getxAxisTitleCoords",value:function(){var n=this.w,i=0,s=0;if(n.config.xaxis.title.text!==void 0){var l=new R(this.dCtx.ctx).getTextRects(n.config.xaxis.title.text,n.config.xaxis.title.style.fontSize);i=l.width,s=l.height}return{width:i,height:s}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var n,i=this.w;this.dCtx.timescaleLabels=i.globals.timescaleLabels.slice();var s=this.dCtx.timescaleLabels.map(function(u){return u.value}),l=s.reduce(function(u,h){return u===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):u.length>h.length?u:h},0);return 1.05*(n=new R(this.dCtx.ctx).getTextRects(l,i.config.xaxis.labels.style.fontSize)).width*s.length>i.globals.gridWidth&&i.config.xaxis.labels.rotate!==0&&(i.globals.overlappingXLabels=!0),n}},{key:"additionalPaddingXLabels",value:function(n){var i=this,s=this.w,l=s.globals,u=s.config,h=u.xaxis.type,f=n.width;l.skipLastTimelinelabel=!1,l.skipFirstTimelinelabel=!1;var g=s.config.yaxis[0].opposite&&s.globals.isBarHorizontal,v=function(S,C){u.yaxis.length>1&&function(O){return l.collapsedSeriesIndices.indexOf(O)!==-1}(C)||function(O){if(i.dCtx.timescaleLabels&&i.dCtx.timescaleLabels.length){var L=i.dCtx.timescaleLabels[0],_=i.dCtx.timescaleLabels[i.dCtx.timescaleLabels.length-1].position+f/1.75-i.dCtx.yAxisWidthRight,B=L.position-f/1.75+i.dCtx.yAxisWidthLeft,H=s.config.legend.position==="right"&&i.dCtx.lgRect.width>0?i.dCtx.lgRect.width:0;_>l.svgWidth-l.translateX-H&&(l.skipLastTimelinelabel=!0),B<-(O.show&&!O.floating||u.chart.type!=="bar"&&u.chart.type!=="candlestick"&&u.chart.type!=="rangeBar"&&u.chart.type!=="boxPlot"?10:f/1.75)&&(l.skipFirstTimelinelabel=!0)}else h==="datetime"?i.dCtx.gridPad.right<f&&!l.rotateXLabels&&(l.skipLastTimelinelabel=!0):h!=="datetime"&&i.dCtx.gridPad.right<f/2-i.dCtx.yAxisWidthRight&&!l.rotateXLabels&&!s.config.xaxis.labels.trim&&(s.config.xaxis.tickPlacement!=="between"||s.globals.isBarHorizontal)&&(i.dCtx.xPadRight=f/2+1)}(S)};u.yaxis.forEach(function(S,C){g?(i.dCtx.gridPad.left<f&&(i.dCtx.xPadLeft=f/2+1),i.dCtx.xPadRight=f/2+1):v(S,C)})}}]),Y}(),Ze=function(){function Y(n){c(this,Y),this.w=n.w,this.dCtx=n}return p(Y,[{key:"getyAxisLabelsCoords",value:function(){var n=this,i=this.w,s=[],l=10,u=new xe(this.dCtx.ctx);return i.config.yaxis.map(function(h,f){var g=i.globals.yAxisScale[f],v=0;if(!u.isYAxisHidden(f)&&h.labels.show&&h.labels.minWidth!==void 0&&(v=h.labels.minWidth),!u.isYAxisHidden(f)&&h.labels.show&&g.result.length){var S=i.globals.yLabelFormatters[f],C=g.niceMin===Number.MIN_VALUE?0:g.niceMin,O=String(C).length>String(g.niceMax).length?C:g.niceMax,L=S(O,{seriesIndex:f,dataPointIndex:-1,w:i}),_=L;if(L!==void 0&&L.length!==0||(L=O),i.globals.isBarHorizontal){l=0;var B=i.globals.labels.slice();L=S(L=E.getLargestStringFromArr(B),{seriesIndex:f,dataPointIndex:-1,w:i}),_=n.dCtx.dimHelpers.getLargestStringFromMultiArr(L,B)}var H=new R(n.dCtx.ctx),$="rotate(".concat(h.labels.rotate," 0 0)"),J=H.getTextRects(L,h.labels.style.fontSize,h.labels.style.fontFamily,$,!1),y=J;L!==_&&(y=H.getTextRects(_,h.labels.style.fontSize,h.labels.style.fontFamily,$,!1)),s.push({width:(v>y.width||v>J.width?v:y.width>J.width?y.width:J.width)+l,height:y.height>J.height?y.height:J.height})}else s.push({width:0,height:0})}),s}},{key:"getyAxisTitleCoords",value:function(){var n=this,i=this.w,s=[];return i.config.yaxis.map(function(l,u){if(l.show&&l.title.text!==void 0){var h=new R(n.dCtx.ctx),f="rotate(".concat(l.title.rotate," 0 0)"),g=h.getTextRects(l.title.text,l.title.style.fontSize,l.title.style.fontFamily,f,!1);s.push({width:g.width,height:g.height})}else s.push({width:0,height:0})}),s}},{key:"getTotalYAxisWidth",value:function(){var n=this.w,i=0,s=0,l=0,u=n.globals.yAxisScale.length>1?10:0,h=new xe(this.dCtx.ctx),f=function(g,v){var S=n.config.yaxis[v].floating,C=0;g.width>0&&!S?(C=g.width+u,function(O){return n.globals.ignoreYAxisIndexes.indexOf(O)>-1}(v)&&(C=C-g.width-u)):C=S||h.isYAxisHidden(v)?0:5,n.config.yaxis[v].opposite?l+=C:s+=C,i+=C};return n.globals.yLabelsCoords.map(function(g,v){f(g,v)}),n.globals.yTitleCoords.map(function(g,v){f(g,v)}),n.globals.isBarHorizontal&&!n.config.yaxis[0].floating&&(i=n.globals.yLabelsCoords[0].width+n.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=s,this.dCtx.yAxisWidthRight=l,i}}]),Y}(),Ke=function(){function Y(n){c(this,Y),this.w=n.w,this.dCtx=n}return p(Y,[{key:"gridPadForColumnsInNumericAxis",value:function(n){var i=this.w;if(i.globals.noData||i.globals.allSeriesCollapsed)return 0;var s=function(S){return S==="bar"||S==="rangeBar"||S==="candlestick"||S==="boxPlot"},l=i.config.chart.type,u=0,h=s(l)?i.config.series.length:1;if(i.globals.comboBarCount>0&&(h=i.globals.comboBarCount),i.globals.collapsedSeries.forEach(function(S){s(S.type)&&(h-=1)}),i.config.chart.stacked&&(h=1),(s(l)||i.globals.comboBarCount>0)&&i.globals.isXNumeric&&!i.globals.isBarHorizontal&&h>0){var f,g,v=Math.abs(i.globals.initialMaxX-i.globals.initialMinX);v<=3&&(v=i.globals.dataPoints),f=v/n,i.globals.minXDiff&&i.globals.minXDiff/f>0&&(g=i.globals.minXDiff/f),g>n/2&&(g/=2),(u=g/h*parseInt(i.config.plotOptions.bar.columnWidth,10)/100)<1&&(u=1),u=u/(h>1?1:1.5)+5,i.globals.barPadForNumericAxis=u}return u}},{key:"gridPadFortitleSubtitle",value:function(){var n=this,i=this.w,s=i.globals,l=this.dCtx.isSparkline||!i.globals.axisCharts?0:10;["title","subtitle"].forEach(function(f){i.config[f].text!==void 0?l+=i.config[f].margin:l+=n.dCtx.isSparkline||!i.globals.axisCharts?0:5}),!i.config.legend.show||i.config.legend.position!=="bottom"||i.config.legend.floating||i.globals.axisCharts||(l+=10);var u=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),h=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");s.gridHeight=s.gridHeight-u.height-h.height-l,s.translateY=s.translateY+u.height+h.height+l}},{key:"setGridXPosForDualYAxis",value:function(n,i){var s=this.w,l=new xe(this.dCtx.ctx);s.config.yaxis.map(function(u,h){s.globals.ignoreYAxisIndexes.indexOf(h)!==-1||u.floating||l.isYAxisHidden(h)||(u.opposite&&(s.globals.translateX=s.globals.translateX-(i[h].width+n[h].width)-parseInt(s.config.yaxis[h].labels.style.fontSize,10)/1.2-12),s.globals.translateX<2&&(s.globals.translateX=2))})}}]),Y}(),bt=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Me(this),this.dimYAxis=new Ze(this),this.dimXAxis=new $e(this),this.dimGrid=new Ke(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return p(Y,[{key:"plotCoords",value:function(){var n=this,i=this.w,s=i.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(i.config.markers.discrete.length>0||i.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(u){var h=T(u,2),f=h[0],g=h[1];n.gridPad[f]=Math.max(g,n.w.globals.markers.largestSize/1.5)}),s.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),s.gridHeight=s.gridHeight-this.gridPad.top-this.gridPad.bottom,s.gridWidth=s.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var l=this.dimGrid.gridPadForColumnsInNumericAxis(s.gridWidth);s.gridWidth=s.gridWidth-2*l,s.translateX=s.translateX+this.gridPad.left+this.xPadLeft+(l>0?l+4:0),s.translateY=s.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var n=this,i=this.w,s=i.globals,l=this.dimYAxis.getyAxisLabelsCoords(),u=this.dimYAxis.getyAxisTitleCoords();i.globals.yLabelsCoords=[],i.globals.yTitleCoords=[],i.config.yaxis.map(function(L,_){i.globals.yLabelsCoords.push({width:l[_].width,index:_}),i.globals.yTitleCoords.push({width:u[_].width,index:_})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var h=this.dimXAxis.getxAxisLabelsCoords(),f=this.dimXAxis.getxAxisGroupLabelsCoords(),g=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(h,g,f),s.translateXAxisY=i.globals.rotateXLabels?this.xAxisHeight/8:-4,s.translateXAxisX=i.globals.rotateXLabels&&i.globals.isXNumeric&&i.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,i.globals.isBarHorizontal&&(s.rotateXLabels=!1,s.translateXAxisY=parseInt(i.config.xaxis.labels.style.fontSize,10)/1.5*-1),s.translateXAxisY=s.translateXAxisY+i.config.xaxis.labels.offsetY,s.translateXAxisX=s.translateXAxisX+i.config.xaxis.labels.offsetX;var v=this.yAxisWidth,S=this.xAxisHeight;s.xAxisLabelsHeight=this.xAxisHeight-g.height,s.xAxisGroupLabelsHeight=s.xAxisLabelsHeight-h.height,s.xAxisLabelsWidth=this.xAxisWidth,s.xAxisHeight=this.xAxisHeight;var C=10;(i.config.chart.type==="radar"||this.isSparkline)&&(v=0,S=s.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||i.config.chart.type==="treemap")&&(v=0,S=0,C=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(h);var O=function(){s.translateX=v,s.gridHeight=s.svgHeight-n.lgRect.height-S-(n.isSparkline||i.config.chart.type==="treemap"?0:i.globals.rotateXLabels?10:15),s.gridWidth=s.svgWidth-v};switch(i.config.xaxis.position==="top"&&(C=s.xAxisHeight-i.config.xaxis.axisTicks.height-5),i.config.legend.position){case"bottom":s.translateY=C,O();break;case"top":s.translateY=this.lgRect.height+C,O();break;case"left":s.translateY=C,s.translateX=this.lgRect.width+v,s.gridHeight=s.svgHeight-S-12,s.gridWidth=s.svgWidth-this.lgRect.width-v;break;case"right":s.translateY=C,s.translateX=v,s.gridHeight=s.svgHeight-S-12,s.gridWidth=s.svgWidth-this.lgRect.width-v-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(u,l),new Qe(this.ctx).setYAxisXPosition(l,u)}},{key:"setDimensionsForNonAxisCharts",value:function(){var n=this.w,i=n.globals,s=n.config,l=0;n.config.legend.show&&!n.config.legend.floating&&(l=20);var u=s.chart.type==="pie"||s.chart.type==="polarArea"||s.chart.type==="donut"?"pie":"radialBar",h=s.plotOptions[u].offsetY,f=s.plotOptions[u].offsetX;if(!s.legend.show||s.legend.floating)return i.gridHeight=i.svgHeight-s.grid.padding.left+s.grid.padding.right,i.gridWidth=i.gridHeight,i.translateY=h,void(i.translateX=f+(i.svgWidth-i.gridWidth)/2);switch(s.legend.position){case"bottom":i.gridHeight=i.svgHeight-this.lgRect.height-i.goldenPadding,i.gridWidth=i.svgWidth,i.translateY=h-10,i.translateX=f+(i.svgWidth-i.gridWidth)/2;break;case"top":i.gridHeight=i.svgHeight-this.lgRect.height-i.goldenPadding,i.gridWidth=i.svgWidth,i.translateY=this.lgRect.height+h+10,i.translateX=f+(i.svgWidth-i.gridWidth)/2;break;case"left":i.gridWidth=i.svgWidth-this.lgRect.width-l,i.gridHeight=s.chart.height!=="auto"?i.svgHeight:i.gridWidth,i.translateY=h,i.translateX=f+this.lgRect.width+l;break;case"right":i.gridWidth=i.svgWidth-this.lgRect.width-l-5,i.gridHeight=s.chart.height!=="auto"?i.svgHeight:i.gridWidth,i.translateY=h,i.translateX=f+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(n,i,s){var l=this.w,u=l.globals.hasXaxisGroups?2:1,h=s.height+n.height+i.height,f=l.globals.isMultiLineX?1.2:l.globals.LINE_HEIGHT_RATIO,g=l.globals.rotateXLabels?22:10,v=l.globals.rotateXLabels&&l.config.legend.position==="bottom"?10:0;this.xAxisHeight=h*f+u*g+v,this.xAxisWidth=n.width,this.xAxisHeight-i.height>l.config.xaxis.labels.maxHeight&&(this.xAxisHeight=l.config.xaxis.labels.maxHeight),l.config.xaxis.labels.minHeight&&this.xAxisHeight<l.config.xaxis.labels.minHeight&&(this.xAxisHeight=l.config.xaxis.labels.minHeight),l.config.xaxis.floating&&(this.xAxisHeight=0);var S=0,C=0;l.config.yaxis.forEach(function(O){S+=O.labels.minWidth,C+=O.labels.maxWidth}),this.yAxisWidth<S&&(this.yAxisWidth=S),this.yAxisWidth>C&&(this.yAxisWidth=C)}}]),Y}(),jt=function(){function Y(n){c(this,Y),this.w=n.w,this.lgCtx=n}return p(Y,[{key:"getLegendStyles",value:function(){var n=document.createElement("style");n.setAttribute("type","text/css");var i=document.createTextNode(`	
    	
      .apexcharts-legend {	
        display: flex;	
        overflow: auto;	
        padding: 0 10px;	
      }	
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {	
        flex-wrap: wrap	
      }	
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        flex-direction: column;	
        bottom: 0;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {	
        justify-content: flex-start;	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {	
        justify-content: center;  	
      }	
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {	
        justify-content: flex-end;	
      }	
      .apexcharts-legend-series {	
        cursor: pointer;	
        line-height: normal;	
      }	
      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{	
        display: flex;	
        align-items: center;	
      }	
      .apexcharts-legend-text {	
        position: relative;	
        font-size: 14px;	
      }	
      .apexcharts-legend-text *, .apexcharts-legend-marker * {	
        pointer-events: none;	
      }	
      .apexcharts-legend-marker {	
        position: relative;	
        display: inline-block;	
        cursor: pointer;	
        margin-right: 3px;	
        border-style: solid;
      }	
      	
      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{	
        display: inline-block;	
      }	
      .apexcharts-legend-series.apexcharts-no-click {	
        cursor: auto;	
      }	
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {	
        display: none !important;	
      }	
      .apexcharts-inactive-legend {	
        opacity: 0.45;	
      }`);return n.appendChild(i),n}},{key:"getLegendBBox",value:function(){var n=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),i=n.width;return{clwh:n.height,clww:i}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(n,i){var s=this,l=this.w;if(l.globals.axisCharts||l.config.chart.type==="radialBar"){l.globals.resized=!0;var u=null,h=null;l.globals.risingSeries=[],l.globals.axisCharts?(u=l.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(n,"']")),h=parseInt(u.getAttribute("data:realIndex"),10)):(u=l.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(n+1,"']")),h=parseInt(u.getAttribute("rel"),10)-1),i?[{cs:l.globals.collapsedSeries,csi:l.globals.collapsedSeriesIndices},{cs:l.globals.ancillaryCollapsedSeries,csi:l.globals.ancillaryCollapsedSeriesIndices}].forEach(function(S){s.riseCollapsedSeries(S.cs,S.csi,h)}):this.hideSeries({seriesEl:u,realIndex:h})}else{var f=l.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(n+1,"'] path")),g=l.config.chart.type;if(g==="pie"||g==="polarArea"||g==="donut"){var v=l.config.plotOptions.pie.donut.labels;new R(this.lgCtx.ctx).pathMouseDown(f.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(f.members[0].node,v)}f.fire("click")}}},{key:"hideSeries",value:function(n){var i=n.seriesEl,s=n.realIndex,l=this.w,u=E.clone(l.config.series);if(l.globals.axisCharts){var h=!1;if(l.config.yaxis[s]&&l.config.yaxis[s].show&&l.config.yaxis[s].showAlways&&(h=!0,l.globals.ancillaryCollapsedSeriesIndices.indexOf(s)<0&&(l.globals.ancillaryCollapsedSeries.push({index:s,data:u[s].data.slice(),type:i.parentNode.className.baseVal.split("-")[1]}),l.globals.ancillaryCollapsedSeriesIndices.push(s))),!h){l.globals.collapsedSeries.push({index:s,data:u[s].data.slice(),type:i.parentNode.className.baseVal.split("-")[1]}),l.globals.collapsedSeriesIndices.push(s);var f=l.globals.risingSeries.indexOf(s);l.globals.risingSeries.splice(f,1)}}else l.globals.collapsedSeries.push({index:s,data:u[s]}),l.globals.collapsedSeriesIndices.push(s);for(var g=i.childNodes,v=0;v<g.length;v++)g[v].classList.contains("apexcharts-series-markers-wrap")&&(g[v].classList.contains("apexcharts-hide")?g[v].classList.remove("apexcharts-hide"):g[v].classList.add("apexcharts-hide"));l.globals.allSeriesCollapsed=l.globals.collapsedSeries.length===l.config.series.length,u=this._getSeriesBasedOnCollapsedState(u),this.lgCtx.ctx.updateHelpers._updateSeries(u,l.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(n,i,s){var l=this.w,u=E.clone(l.config.series);if(n.length>0){for(var h=0;h<n.length;h++)n[h].index===s&&(l.globals.axisCharts?(u[s].data=n[h].data.slice(),n.splice(h,1),i.splice(h,1),l.globals.risingSeries.push(s)):(u[s]=n[h].data,n.splice(h,1),i.splice(h,1),l.globals.risingSeries.push(s)));u=this._getSeriesBasedOnCollapsedState(u),this.lgCtx.ctx.updateHelpers._updateSeries(u,l.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(n){var i=this.w;return i.globals.axisCharts?n.forEach(function(s,l){i.globals.collapsedSeriesIndices.indexOf(l)>-1&&(n[l].data=[])}):n.forEach(function(s,l){i.globals.collapsedSeriesIndices.indexOf(l)>-1&&(n[l]=0)}),n}}]),Y}(),ut=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new jt(this)}return p(Y,[{key:"init",value:function(){var n=this.w,i=n.globals,s=n.config;if((s.legend.showForSingleSeries&&i.series.length===1||this.isBarsDistributed||i.series.length>1||!i.axisCharts)&&s.legend.show){for(;i.dom.elLegendWrap.firstChild;)i.dom.elLegendWrap.removeChild(i.dom.elLegendWrap.firstChild);this.drawLegends(),E.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),s.legend.position==="bottom"||s.legend.position==="top"?this.legendAlignHorizontal():s.legend.position!=="right"&&s.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var n=this,i=this.w,s=i.config.legend.fontFamily,l=i.globals.seriesNames,u=i.globals.colors.slice();if(i.config.chart.type==="heatmap"){var h=i.config.plotOptions.heatmap.colorScale.ranges;l=h.map(function(Ce){return Ce.name?Ce.name:Ce.from+" - "+Ce.to}),u=h.map(function(Ce){return Ce.color})}else this.isBarsDistributed&&(l=i.globals.labels.slice());i.config.legend.customLegendItems.length&&(l=i.config.legend.customLegendItems);for(var f=i.globals.legendFormatter,g=i.config.legend.inverseOrder,v=g?l.length-1:0;g?v>=0:v<=l.length-1;g?v--:v++){var S=f(l[v],{seriesIndex:v,w:i}),C=!1,O=!1;if(i.globals.collapsedSeries.length>0)for(var L=0;L<i.globals.collapsedSeries.length;L++)i.globals.collapsedSeries[L].index===v&&(C=!0);if(i.globals.ancillaryCollapsedSeriesIndices.length>0)for(var _=0;_<i.globals.ancillaryCollapsedSeriesIndices.length;_++)i.globals.ancillaryCollapsedSeriesIndices[_]===v&&(O=!0);var B=document.createElement("span");B.classList.add("apexcharts-legend-marker");var H=i.config.legend.markers.offsetX,$=i.config.legend.markers.offsetY,J=i.config.legend.markers.height,y=i.config.legend.markers.width,M=i.config.legend.markers.strokeWidth,z=i.config.legend.markers.strokeColor,V=i.config.legend.markers.radius,Q=B.style;Q.background=u[v],Q.color=u[v],Q.setProperty("background",u[v],"important"),i.config.legend.markers.fillColors&&i.config.legend.markers.fillColors[v]&&(Q.background=i.config.legend.markers.fillColors[v]),i.globals.seriesColors[v]!==void 0&&(Q.background=i.globals.seriesColors[v],Q.color=i.globals.seriesColors[v]),Q.height=Array.isArray(J)?parseFloat(J[v])+"px":parseFloat(J)+"px",Q.width=Array.isArray(y)?parseFloat(y[v])+"px":parseFloat(y)+"px",Q.left=(Array.isArray(H)?parseFloat(H[v]):parseFloat(H))+"px",Q.top=(Array.isArray($)?parseFloat($[v]):parseFloat($))+"px",Q.borderWidth=Array.isArray(M)?M[v]:M,Q.borderColor=Array.isArray(z)?z[v]:z,Q.borderRadius=Array.isArray(V)?parseFloat(V[v])+"px":parseFloat(V)+"px",i.config.legend.markers.customHTML&&(Array.isArray(i.config.legend.markers.customHTML)?i.config.legend.markers.customHTML[v]&&(B.innerHTML=i.config.legend.markers.customHTML[v]()):B.innerHTML=i.config.legend.markers.customHTML()),R.setAttrs(B,{rel:v+1,"data:collapsed":C||O}),(C||O)&&B.classList.add("apexcharts-inactive-legend");var ee=document.createElement("div"),ue=document.createElement("span");ue.classList.add("apexcharts-legend-text"),ue.innerHTML=Array.isArray(S)?S.join(" "):S;var he=i.config.legend.labels.useSeriesColors?i.globals.colors[v]:i.config.legend.labels.colors;he||(he=i.config.chart.foreColor),ue.style.color=he,ue.style.fontSize=parseFloat(i.config.legend.fontSize)+"px",ue.style.fontWeight=i.config.legend.fontWeight,ue.style.fontFamily=s||i.config.chart.fontFamily,R.setAttrs(ue,{rel:v+1,i:v,"data:default-text":encodeURIComponent(S),"data:collapsed":C||O}),ee.appendChild(B),ee.appendChild(ue);var ke=new G(this.ctx);i.config.legend.showForZeroSeries||ke.getSeriesTotalByIndex(v)===0&&ke.seriesHaveSameValues(v)&&!ke.isSeriesNull(v)&&i.globals.collapsedSeriesIndices.indexOf(v)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(v)===-1&&ee.classList.add("apexcharts-hidden-zero-series"),i.config.legend.showForNullSeries||ke.isSeriesNull(v)&&i.globals.collapsedSeriesIndices.indexOf(v)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(v)===-1&&ee.classList.add("apexcharts-hidden-null-series"),i.globals.dom.elLegendWrap.appendChild(ee),i.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(i.config.legend.horizontalAlign)),i.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+i.config.legend.position),ee.classList.add("apexcharts-legend-series"),ee.style.margin="".concat(i.config.legend.itemMargin.vertical,"px ").concat(i.config.legend.itemMargin.horizontal,"px"),i.globals.dom.elLegendWrap.style.width=i.config.legend.width?i.config.legend.width+"px":"",i.globals.dom.elLegendWrap.style.height=i.config.legend.height?i.config.legend.height+"px":"",R.setAttrs(ee,{rel:v+1,seriesName:E.escapeString(l[v]),"data:collapsed":C||O}),(C||O)&&ee.classList.add("apexcharts-inactive-legend"),i.config.legend.onItemClick.toggleDataSeries||ee.classList.add("apexcharts-no-click")}i.globals.dom.elWrap.addEventListener("click",n.onLegendClick,!0),i.config.legend.onItemHover.highlightDataSeries&&i.config.legend.customLegendItems.length===0&&(i.globals.dom.elWrap.addEventListener("mousemove",n.onLegendHovered,!0),i.globals.dom.elWrap.addEventListener("mouseout",n.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(n,i){var s=this.w,l=s.globals.dom.elLegendWrap,u=l.getBoundingClientRect(),h=0,f=0;if(s.config.legend.position==="bottom")f+=s.globals.svgHeight-u.height/2;else if(s.config.legend.position==="top"){var g=new bt(this.ctx),v=g.dimHelpers.getTitleSubtitleCoords("title").height,S=g.dimHelpers.getTitleSubtitleCoords("subtitle").height;f=f+(v>0?v-10:0)+(S>0?S-10:0)}l.style.position="absolute",h=h+n+s.config.legend.offsetX,f=f+i+s.config.legend.offsetY,l.style.left=h+"px",l.style.top=f+"px",s.config.legend.position==="bottom"?(l.style.top="auto",l.style.bottom=5-s.config.legend.offsetY+"px"):s.config.legend.position==="right"&&(l.style.left="auto",l.style.right=25+s.config.legend.offsetX+"px"),["width","height"].forEach(function(C){l.style[C]&&(l.style[C]=parseInt(s.config.legend[C],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var n=this.w;n.globals.dom.elLegendWrap.style.right=0;var i=this.legendHelpers.getLegendBBox(),s=new bt(this.ctx),l=s.dimHelpers.getTitleSubtitleCoords("title"),u=s.dimHelpers.getTitleSubtitleCoords("subtitle"),h=0;n.config.legend.position==="bottom"?h=-i.clwh/1.8:n.config.legend.position==="top"&&(h=l.height+u.height+n.config.title.margin+n.config.subtitle.margin-10),this.setLegendWrapXY(20,h)}},{key:"legendAlignVertical",value:function(){var n=this.w,i=this.legendHelpers.getLegendBBox(),s=0;n.config.legend.position==="left"&&(s=20),n.config.legend.position==="right"&&(s=n.globals.svgWidth-i.clww-10),this.setLegendWrapXY(s,20)}},{key:"onLegendHovered",value:function(n){var i=this.w,s=n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker");if(i.config.chart.type==="heatmap"||this.isBarsDistributed){if(s){var l=parseInt(n.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,l,this.w]),new re(this.ctx).highlightRangeInSeries(n,n.target)}}else!n.target.classList.contains("apexcharts-inactive-legend")&&s&&new re(this.ctx).toggleSeriesOnHover(n,n.target)}},{key:"onLegendClick",value:function(n){var i=this.w;if(!i.config.legend.customLegendItems.length&&(n.target.classList.contains("apexcharts-legend-text")||n.target.classList.contains("apexcharts-legend-marker"))){var s=parseInt(n.target.getAttribute("rel"),10)-1,l=n.target.getAttribute("data:collapsed")==="true",u=this.w.config.chart.events.legendClick;typeof u=="function"&&u(this.ctx,s,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,s,this.w]);var h=this.w.config.legend.markers.onClick;typeof h=="function"&&n.target.classList.contains("apexcharts-legend-marker")&&(h(this.ctx,s,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,s,this.w])),i.config.chart.type!=="treemap"&&i.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&i.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(s,l)}}}]),Y}(),Un=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w;var i=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=i.globals.minX,this.maxX=i.globals.maxX}return p(Y,[{key:"createToolbar",value:function(){var n=this,i=this.w,s=function(){return document.createElement("div")},l=s();if(l.setAttribute("class","apexcharts-toolbar"),l.style.top=i.config.chart.toolbar.offsetY+"px",l.style.right=3-i.config.chart.toolbar.offsetX+"px",i.globals.dom.elWrap.appendChild(l),this.elZoom=s(),this.elZoomIn=s(),this.elZoomOut=s(),this.elPan=s(),this.elSelection=s(),this.elZoomReset=s(),this.elMenuIcon=s(),this.elMenu=s(),this.elCustomIcons=[],this.t=i.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var u=0;u<this.t.customIcons.length;u++)this.elCustomIcons.push(s());var h=[],f=function(C,O,L){var _=C.toLowerCase();n.t[_]&&i.config.chart.zoom.enabled&&h.push({el:O,icon:typeof n.t[_]=="string"?n.t[_]:L,title:n.localeValues[C],class:"apexcharts-".concat(_,"-icon")})};f("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),f("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var g=function(C){n.t[C]&&i.config.chart[C].enabled&&h.push({el:C==="zoom"?n.elZoom:n.elSelection,icon:typeof n.t[C]=="string"?n.t[C]:C==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:n.localeValues[C==="zoom"?"selectionZoom":"selection"],class:i.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(C,"-icon")})};g("zoom"),g("selection"),this.t.pan&&i.config.chart.zoom.enabled&&h.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:i.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),f("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&h.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var v=0;v<this.elCustomIcons.length;v++)h.push({el:this.elCustomIcons[v],icon:this.t.customIcons[v].icon,title:this.t.customIcons[v].title,index:this.t.customIcons[v].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[v].class});h.forEach(function(C,O){C.index&&E.moveIndexInArray(h,O,C.index)});for(var S=0;S<h.length;S++)R.setAttrs(h[S].el,{class:h[S].class,title:h[S].title}),h[S].el.innerHTML=h[S].icon,l.appendChild(h[S].el);this._createHamburgerMenu(l),i.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):i.globals.panEnabled?this.elPan.classList.add(this.selectedClass):i.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(n){this.elMenuItems=[],n.appendChild(this.elMenu),R.setAttrs(this.elMenu,{class:"apexcharts-menu"});var i=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||i.splice(2,1);for(var s=0;s<i.length;s++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[s].innerHTML=i[s].title,R.setAttrs(this.elMenuItems[s],{class:"apexcharts-menu-item ".concat(i[s].name),title:i[s].title}),this.elMenu.appendChild(this.elMenuItems[s])}},{key:"addToolbarEventListeners",value:function(){var n=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(s){s.classList.contains("exportSVG")?s.addEventListener("click",n.handleDownload.bind(n,"svg")):s.classList.contains("exportPNG")?s.addEventListener("click",n.handleDownload.bind(n,"png")):s.classList.contains("exportCSV")&&s.addEventListener("click",n.handleDownload.bind(n,"csv"))});for(var i=0;i<this.t.customIcons.length;i++)this.elCustomIcons[i].addEventListener("click",this.t.customIcons[i].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(n){this.ctx.getSyncedCharts().forEach(function(i){i.ctx.toolbar.toggleOtherControls();var s=n==="selection"?i.ctx.toolbar.elSelection:i.ctx.toolbar.elZoom,l=n==="selection"?"selectionEnabled":"zoomEnabled";i.w.globals[l]=!i.w.globals[l],s.classList.contains(i.ctx.toolbar.selectedClass)?s.classList.remove(i.ctx.toolbar.selectedClass):s.classList.add(i.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var n=this.w;this.elZoom||(this.elZoom=n.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=n.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=n.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(n){this.toggleOtherControls(),n==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var i=n==="pan"?this.elPan:this.elZoom,s=n==="pan"?this.elZoom:this.elPan;i&&i.classList.add(this.selectedClass),s&&s.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(n){n.ctx.toolbar.toggleOtherControls(),n.w.globals.panEnabled=!n.w.globals.panEnabled,n.ctx.toolbar.elPan.classList.contains(n.ctx.toolbar.selectedClass)?n.ctx.toolbar.elPan.classList.remove(n.ctx.toolbar.selectedClass):n.ctx.toolbar.elPan.classList.add(n.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var n=this,i=this.w;i.globals.panEnabled=!1,i.globals.zoomEnabled=!1,i.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(s){s&&s.classList.remove(n.selectedClass)})}},{key:"handleZoomIn",value:function(){var n=this.w;n.globals.isRangeBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY);var i=(this.minX+this.maxX)/2,s=(this.minX+i)/2,l=(this.maxX+i)/2,u=this._getNewMinXMaxX(s,l);n.globals.disableZoomIn||this.zoomUpdateOptions(u.minX,u.maxX)}},{key:"handleZoomOut",value:function(){var n=this.w;if(n.globals.isRangeBar&&(this.minX=n.globals.minY,this.maxX=n.globals.maxY),!(n.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var i=(this.minX+this.maxX)/2,s=this.minX-(i-this.minX),l=this.maxX-(i-this.maxX),u=this._getNewMinXMaxX(s,l);n.globals.disableZoomOut||this.zoomUpdateOptions(u.minX,u.maxX)}}},{key:"_getNewMinXMaxX",value:function(n,i){var s=this.w.config.xaxis.convertedCatToNumeric;return{minX:s?Math.floor(n):n,maxX:s?Math.floor(i):i}}},{key:"zoomUpdateOptions",value:function(n,i){var s=this.w;if(n!==void 0||i!==void 0){if(!(s.config.xaxis.convertedCatToNumeric&&(n<1&&(n=1,i=s.globals.dataPoints),i-n<2))){var l={min:n,max:i},u=this.getBeforeZoomRange(l);u&&(l=u.xaxis);var h={xaxis:l},f=E.clone(s.globals.initialConfig.yaxis);s.config.chart.zoom.autoScaleYaxis&&(f=new We(this.ctx).autoScaleY(this.ctx,f,{xaxis:l})),s.config.chart.group||(h.yaxis=f),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(h,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(l,f)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(n,i){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:n,yaxis:i})}},{key:"getBeforeZoomRange",value:function(n,i){var s=null;return typeof this.ev.beforeZoom=="function"&&(s=this.ev.beforeZoom(this,{xaxis:n,yaxis:i})),s}},{key:"toggleMenu",value:function(){var n=this;window.setTimeout(function(){n.elMenu.classList.contains("apexcharts-menu-open")?n.elMenu.classList.remove("apexcharts-menu-open"):n.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(n){var i=this.w,s=new be(this.ctx);switch(n){case"svg":s.exportToSVG(this.ctx);break;case"png":s.exportToPng(this.ctx);break;case"csv":s.exportToCSV({series:i.config.series,columnDelimiter:i.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(n){this.ctx.getSyncedCharts().forEach(function(i){var s=i.w;if(s.globals.lastXAxis.min=void 0,s.globals.lastXAxis.max=void 0,i.updateHelpers.revertDefaultAxisMinMax(),typeof s.config.chart.events.beforeResetZoom=="function"){var l=s.config.chart.events.beforeResetZoom(i,s);l&&i.updateHelpers.revertDefaultAxisMinMax(l)}typeof s.config.chart.events.zoomed=="function"&&i.ctx.toolbar.zoomCallback({min:s.config.xaxis.min,max:s.config.xaxis.max}),s.globals.zoomed=!1;var u=i.ctx.series.emptyCollapsedSeries(E.clone(s.globals.initialSeries));i.updateHelpers._updateSeries(u,s.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),Y}(),ft=function(Y){b(i,Un);var n=A(i);function i(s){var l;return c(this,i),(l=n.call(this,s)).ctx=s,l.w=s.w,l.dragged=!1,l.graphics=new R(l.ctx),l.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],l.clientX=0,l.clientY=0,l.startX=0,l.endX=0,l.dragX=0,l.startY=0,l.endY=0,l.dragY=0,l.moveDirection="none",l}return p(i,[{key:"init",value:function(s){var l=this,u=s.xyRatios,h=this.w,f=this;this.xyRatios=u,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=h.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),h.globals.dom.elGraphical.add(this.zoomRect),h.globals.dom.elGraphical.add(this.selectionRect),h.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:h.globals.gridWidth,maxY:h.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):h.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:h.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=h.globals.dom.baseEl.querySelector("".concat(h.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(g){l.hoverArea.addEventListener(g,f.svgMouseEvents.bind(f,u),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(s,l){var u=this.w,h=this,f=this.ctx.toolbar,g=u.globals.zoomEnabled?u.config.chart.zoom.type:u.config.chart.selection.type,v=u.config.chart.toolbar.autoSelected;if(l.shiftKey?(this.shiftWasPressed=!0,f.enableZoomPanFromToolbar(v==="pan"?"zoom":"pan")):this.shiftWasPressed&&(f.enableZoomPanFromToolbar(v),this.shiftWasPressed=!1),l.target){var S,C=l.target.classList;if(l.target.parentNode&&l.target.parentNode!==null&&(S=l.target.parentNode.classList),!(C.contains("apexcharts-selection-rect")||C.contains("apexcharts-legend-marker")||C.contains("apexcharts-legend-text")||S&&S.contains("apexcharts-toolbar"))){if(h.clientX=l.type==="touchmove"||l.type==="touchstart"?l.touches[0].clientX:l.type==="touchend"?l.changedTouches[0].clientX:l.clientX,h.clientY=l.type==="touchmove"||l.type==="touchstart"?l.touches[0].clientY:l.type==="touchend"?l.changedTouches[0].clientY:l.clientY,l.type==="mousedown"&&l.which===1){var O=h.gridRect.getBoundingClientRect();h.startX=h.clientX-O.left,h.startY=h.clientY-O.top,h.dragged=!1,h.w.globals.mousedown=!0}if((l.type==="mousemove"&&l.which===1||l.type==="touchmove")&&(h.dragged=!0,u.globals.panEnabled?(u.globals.selection=null,h.w.globals.mousedown&&h.panDragging({context:h,zoomtype:g,xyRatios:s})):(h.w.globals.mousedown&&u.globals.zoomEnabled||h.w.globals.mousedown&&u.globals.selectionEnabled)&&(h.selection=h.selectionDrawing({context:h,zoomtype:g}))),l.type==="mouseup"||l.type==="touchend"||l.type==="mouseleave"){var L=h.gridRect.getBoundingClientRect();h.w.globals.mousedown&&(h.endX=h.clientX-L.left,h.endY=h.clientY-L.top,h.dragX=Math.abs(h.endX-h.startX),h.dragY=Math.abs(h.endY-h.startY),(u.globals.zoomEnabled||u.globals.selectionEnabled)&&h.selectionDrawn({context:h,zoomtype:g}),u.globals.panEnabled&&u.config.xaxis.convertedCatToNumeric&&h.delayedPanScrolled()),u.globals.zoomEnabled&&h.hideSelectionRect(this.selectionRect),h.dragged=!1,h.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var s=this.w;if(this.selectionRect){var l=this.selectionRect.node.getBoundingClientRect();l.width>0&&l.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:s.globals.gridWidth,maxY:s.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var s=this.w,l=this.xyRatios;if(!s.globals.zoomEnabled){if(s.globals.selection!==void 0&&s.globals.selection!==null)this.drawSelectionRect(s.globals.selection);else if(s.config.chart.selection.xaxis.min!==void 0&&s.config.chart.selection.xaxis.max!==void 0){var u=(s.config.chart.selection.xaxis.min-s.globals.minX)/l.xRatio,h={x:u,y:0,width:s.globals.gridWidth-(s.globals.maxX-s.config.chart.selection.xaxis.max)/l.xRatio-u,height:s.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(h),this.makeSelectionRectDraggable(),typeof s.config.chart.events.selection=="function"&&s.config.chart.events.selection(this.ctx,{xaxis:{min:s.config.chart.selection.xaxis.min,max:s.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(s){var l=s.x,u=s.y,h=s.width,f=s.height,g=s.translateX,v=g===void 0?0:g,S=s.translateY,C=S===void 0?0:S,O=this.w,L=this.zoomRect,_=this.selectionRect;if(this.dragged||O.globals.selection!==null){var B={transform:"translate("+v+", "+C+")"};O.globals.zoomEnabled&&this.dragged&&(h<0&&(h=1),L.attr({x:l,y:u,width:h,height:f,fill:O.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":O.config.chart.zoom.zoomedArea.fill.opacity,stroke:O.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":O.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":O.config.chart.zoom.zoomedArea.stroke.opacity}),R.setAttrs(L.node,B)),O.globals.selectionEnabled&&(_.attr({x:l,y:u,width:h>0?h:0,height:f>0?f:0,fill:O.config.chart.selection.fill.color,"fill-opacity":O.config.chart.selection.fill.opacity,stroke:O.config.chart.selection.stroke.color,"stroke-width":O.config.chart.selection.stroke.width,"stroke-dasharray":O.config.chart.selection.stroke.dashArray,"stroke-opacity":O.config.chart.selection.stroke.opacity}),R.setAttrs(_.node,B))}}},{key:"hideSelectionRect",value:function(s){s&&s.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(s){var l=s.context,u=s.zoomtype,h=this.w,f=l,g=this.gridRect.getBoundingClientRect(),v=f.startX-1,S=f.startY,C=!1,O=!1,L=f.clientX-g.left-v,_=f.clientY-g.top-S,B={};return Math.abs(L+v)>h.globals.gridWidth?L=h.globals.gridWidth-v:f.clientX-g.left<0&&(L=v),v>f.clientX-g.left&&(C=!0,L=Math.abs(L)),S>f.clientY-g.top&&(O=!0,_=Math.abs(_)),B=u==="x"?{x:C?v-L:v,y:0,width:L,height:h.globals.gridHeight}:u==="y"?{x:0,y:O?S-_:S,width:h.globals.gridWidth,height:_}:{x:C?v-L:v,y:O?S-_:S,width:L,height:_},f.drawSelectionRect(B),f.selectionDragging("resizing"),B}},{key:"selectionDragging",value:function(s,l){var u=this,h=this.w,f=this.xyRatios,g=this.selectionRect,v=0;s==="resizing"&&(v=30);var S=function(O){return parseFloat(g.node.getAttribute(O))},C={x:S("x"),y:S("y"),width:S("width"),height:S("height")};h.globals.selection=C,typeof h.config.chart.events.selection=="function"&&h.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var O=u.gridRect.getBoundingClientRect(),L=g.node.getBoundingClientRect(),_={xaxis:{min:h.globals.xAxisScale.niceMin+(L.left-O.left)*f.xRatio,max:h.globals.xAxisScale.niceMin+(L.right-O.left)*f.xRatio},yaxis:{min:h.globals.yAxisScale[0].niceMin+(O.bottom-L.bottom)*f.yRatio[0],max:h.globals.yAxisScale[0].niceMax-(L.top-O.top)*f.yRatio[0]}};h.config.chart.events.selection(u.ctx,_),h.config.chart.brush.enabled&&h.config.chart.events.brushScrolled!==void 0&&h.config.chart.events.brushScrolled(u.ctx,_)},v))}},{key:"selectionDrawn",value:function(s){var l=s.context,u=s.zoomtype,h=this.w,f=l,g=this.xyRatios,v=this.ctx.toolbar;if(f.startX>f.endX){var S=f.startX;f.startX=f.endX,f.endX=S}if(f.startY>f.endY){var C=f.startY;f.startY=f.endY,f.endY=C}var O=void 0,L=void 0;h.globals.isRangeBar?(O=h.globals.yAxisScale[0].niceMin+f.startX*g.invertedYRatio,L=h.globals.yAxisScale[0].niceMin+f.endX*g.invertedYRatio):(O=h.globals.xAxisScale.niceMin+f.startX*g.xRatio,L=h.globals.xAxisScale.niceMin+f.endX*g.xRatio);var _=[],B=[];if(h.config.yaxis.forEach(function(Q,ee){_.push(h.globals.yAxisScale[ee].niceMax-g.yRatio[ee]*f.startY),B.push(h.globals.yAxisScale[ee].niceMax-g.yRatio[ee]*f.endY)}),f.dragged&&(f.dragX>10||f.dragY>10)&&O!==L){if(h.globals.zoomEnabled){var H=E.clone(h.globals.initialConfig.yaxis),$=E.clone(h.globals.initialConfig.xaxis);if(h.globals.zoomed=!0,h.config.xaxis.convertedCatToNumeric&&(O=Math.floor(O),L=Math.floor(L),O<1&&(O=1,L=h.globals.dataPoints),L-O<2&&(L=O+1)),u!=="xy"&&u!=="x"||($={min:O,max:L}),u!=="xy"&&u!=="y"||H.forEach(function(Q,ee){H[ee].min=B[ee],H[ee].max=_[ee]}),h.config.chart.zoom.autoScaleYaxis){var J=new We(f.ctx);H=J.autoScaleY(f.ctx,H,{xaxis:$})}if(v){var y=v.getBeforeZoomRange($,H);y&&($=y.xaxis?y.xaxis:$,H=y.yaxis?y.yaxis:H)}var M={xaxis:$};h.config.chart.group||(M.yaxis=H),f.ctx.updateHelpers._updateOptions(M,!1,f.w.config.chart.animations.dynamicAnimation.enabled),typeof h.config.chart.events.zoomed=="function"&&v.zoomCallback($,H)}else if(h.globals.selectionEnabled){var z,V=null;z={min:O,max:L},u!=="xy"&&u!=="y"||(V=E.clone(h.config.yaxis)).forEach(function(Q,ee){V[ee].min=B[ee],V[ee].max=_[ee]}),h.globals.selection=f.selection,typeof h.config.chart.events.selection=="function"&&h.config.chart.events.selection(f.ctx,{xaxis:z,yaxis:V})}}}},{key:"panDragging",value:function(s){var l=s.context,u=this.w,h=l;if(u.globals.lastClientPosition.x!==void 0){var f=u.globals.lastClientPosition.x-h.clientX,g=u.globals.lastClientPosition.y-h.clientY;Math.abs(f)>Math.abs(g)&&f>0?this.moveDirection="left":Math.abs(f)>Math.abs(g)&&f<0?this.moveDirection="right":Math.abs(g)>Math.abs(f)&&g>0?this.moveDirection="up":Math.abs(g)>Math.abs(f)&&g<0&&(this.moveDirection="down")}u.globals.lastClientPosition={x:h.clientX,y:h.clientY};var v=u.globals.isRangeBar?u.globals.minY:u.globals.minX,S=u.globals.isRangeBar?u.globals.maxY:u.globals.maxX;u.config.xaxis.convertedCatToNumeric||h.panScrolled(v,S)}},{key:"delayedPanScrolled",value:function(){var s=this.w,l=s.globals.minX,u=s.globals.maxX,h=(s.globals.maxX-s.globals.minX)/2;this.moveDirection==="left"?(l=s.globals.minX+h,u=s.globals.maxX+h):this.moveDirection==="right"&&(l=s.globals.minX-h,u=s.globals.maxX-h),l=Math.floor(l),u=Math.floor(u),this.updateScrolledChart({xaxis:{min:l,max:u}},l,u)}},{key:"panScrolled",value:function(s,l){var u=this.w,h=this.xyRatios,f=E.clone(u.globals.initialConfig.yaxis),g=h.xRatio,v=u.globals.minX,S=u.globals.maxX;u.globals.isRangeBar&&(g=h.invertedYRatio,v=u.globals.minY,S=u.globals.maxY),this.moveDirection==="left"?(s=v+u.globals.gridWidth/15*g,l=S+u.globals.gridWidth/15*g):this.moveDirection==="right"&&(s=v-u.globals.gridWidth/15*g,l=S-u.globals.gridWidth/15*g),u.globals.isRangeBar||(s<u.globals.initialMinX||l>u.globals.initialMaxX)&&(s=v,l=S);var C={min:s,max:l};u.config.chart.zoom.autoScaleYaxis&&(f=new We(this.ctx).autoScaleY(this.ctx,f,{xaxis:C}));var O={xaxis:{min:s,max:l}};u.config.chart.group||(O.yaxis=f),this.updateScrolledChart(O,s,l)}},{key:"updateScrolledChart",value:function(s,l,u){var h=this.w;this.ctx.updateHelpers._updateOptions(s,!1,!1),typeof h.config.chart.events.scrolled=="function"&&h.config.chart.events.scrolled(this.ctx,{xaxis:{min:l,max:u}})}}]),i}(),Kt=function(){function Y(n){c(this,Y),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx}return p(Y,[{key:"getNearestValues",value:function(n){var i=n.hoverArea,s=n.elGrid,l=n.clientX,u=n.clientY,h=this.w,f=s.getBoundingClientRect(),g=f.width,v=f.height,S=g/(h.globals.dataPoints-1),C=v/h.globals.dataPoints,O=this.hasBars();!h.globals.comboCharts&&!O||h.config.xaxis.convertedCatToNumeric||(S=g/h.globals.dataPoints);var L=l-f.left-h.globals.barPadForNumericAxis,_=u-f.top;L<0||_<0||L>g||_>v?(i.classList.remove("hovering-zoom"),i.classList.remove("hovering-pan")):h.globals.zoomEnabled?(i.classList.remove("hovering-pan"),i.classList.add("hovering-zoom")):h.globals.panEnabled&&(i.classList.remove("hovering-zoom"),i.classList.add("hovering-pan"));var B=Math.round(L/S),H=Math.floor(_/C);O&&!h.config.xaxis.convertedCatToNumeric&&(B=Math.ceil(L/S),B-=1);var $=null,J=null,y=[],M=[];if(h.globals.seriesXvalues.forEach(function(ee){y.push([ee[0]+1e-6].concat(ee))}),h.globals.seriesYvalues.forEach(function(ee){M.push([ee[0]+1e-6].concat(ee))}),y=y.map(function(ee){return ee.filter(function(ue){return E.isNumber(ue)})}),M=M.map(function(ee){return ee.filter(function(ue){return E.isNumber(ue)})}),h.globals.isXNumeric){var z=this.ttCtx.getElGrid().getBoundingClientRect(),V=L*(z.width/g),Q=_*(z.height/v);$=(J=this.closestInMultiArray(V,Q,y,M)).index,B=J.j,$!==null&&(y=h.globals.seriesXvalues[$],B=(J=this.closestInArray(V,y)).index)}return h.globals.capturedSeriesIndex=$===null?-1:$,(!B||B<1)&&(B=0),h.globals.isBarHorizontal?h.globals.capturedDataPointIndex=H:h.globals.capturedDataPointIndex=B,{capturedSeries:$,j:h.globals.isBarHorizontal?H:B,hoverX:L,hoverY:_}}},{key:"closestInMultiArray",value:function(n,i,s,l){var u=this.w,h=0,f=null,g=-1;u.globals.series.length>1?h=this.getFirstActiveXArray(s):f=0;var v=s[h][0],S=Math.abs(n-v);if(s.forEach(function(L){L.forEach(function(_,B){var H=Math.abs(n-_);H<S&&(S=H,g=B)})}),g!==-1){var C=l[h][g],O=Math.abs(i-C);f=h,l.forEach(function(L,_){var B=Math.abs(i-L[g]);B<O&&(O=B,f=_)})}return{index:f,j:g}}},{key:"getFirstActiveXArray",value:function(n){for(var i=this.w,s=0,l=n.map(function(h,f){return h.length>0?f:-1}),u=0;u<l.length;u++)if(l[u]!==-1&&i.globals.collapsedSeriesIndices.indexOf(u)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(u)===-1){s=l[u];break}return s}},{key:"closestInArray",value:function(n,i){for(var s=i[0],l=null,u=Math.abs(n-s),h=0;h<i.length;h++){var f=Math.abs(n-i[h]);f<u&&(u=f,l=h)}return{index:l}}},{key:"isXoverlap",value:function(n){var i=[],s=this.w.globals.seriesX.filter(function(u){return u[0]!==void 0});if(s.length>0)for(var l=0;l<s.length-1;l++)s[l][n]!==void 0&&s[l+1][n]!==void 0&&s[l][n]!==s[l+1][n]&&i.push("unEqual");return i.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var n=!0,i=this.w.globals.initialSeries,s=0;s<i.length-1;s++)if(i[s].data.length!==i[s+1].data.length){n=!1;break}return n}},{key:"getBarsHeight",value:function(n){return P(n).reduce(function(i,s){return i+s.getBBox().height},0)}},{key:"getElMarkers",value:function(n){return typeof n=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(n=P(n)).sort(function(s,l){var u=Number(s.getAttribute("data:realIndex")),h=Number(l.getAttribute("data:realIndex"));return h<u?1:h>u?-1:0});var i=[];return n.forEach(function(s){i.push(s.querySelector(".apexcharts-marker"))}),i}},{key:"hasMarkers",value:function(n){return this.getElMarkers(n).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(n){var i=this.w,s=i.config.markers.hover.size;return s===void 0&&(s=i.globals.markers.size[n]+i.config.markers.hover.sizeOffset),s}},{key:"toggleAllTooltipSeriesGroups",value:function(n){var i=this.w,s=this.ttCtx;s.allTooltipSeriesGroups.length===0&&(s.allTooltipSeriesGroups=i.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var l=s.allTooltipSeriesGroups,u=0;u<l.length;u++)n==="enable"?(l[u].classList.add("apexcharts-active"),l[u].style.display=i.config.tooltip.items.display):(l[u].classList.remove("apexcharts-active"),l[u].style.display="none")}}]),Y}(),yr=function(){function Y(n){c(this,Y),this.w=n.w,this.ctx=n.ctx,this.ttCtx=n,this.tooltipUtil=new Kt(n)}return p(Y,[{key:"drawSeriesTexts",value:function(n){var i=n.shared,s=i===void 0||i,l=n.ttItems,u=n.i,h=u===void 0?0:u,f=n.j,g=f===void 0?null:f,v=n.y1,S=n.y2,C=n.e,O=this.w;O.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:h,j:g,y1:v,y2:S,w:O}):this.toggleActiveInactiveSeries(s);var L=this.getValuesToPrint({i:h,j:g});this.printLabels({i:h,j:g,values:L,ttItems:l,shared:s,e:C});var _=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=_.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=_.getBoundingClientRect().height}},{key:"printLabels",value:function(n){var i,s=this,l=n.i,u=n.j,h=n.values,f=n.ttItems,g=n.shared,v=n.e,S=this.w,C=[],O=function(z){return S.globals.seriesGoals[z]&&S.globals.seriesGoals[z][u]&&Array.isArray(S.globals.seriesGoals[z][u])},L=h.xVal,_=h.zVal,B=h.xAxisTTVal,H="",$=S.globals.colors[l];u!==null&&S.config.plotOptions.bar.distributed&&($=S.globals.colors[u]);for(var J=function(z,V){var Q=s.getFormatters(l);H=s.getSeriesName({fn:Q.yLbTitleFormatter,index:l,seriesIndex:l,j:u}),S.config.chart.type==="treemap"&&(H=Q.yLbTitleFormatter(String(S.config.series[l].data[u].x),{series:S.globals.series,seriesIndex:l,dataPointIndex:u,w:S}));var ee=S.config.tooltip.inverseOrder?V:z;if(S.globals.axisCharts){var ue=function(Ce){var Te,Ne,Ge,nt;return S.globals.isRangeData?Q.yLbFormatter((Te=S.globals.seriesRangeStart)===null||Te===void 0||(Ne=Te[Ce])===null||Ne===void 0?void 0:Ne[u],{series:S.globals.seriesRangeStart,seriesIndex:Ce,dataPointIndex:u,w:S})+" - "+Q.yLbFormatter((Ge=S.globals.seriesRangeEnd)===null||Ge===void 0||(nt=Ge[Ce])===null||nt===void 0?void 0:nt[u],{series:S.globals.seriesRangeEnd,seriesIndex:Ce,dataPointIndex:u,w:S}):Q.yLbFormatter(S.globals.series[Ce][u],{series:S.globals.series,seriesIndex:Ce,dataPointIndex:u,w:S})};if(g)Q=s.getFormatters(ee),H=s.getSeriesName({fn:Q.yLbTitleFormatter,index:ee,seriesIndex:l,j:u}),$=S.globals.colors[ee],i=ue(ee),O(ee)&&(C=S.globals.seriesGoals[ee][u].map(function(Ce){return{attrs:Ce,val:Q.yLbFormatter(Ce.value,{seriesIndex:ee,dataPointIndex:u,w:S})}}));else{var he,ke=v==null||(he=v.target)===null||he===void 0?void 0:he.getAttribute("fill");ke&&($=ke.indexOf("url")!==-1?document.querySelector(ke.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):ke),i=ue(l),O(l)&&Array.isArray(S.globals.seriesGoals[l][u])&&(C=S.globals.seriesGoals[l][u].map(function(Ce){return{attrs:Ce,val:Q.yLbFormatter(Ce.value,{seriesIndex:l,dataPointIndex:u,w:S})}}))}}u===null&&(i=Q.yLbFormatter(S.globals.series[l],r(r({},S),{},{seriesIndex:l,dataPointIndex:l}))),s.DOMHandling({i:l,t:ee,j:u,ttItems:f,values:{val:i,goalVals:C,xVal:L,xAxisTTVal:B,zVal:_},seriesName:H,shared:g,pColor:$})},y=0,M=S.globals.series.length-1;y<S.globals.series.length;y++,M--)J(y,M)}},{key:"getFormatters",value:function(n){var i,s=this.w,l=s.globals.yLabelFormatters[n];return s.globals.ttVal!==void 0?Array.isArray(s.globals.ttVal)?(l=s.globals.ttVal[n]&&s.globals.ttVal[n].formatter,i=s.globals.ttVal[n]&&s.globals.ttVal[n].title&&s.globals.ttVal[n].title.formatter):(l=s.globals.ttVal.formatter,typeof s.globals.ttVal.title.formatter=="function"&&(i=s.globals.ttVal.title.formatter)):i=s.config.tooltip.y.title.formatter,typeof l!="function"&&(l=s.globals.yLabelFormatters[0]?s.globals.yLabelFormatters[0]:function(u){return u}),typeof i!="function"&&(i=function(u){return u}),{yLbFormatter:l,yLbTitleFormatter:i}}},{key:"getSeriesName",value:function(n){var i=n.fn,s=n.index,l=n.seriesIndex,u=n.j,h=this.w;return i(String(h.globals.seriesNames[s]),{series:h.globals.series,seriesIndex:l,dataPointIndex:u,w:h})}},{key:"DOMHandling",value:function(n){n.i;var i=n.t,s=n.j,l=n.ttItems,u=n.values,h=n.seriesName,f=n.shared,g=n.pColor,v=this.w,S=this.ttCtx,C=u.val,O=u.goalVals,L=u.xVal,_=u.xAxisTTVal,B=u.zVal,H=null;H=l[i].children,v.config.tooltip.fillSeriesColor&&(l[i].style.backgroundColor=g,H[0].style.display="none"),S.showTooltipTitle&&(S.tooltipTitle===null&&(S.tooltipTitle=v.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),S.tooltipTitle.innerHTML=L),S.isXAxisTooltipEnabled&&(S.xaxisTooltipText.innerHTML=_!==""?_:L);var $=l[i].querySelector(".apexcharts-tooltip-text-y-label");$&&($.innerHTML=h||"");var J=l[i].querySelector(".apexcharts-tooltip-text-y-value");J&&(J.innerHTML=C!==void 0?C:""),H[0]&&H[0].classList.contains("apexcharts-tooltip-marker")&&(v.config.tooltip.marker.fillColors&&Array.isArray(v.config.tooltip.marker.fillColors)&&(g=v.config.tooltip.marker.fillColors[i]),H[0].style.backgroundColor=g),v.config.tooltip.marker.show||(H[0].style.display="none");var y=l[i].querySelector(".apexcharts-tooltip-text-goals-label"),M=l[i].querySelector(".apexcharts-tooltip-text-goals-value");if(O.length&&v.globals.seriesGoals[i]){var z=function(){var V="<div >",Q="<div>";O.forEach(function(ee,ue){V+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(ee.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(ee.attrs.name,"</div>"),Q+="<div>".concat(ee.val,"</div>")}),y.innerHTML=V+"</div>",M.innerHTML=Q+"</div>"};f?v.globals.seriesGoals[i][s]&&Array.isArray(v.globals.seriesGoals[i][s])?z():(y.innerHTML="",M.innerHTML=""):z()}else y.innerHTML="",M.innerHTML="";B!==null&&(l[i].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=v.config.tooltip.z.title,l[i].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=B!==void 0?B:""),f&&H[0]&&(C==null||v.globals.ancillaryCollapsedSeriesIndices.indexOf(i)>-1||v.globals.collapsedSeriesIndices.indexOf(i)>-1?H[0].parentNode.style.display="none":H[0].parentNode.style.display=v.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(n){var i=this.w;if(n)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var s=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");s&&(s.classList.add("apexcharts-active"),s.style.display=i.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(n){var i=n.i,s=n.j,l=this.w,u=this.ctx.series.filteredSeriesX(),h="",f="",g=null,v=null,S={series:l.globals.series,seriesIndex:i,dataPointIndex:s,w:l},C=l.globals.ttZFormatter;s===null?v=l.globals.series[i]:l.globals.isXNumeric&&l.config.chart.type!=="treemap"?(h=u[i][s],u[i].length===0&&(h=u[this.tooltipUtil.getFirstActiveXArray(u)][s])):h=l.globals.labels[s]!==void 0?l.globals.labels[s]:"";var O=h;return l.globals.isXNumeric&&l.config.xaxis.type==="datetime"?h=new oe(this.ctx).xLabelFormat(l.globals.ttKeyFormatter,O,O,{i:void 0,dateFormatter:new ie(this.ctx).formatDate,w:this.w}):h=l.globals.isBarHorizontal?l.globals.yLabelFormatters[0](O,S):l.globals.xLabelFormatter(O,S),l.config.tooltip.x.formatter!==void 0&&(h=l.globals.ttKeyFormatter(O,S)),l.globals.seriesZ.length>0&&l.globals.seriesZ[i].length>0&&(g=C(l.globals.seriesZ[i][s],l)),f=typeof l.config.xaxis.tooltip.formatter=="function"?l.globals.xaxisTooltipFormatter(O,S):h,{val:Array.isArray(v)?v.join(" "):v,xVal:Array.isArray(h)?h.join(" "):h,xAxisTTVal:Array.isArray(f)?f.join(" "):f,zVal:g}}},{key:"handleCustomTooltip",value:function(n){var i=n.i,s=n.j,l=n.y1,u=n.y2,h=n.w,f=this.ttCtx.getElTooltip(),g=h.config.tooltip.custom;Array.isArray(g)&&g[i]&&(g=g[i]),f.innerHTML=g({ctx:this.ctx,series:h.globals.series,seriesIndex:i,dataPointIndex:s,y1:l,y2:u,w:h})}}]),Y}(),vr=function(){function Y(n){c(this,Y),this.ttCtx=n,this.ctx=n.ctx,this.w=n.w}return p(Y,[{key:"moveXCrosshairs",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this.ttCtx,l=this.w,u=s.getElXCrosshairs(),h=n-s.xcrosshairsWidth/2,f=l.globals.labels.slice().length;if(i!==null&&(h=l.globals.gridWidth/f*i),u===null||l.globals.isBarHorizontal||(u.setAttribute("x",h),u.setAttribute("x1",h),u.setAttribute("x2",h),u.setAttribute("y2",l.globals.gridHeight),u.classList.add("apexcharts-active")),h<0&&(h=0),h>l.globals.gridWidth&&(h=l.globals.gridWidth),s.isXAxisTooltipEnabled){var g=h;l.config.xaxis.crosshairs.width!=="tickWidth"&&l.config.xaxis.crosshairs.width!=="barWidth"||(g=h+s.xcrosshairsWidth/2),this.moveXAxisTooltip(g)}}},{key:"moveYCrosshairs",value:function(n){var i=this.ttCtx;i.ycrosshairs!==null&&R.setAttrs(i.ycrosshairs,{y1:n,y2:n}),i.ycrosshairsHidden!==null&&R.setAttrs(i.ycrosshairsHidden,{y1:n,y2:n})}},{key:"moveXAxisTooltip",value:function(n){var i=this.w,s=this.ttCtx;if(s.xaxisTooltip!==null&&s.xcrosshairsWidth!==0){s.xaxisTooltip.classList.add("apexcharts-active");var l=s.xaxisOffY+i.config.xaxis.tooltip.offsetY+i.globals.translateY+1+i.config.xaxis.offsetY;if(n-=s.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(n)){n+=i.globals.translateX;var u;u=new R(this.ctx).getTextRects(s.xaxisTooltipText.innerHTML),s.xaxisTooltipText.style.minWidth=u.width+"px",s.xaxisTooltip.style.left=n+"px",s.xaxisTooltip.style.top=l+"px"}}}},{key:"moveYAxisTooltip",value:function(n){var i=this.w,s=this.ttCtx;s.yaxisTTEls===null&&(s.yaxisTTEls=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var l=parseInt(s.ycrosshairsHidden.getAttribute("y1"),10),u=i.globals.translateY+l,h=s.yaxisTTEls[n].getBoundingClientRect().height,f=i.globals.translateYAxisX[n]-2;i.config.yaxis[n].opposite&&(f-=26),u-=h/2,i.globals.ignoreYAxisIndexes.indexOf(n)===-1?(s.yaxisTTEls[n].classList.add("apexcharts-active"),s.yaxisTTEls[n].style.top=u+"px",s.yaxisTTEls[n].style.left=f+i.config.yaxis[n].tooltip.offsetX+"px"):s.yaxisTTEls[n].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=this.w,u=this.ttCtx,h=u.getElTooltip(),f=u.tooltipRect,g=s!==null?parseFloat(s):1,v=parseFloat(n)+g+5,S=parseFloat(i)+g/2;if(v>l.globals.gridWidth/2&&(v=v-f.ttWidth-g-10),v>l.globals.gridWidth-f.ttWidth-10&&(v=l.globals.gridWidth-f.ttWidth),v<-20&&(v=-20),l.config.tooltip.followCursor){var C=u.getElGrid().getBoundingClientRect();(v=u.e.clientX-C.left)>l.globals.gridWidth/2&&(v-=u.tooltipRect.ttWidth),(S=u.e.clientY+l.globals.translateY-C.top)>l.globals.gridHeight/2&&(S-=u.tooltipRect.ttHeight)}else l.globals.isBarHorizontal||f.ttHeight/2+S>l.globals.gridHeight&&(S=l.globals.gridHeight-f.ttHeight+l.globals.translateY);isNaN(v)||(v+=l.globals.translateX,h.style.left=v+"px",h.style.top=S+"px")}},{key:"moveMarkers",value:function(n,i){var s=this.w,l=this.ttCtx;if(s.globals.markers.size[n]>0)for(var u=s.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(n,"'] .apexcharts-marker")),h=0;h<u.length;h++)parseInt(u[h].getAttribute("rel"),10)===i&&(l.marker.resetPointsSize(),l.marker.enlargeCurrentPoint(i,u[h]));else l.marker.resetPointsSize(),this.moveDynamicPointOnHover(i,n)}},{key:"moveDynamicPointOnHover",value:function(n,i){var s,l,u=this.w,h=this.ttCtx,f=u.globals.pointsArray,g=h.tooltipUtil.getHoverMarkerSize(i),v=u.config.series[i].type;if(!v||v!=="column"&&v!=="candlestick"&&v!=="boxPlot"){s=f[i][n][0],l=f[i][n][1]?f[i][n][1]:0;var S=u.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"'] .apexcharts-series-markers circle"));S&&l<u.globals.gridHeight&&l>0&&(S.setAttribute("r",g),S.setAttribute("cx",s),S.setAttribute("cy",l)),this.moveXCrosshairs(s),h.fixedTooltip||this.moveTooltip(s,l,g)}}},{key:"moveDynamicPointsOnHover",value:function(n){var i,s=this.ttCtx,l=s.w,u=0,h=0,f=l.globals.pointsArray;i=new re(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var g=s.tooltipUtil.getHoverMarkerSize(i);f[i]&&(u=f[i][n][0],h=f[i][n][1]);var v=s.tooltipUtil.getAllMarkers();if(v!==null)for(var S=0;S<l.globals.series.length;S++){var C=f[S];if(l.globals.comboCharts&&C===void 0&&v.splice(S,0,null),C&&C.length){var O=f[S][n][1],L=void 0;if(v[S].setAttribute("cx",u),l.config.chart.type==="rangeArea"&&!l.globals.comboCharts){var _=n+l.globals.series[S].length;L=f[S][_][1],O-=Math.abs(O-L)/2}O!==null&&!isNaN(O)&&O<l.globals.gridHeight+g&&O+g>0?(v[S]&&v[S].setAttribute("r",g),v[S]&&v[S].setAttribute("cy",O)):v[S]&&v[S].setAttribute("r",0)}}this.moveXCrosshairs(u),s.fixedTooltip||this.moveTooltip(u,h||l.globals.gridHeight,g)}},{key:"moveStickyTooltipOverBars",value:function(n,i){var s=this.w,l=this.ttCtx,u=s.globals.columnSeries?s.globals.columnSeries.length:s.globals.series.length,h=u>=2&&u%2==0?Math.floor(u/2):Math.floor(u/2)+1;s.globals.isBarHorizontal&&(h=new re(this.ctx).getActiveConfigSeriesIndex("desc")+1);var f=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(h,"'] path[j='").concat(n,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(h,"'] path[j='").concat(n,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(h,"'] path[j='").concat(n,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(h,"'] path[j='").concat(n,"']"));f||typeof i!="number"||(f=s.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(i,"'] path[j='").concat(n,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(n,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(n,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(i,"'] path[j='").concat(n,"']")));var g=f?parseFloat(f.getAttribute("cx")):0,v=f?parseFloat(f.getAttribute("cy")):0,S=f?parseFloat(f.getAttribute("barWidth")):0,C=l.getElGrid().getBoundingClientRect(),O=f&&(f.classList.contains("apexcharts-candlestick-area")||f.classList.contains("apexcharts-boxPlot-area"));s.globals.isXNumeric?(f&&!O&&(g-=u%2!=0?S/2:0),f&&O&&s.globals.comboCharts&&(g-=S/2)):s.globals.isBarHorizontal||(g=l.xAxisTicksPositions[n-1]+l.dataPointsDividedWidth/2,isNaN(g)&&(g=l.xAxisTicksPositions[n]-l.dataPointsDividedWidth/2)),s.globals.isBarHorizontal?v-=l.tooltipRect.ttHeight:s.config.tooltip.followCursor?v=l.e.clientY-C.top-l.tooltipRect.ttHeight/2:v+l.tooltipRect.ttHeight+15>s.globals.gridHeight&&(v=s.globals.gridHeight),s.globals.isBarHorizontal||this.moveXCrosshairs(g),l.fixedTooltip||this.moveTooltip(g,v||s.globals.gridHeight)}}]),Y}(),Oa=function(){function Y(n){c(this,Y),this.w=n.w,this.ttCtx=n,this.ctx=n.ctx,this.tooltipPosition=new vr(n)}return p(Y,[{key:"drawDynamicPoints",value:function(){var n=this.w,i=new R(this.ctx),s=new le(this.ctx),l=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");l=P(l),n.config.chart.stacked&&l.sort(function(C,O){return parseFloat(C.getAttribute("data:realIndex"))-parseFloat(O.getAttribute("data:realIndex"))});for(var u=0;u<l.length;u++){var h=l[u].querySelector(".apexcharts-series-markers-wrap");if(h!==null){var f=void 0,g="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));n.config.chart.type!=="line"&&n.config.chart.type!=="area"||n.globals.comboCharts||n.config.tooltip.intersect||(g+=" no-pointer-events");var v=s.getMarkerConfig({cssClass:g,seriesIndex:Number(h.getAttribute("data:realIndex"))});(f=i.drawMarker(0,0,v)).node.setAttribute("default-marker-size",0);var S=document.createElementNS(n.globals.SVGNS,"g");S.classList.add("apexcharts-series-markers"),S.appendChild(f.node),h.appendChild(S)}}}},{key:"enlargeCurrentPoint",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,u=this.w;u.config.chart.type!=="bubble"&&this.newPointSize(n,i);var h=i.getAttribute("cx"),f=i.getAttribute("cy");if(s!==null&&l!==null&&(h=s,f=l),this.tooltipPosition.moveXCrosshairs(h),!this.fixedTooltip){if(u.config.chart.type==="radar"){var g=this.ttCtx.getElGrid().getBoundingClientRect();h=this.ttCtx.e.clientX-g.left}this.tooltipPosition.moveTooltip(h,f,u.config.markers.hover.size)}}},{key:"enlargePoints",value:function(n){for(var i=this.w,s=this,l=this.ttCtx,u=n,h=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),f=i.config.markers.hover.size,g=0;g<h.length;g++){var v=h[g].getAttribute("rel"),S=h[g].getAttribute("index");if(f===void 0&&(f=i.globals.markers.size[S]+i.config.markers.hover.sizeOffset),u===parseInt(v,10)){s.newPointSize(u,h[g]);var C=h[g].getAttribute("cx"),O=h[g].getAttribute("cy");s.tooltipPosition.moveXCrosshairs(C),l.fixedTooltip||s.tooltipPosition.moveTooltip(C,O,f)}else s.oldPointSize(h[g])}}},{key:"newPointSize",value:function(n,i){var s=this.w,l=s.config.markers.hover.size,u=n===0?i.parentNode.firstChild:i.parentNode.lastChild;if(u.getAttribute("default-marker-size")!=="0"){var h=parseInt(u.getAttribute("index"),10);l===void 0&&(l=s.globals.markers.size[h]+s.config.markers.hover.sizeOffset),l<0&&(l=0),u.setAttribute("r",l)}}},{key:"oldPointSize",value:function(n){var i=parseFloat(n.getAttribute("default-marker-size"));n.setAttribute("r",i)}},{key:"resetPointsSize",value:function(){for(var n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),i=0;i<n.length;i++){var s=parseFloat(n[i].getAttribute("default-marker-size"));E.isNumber(s)&&s>=0?n[i].setAttribute("r",s):n[i].setAttribute("r",0)}}}]),Y}(),ht=function(){function Y(n){c(this,Y),this.w=n.w,this.ttCtx=n}return p(Y,[{key:"getAttr",value:function(n,i){return parseFloat(n.target.getAttribute(i))}},{key:"handleHeatTreeTooltip",value:function(n){var i=n.e,s=n.opt,l=n.x,u=n.y,h=n.type,f=this.ttCtx,g=this.w;if(i.target.classList.contains("apexcharts-".concat(h,"-rect"))){var v=this.getAttr(i,"i"),S=this.getAttr(i,"j"),C=this.getAttr(i,"cx"),O=this.getAttr(i,"cy"),L=this.getAttr(i,"width"),_=this.getAttr(i,"height");if(f.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:v,j:S,shared:!1,e:i}),g.globals.capturedSeriesIndex=v,g.globals.capturedDataPointIndex=S,l=C+f.tooltipRect.ttWidth/2+L,u=O+f.tooltipRect.ttHeight/2-_/2,f.tooltipPosition.moveXCrosshairs(C+L/2),l>g.globals.gridWidth/2&&(l=C-f.tooltipRect.ttWidth/2+L),f.w.config.tooltip.followCursor){var B=g.globals.dom.elWrap.getBoundingClientRect();l=g.globals.clientX-B.left-(l>g.globals.gridWidth/2?f.tooltipRect.ttWidth:0),u=g.globals.clientY-B.top-(u>g.globals.gridHeight/2?f.tooltipRect.ttHeight:0)}}return{x:l,y:u}}},{key:"handleMarkerTooltip",value:function(n){var i,s,l=n.e,u=n.opt,h=n.x,f=n.y,g=this.w,v=this.ttCtx;if(l.target.classList.contains("apexcharts-marker")){var S=parseInt(u.paths.getAttribute("cx"),10),C=parseInt(u.paths.getAttribute("cy"),10),O=parseFloat(u.paths.getAttribute("val"));if(s=parseInt(u.paths.getAttribute("rel"),10),i=parseInt(u.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,v.intersect){var L=E.findAncestor(u.paths,"apexcharts-series");L&&(i=parseInt(L.getAttribute("data:realIndex"),10))}if(v.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i,j:s,shared:!v.showOnIntersect&&g.config.tooltip.shared,e:l}),l.type==="mouseup"&&v.markerClick(l,i,s),g.globals.capturedSeriesIndex=i,g.globals.capturedDataPointIndex=s,h=S,f=C+g.globals.translateY-1.4*v.tooltipRect.ttHeight,v.w.config.tooltip.followCursor){var _=v.getElGrid().getBoundingClientRect();f=v.e.clientY+g.globals.translateY-_.top}O<0&&(f=C),v.marker.enlargeCurrentPoint(s,u.paths,h,f)}return{x:h,y:f}}},{key:"handleBarTooltip",value:function(n){var i,s,l=n.e,u=n.opt,h=this.w,f=this.ttCtx,g=f.getElTooltip(),v=0,S=0,C=0,O=this.getBarTooltipXY({e:l,opt:u});i=O.i;var L=O.barHeight,_=O.j;h.globals.capturedSeriesIndex=i,h.globals.capturedDataPointIndex=_,h.globals.isBarHorizontal&&f.tooltipUtil.hasBars()||!h.config.tooltip.shared?(S=O.x,C=O.y,s=Array.isArray(h.config.stroke.width)?h.config.stroke.width[i]:h.config.stroke.width,v=S):h.globals.comboCharts||h.config.tooltip.shared||(v/=2),isNaN(C)&&(C=h.globals.svgHeight-f.tooltipRect.ttHeight);var B=parseInt(u.paths.parentNode.getAttribute("data:realIndex"),10),H=h.globals.isMultipleYAxis?h.config.yaxis[B]&&h.config.yaxis[B].reversed:h.config.yaxis[0].reversed;if(S+f.tooltipRect.ttWidth>h.globals.gridWidth&&!H?S-=f.tooltipRect.ttWidth:S<0&&(S=0),f.w.config.tooltip.followCursor){var $=f.getElGrid().getBoundingClientRect();C=f.e.clientY-$.top}f.tooltip===null&&(f.tooltip=h.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),h.config.tooltip.shared||(h.globals.comboBarCount>0?f.tooltipPosition.moveXCrosshairs(v+s/2):f.tooltipPosition.moveXCrosshairs(v)),!f.fixedTooltip&&(!h.config.tooltip.shared||h.globals.isBarHorizontal&&f.tooltipUtil.hasBars())&&(H&&(S-=f.tooltipRect.ttWidth)<0&&(S=0),!H||h.globals.isBarHorizontal&&f.tooltipUtil.hasBars()||(C=C+L-2*(h.globals.series[i][_]<0?L:0)),C=C+h.globals.translateY-f.tooltipRect.ttHeight/2,g.style.left=S+h.globals.translateX+"px",g.style.top=C+"px")}},{key:"getBarTooltipXY",value:function(n){var i=n.e,s=n.opt,l=this.w,u=null,h=this.ttCtx,f=0,g=0,v=0,S=0,C=0,O=i.target.classList;if(O.contains("apexcharts-bar-area")||O.contains("apexcharts-candlestick-area")||O.contains("apexcharts-boxPlot-area")||O.contains("apexcharts-rangebar-area")){var L=i.target,_=L.getBoundingClientRect(),B=s.elGrid.getBoundingClientRect(),H=_.height;C=_.height;var $=_.width,J=parseInt(L.getAttribute("cx"),10),y=parseInt(L.getAttribute("cy"),10);S=parseFloat(L.getAttribute("barWidth"));var M=i.type==="touchmove"?i.touches[0].clientX:i.clientX;u=parseInt(L.getAttribute("j"),10),f=parseInt(L.parentNode.getAttribute("rel"),10)-1;var z=L.getAttribute("data-range-y1"),V=L.getAttribute("data-range-y2");l.globals.comboCharts&&(f=parseInt(L.parentNode.getAttribute("data:realIndex"),10)),h.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:f,j:u,y1:z?parseInt(z,10):null,y2:V?parseInt(V,10):null,shared:!h.showOnIntersect&&l.config.tooltip.shared,e:i}),l.config.tooltip.followCursor?l.globals.isBarHorizontal?(g=M-B.left+15,v=y-h.dataPointsDividedHeight+H/2-h.tooltipRect.ttHeight/2):(g=l.globals.isXNumeric?J-$/2:J-h.dataPointsDividedWidth+$/2,v=i.clientY-B.top-h.tooltipRect.ttHeight/2-15):l.globals.isBarHorizontal?((g=J)<h.xyRatios.baseLineInvertedY&&(g=J-h.tooltipRect.ttWidth),v=y-h.dataPointsDividedHeight+H/2-h.tooltipRect.ttHeight/2):(g=l.globals.isXNumeric?J-$/2:J-h.dataPointsDividedWidth+$/2,v=y)}return{x:g,y:v,barHeight:C,barWidth:S,i:f,j:u}}}]),Y}(),Vi=function(){function Y(n){c(this,Y),this.w=n.w,this.ttCtx=n}return p(Y,[{key:"drawXaxisTooltip",value:function(){var n=this.w,i=this.ttCtx,s=n.config.xaxis.position==="bottom";i.xaxisOffY=s?n.globals.gridHeight+1:-n.globals.xAxisHeight-n.config.xaxis.axisTicks.height+3;var l=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",u=n.globals.dom.elWrap;i.isXAxisTooltipEnabled&&n.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(i.xaxisTooltip=document.createElement("div"),i.xaxisTooltip.setAttribute("class",l+" apexcharts-theme-"+n.config.tooltip.theme),u.appendChild(i.xaxisTooltip),i.xaxisTooltipText=document.createElement("div"),i.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),i.xaxisTooltipText.style.fontFamily=n.config.xaxis.tooltip.style.fontFamily||n.config.chart.fontFamily,i.xaxisTooltipText.style.fontSize=n.config.xaxis.tooltip.style.fontSize,i.xaxisTooltip.appendChild(i.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var n=this.w,i=this.ttCtx,s=function(u){var h=n.config.yaxis[u].opposite||n.config.yaxis[u].crosshairs.opposite;i.yaxisOffX=h?n.globals.gridWidth+1:1;var f="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(u,h?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");n.globals.yAxisSameScaleIndices.map(function(v,S){v.map(function(C,O){O===u&&(f+=n.config.yaxis[O].show?" ":" apexcharts-yaxistooltip-hidden")})});var g=n.globals.dom.elWrap;n.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(u))===null&&(i.yaxisTooltip=document.createElement("div"),i.yaxisTooltip.setAttribute("class",f+" apexcharts-theme-"+n.config.tooltip.theme),g.appendChild(i.yaxisTooltip),u===0&&(i.yaxisTooltipText=[]),i.yaxisTooltipText[u]=document.createElement("div"),i.yaxisTooltipText[u].classList.add("apexcharts-yaxistooltip-text"),i.yaxisTooltip.appendChild(i.yaxisTooltipText[u]))},l=0;l<n.config.yaxis.length;l++)s(l)}},{key:"setXCrosshairWidth",value:function(){var n=this.w,i=this.ttCtx,s=i.getElXCrosshairs();if(i.xcrosshairsWidth=parseInt(n.config.xaxis.crosshairs.width,10),n.globals.comboCharts){var l=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null&&n.config.xaxis.crosshairs.width==="barWidth"){var u=parseFloat(l.getAttribute("barWidth"));i.xcrosshairsWidth=u}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var h=n.globals.labels.length;i.xcrosshairsWidth=n.globals.gridWidth/h}}else if(n.config.xaxis.crosshairs.width==="tickWidth"){var f=n.globals.labels.length;i.xcrosshairsWidth=n.globals.gridWidth/f}else if(n.config.xaxis.crosshairs.width==="barWidth"){var g=n.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(g!==null){var v=parseFloat(g.getAttribute("barWidth"));i.xcrosshairsWidth=v}else i.xcrosshairsWidth=1}n.globals.isBarHorizontal&&(i.xcrosshairsWidth=0),s!==null&&i.xcrosshairsWidth>0&&s.setAttribute("width",i.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var n=this.w,i=this.ttCtx;i.ycrosshairs=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),i.ycrosshairsHidden=n.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(n,i,s){var l=this.ttCtx,u=this.w,h=u.globals.yLabelFormatters[n];if(l.yaxisTooltips[n]){var f=l.getElGrid().getBoundingClientRect(),g=(i-f.top)*s.yRatio[n],v=u.globals.maxYArr[n]-u.globals.minYArr[n],S=u.globals.minYArr[n]+(v-g);l.tooltipPosition.moveYCrosshairs(i-f.top),l.yaxisTooltipText[n].innerHTML=h(S),l.tooltipPosition.moveYAxisTooltip(n)}}}]),Y}(),yi=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w;var i=this.w;this.tConfig=i.config.tooltip,this.tooltipUtil=new Kt(this),this.tooltipLabels=new yr(this),this.tooltipPosition=new vr(this),this.marker=new Oa(this),this.intersect=new ht(this),this.axesTooltip=new Vi(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!i.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return p(Y,[{key:"getElTooltip",value:function(n){return n||(n=this),n.w.globals.dom.baseEl?n.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(n){var i=this.w;this.xyRatios=n,this.isXAxisTooltipEnabled=i.config.xaxis.tooltip.enabled&&i.globals.axisCharts,this.yaxisTooltips=i.config.yaxis.map(function(h,f){return!!(h.show&&h.tooltip.enabled&&i.globals.axisCharts)}),this.allTooltipSeriesGroups=[],i.globals.axisCharts||(this.showTooltipTitle=!1);var s=document.createElement("div");if(s.classList.add("apexcharts-tooltip"),i.config.tooltip.cssClass&&s.classList.add(i.config.tooltip.cssClass),s.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),i.globals.dom.elWrap.appendChild(s),i.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var l=new Oe(this.ctx);this.xAxisTicksPositions=l.getXAxisTicksPositions()}if(!i.globals.comboCharts&&!this.tConfig.intersect&&i.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),i.config.markers.size!==0&&i.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),i.globals.collapsedSeries.length!==i.globals.series.length){this.dataPointsDividedHeight=i.globals.gridHeight/i.globals.dataPoints,this.dataPointsDividedWidth=i.globals.gridWidth/i.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||i.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,s.appendChild(this.tooltipTitle));var u=i.globals.series.length;(i.globals.xyCharts||i.globals.comboCharts)&&this.tConfig.shared&&(u=this.showOnIntersect?1:i.globals.series.length),this.legendLabels=i.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(u),this.addSVGEvents()}}},{key:"createTTElements",value:function(n){for(var i=this,s=this.w,l=[],u=this.getElTooltip(),h=function(g){var v=document.createElement("div");v.classList.add("apexcharts-tooltip-series-group"),v.style.order=s.config.tooltip.inverseOrder?n-g:g+1,i.tConfig.shared&&i.tConfig.enabledOnSeries&&Array.isArray(i.tConfig.enabledOnSeries)&&i.tConfig.enabledOnSeries.indexOf(g)<0&&v.classList.add("apexcharts-tooltip-series-group-hidden");var S=document.createElement("span");S.classList.add("apexcharts-tooltip-marker"),S.style.backgroundColor=s.globals.colors[g],v.appendChild(S);var C=document.createElement("div");C.classList.add("apexcharts-tooltip-text"),C.style.fontFamily=i.tConfig.style.fontFamily||s.config.chart.fontFamily,C.style.fontSize=i.tConfig.style.fontSize,["y","goals","z"].forEach(function(O){var L=document.createElement("div");L.classList.add("apexcharts-tooltip-".concat(O,"-group"));var _=document.createElement("span");_.classList.add("apexcharts-tooltip-text-".concat(O,"-label")),L.appendChild(_);var B=document.createElement("span");B.classList.add("apexcharts-tooltip-text-".concat(O,"-value")),L.appendChild(B),C.appendChild(L)}),v.appendChild(C),u.appendChild(v),l.push(v)},f=0;f<n;f++)h(f);return l}},{key:"addSVGEvents",value:function(){var n=this.w,i=n.config.chart.type,s=this.getElTooltip(),l=!(i!=="bar"&&i!=="candlestick"&&i!=="boxPlot"&&i!=="rangeBar"),u=i==="area"||i==="line"||i==="scatter"||i==="bubble"||i==="radar",h=n.globals.dom.Paper.node,f=this.getElGrid();f&&(this.seriesBound=f.getBoundingClientRect());var g,v=[],S=[],C={hoverArea:h,elGrid:f,tooltipEl:s,tooltipY:v,tooltipX:S,ttItems:this.ttItems};if(n.globals.axisCharts&&(u?g=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):l?g=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):i!=="heatmap"&&i!=="treemap"||(g=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),g&&g.length))for(var O=0;O<g.length;O++)v.push(g[O].getAttribute("cy")),S.push(g[O].getAttribute("cx"));if(n.globals.xyCharts&&!this.showOnIntersect||n.globals.comboCharts&&!this.showOnIntersect||l&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([h],C);else if(l&&!n.globals.comboCharts||u&&this.showOnIntersect)this.addDatapointEventsListeners(C);else if(!n.globals.axisCharts||i==="heatmap"||i==="treemap"){var L=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(L,C)}if(this.showOnIntersect){var _=n.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");_.length>0&&this.addPathsEventListeners(_,C),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(C)}}},{key:"drawFixedTooltipRect",value:function(){var n=this.w,i=this.getElTooltip(),s=i.getBoundingClientRect(),l=s.width+10,u=s.height+10,h=this.tConfig.fixed.offsetX,f=this.tConfig.fixed.offsetY,g=this.tConfig.fixed.position.toLowerCase();return g.indexOf("right")>-1&&(h=h+n.globals.svgWidth-l+10),g.indexOf("bottom")>-1&&(f=f+n.globals.svgHeight-u-10),i.style.left=h+"px",i.style.top=f+"px",{x:h,y:f,ttWidth:l,ttHeight:u}}},{key:"addDatapointEventsListeners",value:function(n){var i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(i,n)}},{key:"addPathsEventListeners",value:function(n,i){for(var s=this,l=function(h){var f={paths:n[h],tooltipEl:i.tooltipEl,tooltipY:i.tooltipY,tooltipX:i.tooltipX,elGrid:i.elGrid,hoverArea:i.hoverArea,ttItems:i.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(g){return n[h].addEventListener(g,s.onSeriesHover.bind(s,f),{capture:!1,passive:!0})})},u=0;u<n.length;u++)l(u)}},{key:"onSeriesHover",value:function(n,i){var s=this,l=Date.now()-this.lastHoverTime;l>=100?this.seriesHover(n,i):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){s.seriesHover(n,i)},100-l))}},{key:"seriesHover",value:function(n,i){var s=this;this.lastHoverTime=Date.now();var l=[],u=this.w;u.config.chart.group&&(l=this.ctx.getGroupedCharts()),u.globals.axisCharts&&(u.globals.minX===-1/0&&u.globals.maxX===1/0||u.globals.dataPoints===0)||(l.length?l.forEach(function(h){var f=s.getElTooltip(h),g={paths:n.paths,tooltipEl:f,tooltipY:n.tooltipY,tooltipX:n.tooltipX,elGrid:n.elGrid,hoverArea:n.hoverArea,ttItems:h.w.globals.tooltip.ttItems};h.w.globals.minX===s.w.globals.minX&&h.w.globals.maxX===s.w.globals.maxX&&h.w.globals.tooltip.seriesHoverByContext({chartCtx:h,ttCtx:h.w.globals.tooltip,opt:g,e:i})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:n,e:i}))}},{key:"seriesHoverByContext",value:function(n){var i=n.chartCtx,s=n.ttCtx,l=n.opt,u=n.e,h=i.w,f=this.getElTooltip();f&&(s.tooltipRect={x:0,y:0,ttWidth:f.getBoundingClientRect().width,ttHeight:f.getBoundingClientRect().height},s.e=u,s.tooltipUtil.hasBars()&&!h.globals.comboCharts&&!s.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new re(i).toggleSeriesOnHover(u,u.target.parentNode),s.fixedTooltip&&s.drawFixedTooltipRect(),h.globals.axisCharts?s.axisChartsTooltips({e:u,opt:l,tooltipRect:s.tooltipRect}):s.nonAxisChartsTooltips({e:u,opt:l,tooltipRect:s.tooltipRect}))}},{key:"axisChartsTooltips",value:function(n){var i,s,l=n.e,u=n.opt,h=this.w,f=u.elGrid.getBoundingClientRect(),g=l.type==="touchmove"?l.touches[0].clientX:l.clientX,v=l.type==="touchmove"?l.touches[0].clientY:l.clientY;if(this.clientY=v,this.clientX=g,h.globals.capturedSeriesIndex=-1,h.globals.capturedDataPointIndex=-1,v<f.top||v>f.top+f.height)this.handleMouseOut(u);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!h.config.tooltip.shared){var S=parseInt(u.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(S)<0)return void this.handleMouseOut(u)}var C=this.getElTooltip(),O=this.getElXCrosshairs(),L=h.globals.xyCharts||h.config.chart.type==="bar"&&!h.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||h.globals.comboCharts&&this.tooltipUtil.hasBars();if(l.type==="mousemove"||l.type==="touchmove"||l.type==="mouseup"){if(h.globals.collapsedSeries.length+h.globals.ancillaryCollapsedSeries.length===h.globals.series.length)return;O!==null&&O.classList.add("apexcharts-active");var _=this.yaxisTooltips.filter(function($){return $===!0});if(this.ycrosshairs!==null&&_.length&&this.ycrosshairs.classList.add("apexcharts-active"),L&&!this.showOnIntersect)this.handleStickyTooltip(l,g,v,u);else if(h.config.chart.type==="heatmap"||h.config.chart.type==="treemap"){var B=this.intersect.handleHeatTreeTooltip({e:l,opt:u,x:i,y:s,type:h.config.chart.type});i=B.x,s=B.y,C.style.left=i+"px",C.style.top=s+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:l,opt:u}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:l,opt:u,x:i,y:s});if(this.yaxisTooltips.length)for(var H=0;H<h.config.yaxis.length;H++)this.axesTooltip.drawYaxisTooltipText(H,v,this.xyRatios);u.tooltipEl.classList.add("apexcharts-active")}else l.type!=="mouseout"&&l.type!=="touchend"||this.handleMouseOut(u)}}},{key:"nonAxisChartsTooltips",value:function(n){var i=n.e,s=n.opt,l=n.tooltipRect,u=this.w,h=s.paths.getAttribute("rel"),f=this.getElTooltip(),g=u.globals.dom.elWrap.getBoundingClientRect();if(i.type==="mousemove"||i.type==="touchmove"){f.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:parseInt(h,10)-1,shared:!1});var v=u.globals.clientX-g.left-l.ttWidth/2,S=u.globals.clientY-g.top-l.ttHeight-10;if(f.style.left=v+"px",f.style.top=S+"px",u.config.legend.tooltipHoverFormatter){var C=h-1,O=(0,u.config.legend.tooltipHoverFormatter)(this.legendLabels[C].getAttribute("data:default-text"),{seriesIndex:C,dataPointIndex:C,w:u});this.legendLabels[C].innerHTML=O}}else i.type!=="mouseout"&&i.type!=="touchend"||(f.classList.remove("apexcharts-active"),u.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(L){var _=L.getAttribute("data:default-text");L.innerHTML=decodeURIComponent(_)}))}},{key:"handleStickyTooltip",value:function(n,i,s,l){var u=this.w,h=this.tooltipUtil.getNearestValues({context:this,hoverArea:l.hoverArea,elGrid:l.elGrid,clientX:i,clientY:s}),f=h.j,g=h.capturedSeries;u.globals.collapsedSeriesIndices.includes(g)&&(g=null);var v=l.elGrid.getBoundingClientRect();if(h.hoverX<0||h.hoverX>v.width)this.handleMouseOut(l);else if(g!==null)this.handleStickyCapturedSeries(n,g,l,f);else if(this.tooltipUtil.isXoverlap(f)||u.globals.isBarHorizontal){var S=u.globals.series.findIndex(function(C,O){return!u.globals.collapsedSeriesIndices.includes(O)});this.create(n,this,S,f,l.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(n,i,s,l){var u=this.w;if(!this.tConfig.shared&&u.globals.series[i][l]===null)return void this.handleMouseOut(s);if(u.globals.series[i][l]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(l)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(n,this,i,l,s.ttItems):this.create(n,this,i,l,s.ttItems,!1);else if(this.tooltipUtil.isXoverlap(l)){var h=u.globals.series.findIndex(function(f,g){return!u.globals.collapsedSeriesIndices.includes(g)});this.create(n,this,h,l,s.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var n=this.w,i=new R(this.ctx),s=n.globals.dom.Paper.select(".apexcharts-bar-area"),l=0;l<s.length;l++)i.pathMouseLeave(s[l])}},{key:"handleMouseOut",value:function(n){var i=this.w,s=this.getElXCrosshairs();if(n.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),i.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),s!==null&&s.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=i.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var l=0;l<this.yaxisTTEls.length;l++)this.yaxisTTEls[l].classList.remove("apexcharts-active")}i.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(u){var h=u.getAttribute("data:default-text");u.innerHTML=decodeURIComponent(h)})}},{key:"markerClick",value:function(n,i,s){var l=this.w;typeof l.config.chart.events.markerClick=="function"&&l.config.chart.events.markerClick(n,this.ctx,{seriesIndex:i,dataPointIndex:s,w:l}),this.ctx.events.fireEvent("markerClick",[n,this.ctx,{seriesIndex:i,dataPointIndex:s,w:l}])}},{key:"create",value:function(n,i,s,l,u){var h,f,g,v,S,C,O,L,_,B,H,$,J,y,M,z,V=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Q=this.w,ee=i;n.type==="mouseup"&&this.markerClick(n,s,l),V===null&&(V=this.tConfig.shared);var ue=this.tooltipUtil.hasMarkers(s),he=this.tooltipUtil.getElBars();if(Q.config.legend.tooltipHoverFormatter){var ke=Q.config.legend.tooltipHoverFormatter,Ce=Array.from(this.legendLabels);Ce.forEach(function(xi){var Zn=xi.getAttribute("data:default-text");xi.innerHTML=decodeURIComponent(Zn)});for(var Te=0;Te<Ce.length;Te++){var Ne=Ce[Te],Ge=parseInt(Ne.getAttribute("i"),10),nt=decodeURIComponent(Ne.getAttribute("data:default-text")),rt=ke(nt,{seriesIndex:V?Ge:s,dataPointIndex:l,w:Q});if(V)Ne.innerHTML=Q.globals.collapsedSeriesIndices.indexOf(Ge)<0?rt:nt;else if(Ne.innerHTML=Ge===s?rt:nt,s===Ge)break}}var st=r(r({ttItems:u,i:s,j:l},((h=Q.globals.seriesRange)===null||h===void 0||(f=h[s])===null||f===void 0||(g=f[l])===null||g===void 0||(v=g.y[0])===null||v===void 0?void 0:v.y1)!==void 0&&{y1:(S=Q.globals.seriesRange)===null||S===void 0||(C=S[s])===null||C===void 0||(O=C[l])===null||O===void 0||(L=O.y[0])===null||L===void 0?void 0:L.y1}),((_=Q.globals.seriesRange)===null||_===void 0||(B=_[s])===null||B===void 0||(H=B[l])===null||H===void 0||($=H.y[0])===null||$===void 0?void 0:$.y2)!==void 0&&{y2:(J=Q.globals.seriesRange)===null||J===void 0||(y=J[s])===null||y===void 0||(M=y[l])===null||M===void 0||(z=M.y[0])===null||z===void 0?void 0:z.y2});if(V){if(ee.tooltipLabels.drawSeriesTexts(r(r({},st),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),ue)Q.globals.markers.largestSize>0?ee.marker.enlargePoints(l):ee.tooltipPosition.moveDynamicPointsOnHover(l);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(he),this.barSeriesHeight>0)){var St=new R(this.ctx),yt=Q.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(l,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(l,s);for(var Tt=0;Tt<yt.length;Tt++)St.pathMouseEnter(yt[Tt])}}else ee.tooltipLabels.drawSeriesTexts(r({shared:!1},st)),this.tooltipUtil.hasBars()&&ee.tooltipPosition.moveStickyTooltipOverBars(l,s),ue&&ee.tooltipPosition.moveMarkers(s,l)}}]),Y}(),Ma=function(){function Y(n){c(this,Y),this.w=n.w,this.barCtx=n,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return p(Y,[{key:"handleBarDataLabels",value:function(n){var i=n.x,s=n.y,l=n.y1,u=n.y2,h=n.i,f=n.j,g=n.realIndex,v=n.groupIndex,S=n.series,C=n.barHeight,O=n.barWidth,L=n.barYPosition,_=n.visibleSeries,B=n.renderedPath,H=this.w,$=new R(this.barCtx.ctx),J=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[g]:this.barCtx.strokeWidth,y=i+parseFloat(O*_),M=s+parseFloat(C*_);H.globals.isXNumeric&&!H.globals.isBarHorizontal&&(y=i+parseFloat(O*(_+1)),M=s+parseFloat(C*(_+1))-J);var z,V=null,Q=i,ee=s,ue={},he=H.config.dataLabels,ke=this.barCtx.barOptions.dataLabels,Ce=this.barCtx.barOptions.dataLabels.total;L!==void 0&&this.barCtx.isRangeBar&&(M=L,ee=L);var Te=he.offsetX,Ne=he.offsetY,Ge={width:0,height:0};if(H.config.dataLabels.enabled){var nt=this.barCtx.series[h][f];Ge=$.getTextRects(H.globals.yLabelFormatters[0](nt),parseFloat(he.style.fontSize))}var rt={x:i,y:s,i:h,j:f,realIndex:g,groupIndex:v||-1,renderedPath:B,bcx:y,bcy:M,barHeight:C,barWidth:O,textRects:Ge,strokeWidth:J,dataLabelsX:Q,dataLabelsY:ee,dataLabelsConfig:he,barDataLabelsConfig:ke,barTotalDataLabelsConfig:Ce,offX:Te,offY:Ne};return ue=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(rt):this.calculateColumnsDataLabelsPosition(rt),B.attr({cy:ue.bcy,cx:ue.bcx,j:f,val:S[h][f],barHeight:C,barWidth:O}),z=this.drawCalculatedDataLabels({x:ue.dataLabelsX,y:ue.dataLabelsY,val:this.barCtx.isRangeBar?[l,u]:S[h][f],i:g,j:f,barWidth:O,barHeight:C,textRects:Ge,dataLabelsConfig:he}),H.config.chart.stacked&&Ce.enabled&&(V=this.drawTotalDataLabels({x:ue.totalDataLabelsX,y:ue.totalDataLabelsY,realIndex:g,textAnchor:ue.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:g,j:f}),dataLabelsConfig:he,barTotalDataLabelsConfig:Ce})),{dataLabels:z,totalDataLabels:V}}},{key:"getStackedTotalDataLabel",value:function(n){var i=n.realIndex,s=n.j,l=this.w,u=this.barCtx.stackedSeriesTotals[s];return this.totalFormatter&&(u=this.totalFormatter(u,r(r({},l),{},{seriesIndex:i,dataPointIndex:s,w:l}))),u}},{key:"calculateColumnsDataLabelsPosition",value:function(n){var i,s,l,u=this.w,h=n.i,f=n.j,g=n.realIndex,v=n.groupIndex,S=n.y,C=n.bcx,O=n.barWidth,L=n.barHeight,_=n.textRects,B=n.dataLabelsY,H=n.dataLabelsConfig,$=n.barDataLabelsConfig,J=n.barTotalDataLabelsConfig,y=n.strokeWidth,M=n.offX,z=n.offY;L=Math.abs(L);var V=u.config.plotOptions.bar.dataLabels.orientation==="vertical";C=C-y/2+(v!==-1?v*O:0);var Q=u.globals.gridWidth/u.globals.dataPoints;i=u.globals.isXNumeric?C-O/2+M:C-Q+O/2+M,V&&(i=i+_.height/2-y/2-2);var ee=this.barCtx.series[h][f]<0,ue=S;switch(this.barCtx.isReversed&&(ue=S-L+(ee?2*L:0),S-=L),$.position){case"center":B=V?ee?ue+L/2+z:ue+L/2-z:ee?ue-L/2+_.height/2+z:ue+L/2+_.height/2-z;break;case"bottom":B=V?ee?ue+L+z:ue+L-z:ee?ue-L+_.height+y+z:ue+L-_.height/2+y-z;break;case"top":B=V?ee?ue+z:ue-z:ee?ue-_.height/2-z:ue+_.height+z}if(this.barCtx.lastActiveBarSerieIndex===g&&J.enabled){var he=new R(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:g,j:f}),H.fontSize);s=ee?ue-he.height/2-z-J.offsetY+18:ue+he.height+z+J.offsetY-18,l=i+J.offsetX}return u.config.chart.stacked||(B<0?B=0+y:B+_.height/3>u.globals.gridHeight&&(B=u.globals.gridHeight-y)),{bcx:C,bcy:S,dataLabelsX:i,dataLabelsY:B,totalDataLabelsX:l,totalDataLabelsY:s,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(n){var i=this.w,s=n.x,l=n.i,u=n.j,h=n.realIndex,f=n.groupIndex,g=n.bcy,v=n.barHeight,S=n.barWidth,C=n.textRects,O=n.dataLabelsX,L=n.strokeWidth,_=n.dataLabelsConfig,B=n.barDataLabelsConfig,H=n.barTotalDataLabelsConfig,$=n.offX,J=n.offY,y=i.globals.gridHeight/i.globals.dataPoints;S=Math.abs(S);var M,z,V=(g+=f!==-1?f*v:0)-(this.barCtx.isRangeBar?0:y)+v/2+C.height/2+J-3,Q="start",ee=this.barCtx.series[l][u]<0,ue=s;switch(this.barCtx.isReversed&&(ue=s+S-(ee?2*S:0),s=i.globals.gridWidth-S),B.position){case"center":O=ee?ue+S/2-$:Math.max(C.width/2,ue-S/2)+$;break;case"bottom":O=ee?ue+S-L-Math.round(C.width/2)-$:ue-S+L+Math.round(C.width/2)+$;break;case"top":O=ee?ue-L+Math.round(C.width/2)-$:ue-L-Math.round(C.width/2)+$}if(this.barCtx.lastActiveBarSerieIndex===h&&H.enabled){var he=new R(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:h,j:u}),_.fontSize);ee?(M=ue-L+Math.round(he.width/2)-$-H.offsetX-15,Q="end"):M=ue-L-Math.round(he.width/2)+$+H.offsetX+15,z=V+H.offsetY}return i.config.chart.stacked||(O<0?O=O+C.width+L:O+C.width/2>i.globals.gridWidth&&(O=i.globals.gridWidth-C.width-L)),{bcx:s,bcy:g,dataLabelsX:O,dataLabelsY:V,totalDataLabelsX:M,totalDataLabelsY:z,totalDataLabelsAnchor:Q}}},{key:"drawCalculatedDataLabels",value:function(n){var i=n.x,s=n.y,l=n.val,u=n.i,h=n.j,f=n.textRects,g=n.barHeight,v=n.barWidth,S=n.dataLabelsConfig,C=this.w,O="rotate(0)";C.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(O="rotate(-90, ".concat(i,", ").concat(s,")"));var L=new pe(this.barCtx.ctx),_=new R(this.barCtx.ctx),B=S.formatter,H=null,$=C.globals.collapsedSeriesIndices.indexOf(u)>-1;if(S.enabled&&!$){H=_.group({class:"apexcharts-data-labels",transform:O});var J="";l!==void 0&&(J=B(l,r(r({},C),{},{seriesIndex:u,dataPointIndex:h,w:C}))),!l&&C.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(J="");var y=C.globals.series[u][h]<0,M=C.config.plotOptions.bar.dataLabels.position;C.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(M==="top"&&(S.textAnchor=y?"end":"start"),M==="center"&&(S.textAnchor="middle"),M==="bottom"&&(S.textAnchor=y?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&v<_.getTextRects(J,parseFloat(S.style.fontSize)).width&&(J=""),C.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?f.width/1.6>Math.abs(v)&&(J=""):f.height/1.6>Math.abs(g)&&(J=""));var z=r({},S);this.barCtx.isHorizontal&&l<0&&(S.textAnchor==="start"?z.textAnchor="end":S.textAnchor==="end"&&(z.textAnchor="start")),L.plotDataLabelsText({x:i,y:s,text:J,i:u,j:h,parent:H,dataLabelsConfig:z,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return H}},{key:"drawTotalDataLabels",value:function(n){var i,s=n.x,l=n.y,u=n.val,h=n.realIndex,f=n.textAnchor,g=n.barTotalDataLabelsConfig,v=new R(this.barCtx.ctx);return g.enabled&&s!==void 0&&l!==void 0&&this.barCtx.lastActiveBarSerieIndex===h&&(i=v.drawText({x:s,y:l,foreColor:g.style.color,text:u,textAnchor:f,fontFamily:g.style.fontFamily,fontSize:g.style.fontSize,fontWeight:g.style.fontWeight})),i}}]),Y}(),vi=function(){function Y(n){c(this,Y),this.w=n.w,this.barCtx=n}return p(Y,[{key:"initVariables",value:function(n){var i=this.w;this.barCtx.series=n,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var s=0;s<n.length;s++)if(n[s].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=n[s].length),i.globals.isXNumeric)for(var l=0;l<n[s].length;l++)i.globals.seriesX[s][l]>i.globals.minX&&i.globals.seriesX[s][l]<i.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=i.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],i.globals.comboCharts||this.checkZeroSeries({series:n})}},{key:"initialPositions",value:function(){var n,i,s,l,u,h,f,g,v=this.w,S=v.globals.dataPoints;this.barCtx.isRangeBar&&(S=v.globals.labels.length);var C=this.barCtx.seriesLen;if(v.config.plotOptions.bar.rangeBarGroupRows&&(C=1),this.barCtx.isHorizontal)u=(s=v.globals.gridHeight/S)/C,v.globals.isXNumeric&&(u=(s=v.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),u=u*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(u=parseInt(this.barCtx.barOptions.barHeight,10)),g=this.barCtx.baseLineInvertedY+v.globals.padHorizontal+(this.barCtx.isReversed?v.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),i=(s-u*this.barCtx.seriesLen)/2;else{if(l=v.globals.gridWidth/this.barCtx.visibleItems,v.config.xaxis.convertedCatToNumeric&&(l=v.globals.gridWidth/v.globals.dataPoints),h=l/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,v.globals.isXNumeric){var O=this.barCtx.xRatio;v.config.xaxis.convertedCatToNumeric&&(O=this.barCtx.initialXRatio),v.globals.minXDiff&&v.globals.minXDiff!==.5&&v.globals.minXDiff/O>0&&(l=v.globals.minXDiff/O),(h=l/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(h=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(h=parseInt(this.barCtx.barOptions.columnWidth,10)),f=v.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?v.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),n=v.globals.padHorizontal+(l-h*this.barCtx.seriesLen)/2}return{x:n,y:i,yDivision:s,xDivision:l,barHeight:u,barWidth:h,zeroH:f,zeroW:g}}},{key:"initializeStackedPrevVars",value:function(n){var i=n.w;i.globals.hasSeriesGroups?i.globals.seriesGroups.forEach(function(s){n[s]||(n[s]={}),n[s].prevY=[],n[s].prevX=[],n[s].prevYF=[],n[s].prevXF=[],n[s].prevYVal=[],n[s].prevXVal=[]}):(n.prevY=[],n.prevX=[],n.prevYF=[],n.prevXF=[],n.prevYVal=[],n.prevXVal=[])}},{key:"initializeStackedXYVars",value:function(n){var i=n.w;i.globals.hasSeriesGroups?i.globals.seriesGroups.forEach(function(s){n[s]||(n[s]={}),n[s].xArrj=[],n[s].xArrjF=[],n[s].xArrjVal=[],n[s].yArrj=[],n[s].yArrjF=[],n[s].yArrjVal=[]}):(n.xArrj=[],n.xArrjF=[],n.xArrjVal=[],n.yArrj=[],n.yArrjF=[],n.yArrjVal=[])}},{key:"getPathFillColor",value:function(n,i,s,l){var u,h,f,g,v=this.w,S=new ae(this.barCtx.ctx),C=null,O=this.barCtx.barOptions.distributed?s:i;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(L){n[i][s]>=L.from&&n[i][s]<=L.to&&(C=L.color)}),v.config.series[i].data[s]&&v.config.series[i].data[s].fillColor&&(C=v.config.series[i].data[s].fillColor),S.fillPath({seriesNumber:this.barCtx.barOptions.distributed?O:l,dataPointIndex:s,color:C,value:n[i][s],fillConfig:(u=v.config.series[i].data[s])===null||u===void 0?void 0:u.fill,fillType:(h=v.config.series[i].data[s])!==null&&h!==void 0&&(f=h.fill)!==null&&f!==void 0&&f.type?(g=v.config.series[i].data[s])===null||g===void 0?void 0:g.fill.type:v.config.fill.type})}},{key:"getStrokeWidth",value:function(n,i,s){var l=0,u=this.w;return this.barCtx.series[n][i]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,u.config.stroke.show&&(this.barCtx.isNullValue||(l=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[s]:this.barCtx.strokeWidth)),l}},{key:"shouldApplyRadius",value:function(n){var i=this.w,s=!1;return i.config.plotOptions.bar.borderRadius>0&&(i.config.chart.stacked&&i.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===n&&(s=!0):s=!0),s}},{key:"barBackground",value:function(n){var i=n.j,s=n.i,l=n.x1,u=n.x2,h=n.y1,f=n.y2,g=n.elSeries,v=this.w,S=new R(this.barCtx.ctx),C=new re(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&C===s){i>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(i%=this.barCtx.barOptions.colors.backgroundBarColors.length);var O=this.barCtx.barOptions.colors.backgroundBarColors[i],L=S.drawRect(l!==void 0?l:0,h!==void 0?h:0,u!==void 0?u:v.globals.gridWidth,f!==void 0?f:v.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,O,this.barCtx.barOptions.colors.backgroundBarOpacity);g.add(L),L.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(n){var i,s=n.barWidth,l=n.barXPosition,u=n.y1,h=n.y2,f=n.strokeWidth,g=n.seriesGroup,v=n.realIndex,S=n.i,C=n.j,O=n.w,L=new R(this.barCtx.ctx);(f=Array.isArray(f)?f[v]:f)||(f=0);var _=s,B=l;(i=O.config.series[v].data[C])!==null&&i!==void 0&&i.columnWidthOffset&&(B=l-O.config.series[v].data[C].columnWidthOffset/2,_=s+O.config.series[v].data[C].columnWidthOffset);var H=B,$=B+_;u+=.001,h+=.001;var J=L.move(H,u),y=L.move(H,u),M=L.line($-f,u);if(O.globals.previousPaths.length>0&&(y=this.barCtx.getPreviousPath(v,C,!1)),J=J+L.line(H,h)+L.line($-f,h)+L.line($-f,u)+(O.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),y=y+L.line(H,u)+M+M+M+M+M+L.line(H,u)+(O.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(v)&&(J=L.roundPathCorners(J,O.config.plotOptions.bar.borderRadius)),O.config.chart.stacked){var z=this.barCtx;O.globals.hasSeriesGroups&&g&&(z=this.barCtx[g]),z.yArrj.push(h),z.yArrjF.push(Math.abs(u-h)),z.yArrjVal.push(this.barCtx.series[S][C])}return{pathTo:J,pathFrom:y}}},{key:"getBarpaths",value:function(n){var i,s=n.barYPosition,l=n.barHeight,u=n.x1,h=n.x2,f=n.strokeWidth,g=n.seriesGroup,v=n.realIndex,S=n.i,C=n.j,O=n.w,L=new R(this.barCtx.ctx);(f=Array.isArray(f)?f[v]:f)||(f=0);var _=s,B=l;(i=O.config.series[v].data[C])!==null&&i!==void 0&&i.barHeightOffset&&(_=s-O.config.series[v].data[C].barHeightOffset/2,B=l+O.config.series[v].data[C].barHeightOffset);var H=_,$=_+B;u+=.001,h+=.001;var J=L.move(u,H),y=L.move(u,H);O.globals.previousPaths.length>0&&(y=this.barCtx.getPreviousPath(v,C,!1));var M=L.line(u,$-f);if(J=J+L.line(h,H)+L.line(h,$-f)+M+(O.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),y=y+L.line(u,H)+M+M+M+M+M+L.line(u,H)+(O.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(v)&&(J=L.roundPathCorners(J,O.config.plotOptions.bar.borderRadius)),O.config.chart.stacked){var z=this.barCtx;O.globals.hasSeriesGroups&&g&&(z=this.barCtx[g]),z.xArrj.push(h),z.xArrjF.push(Math.abs(u-h)),z.xArrjVal.push(this.barCtx.series[S][C])}return{pathTo:J,pathFrom:y}}},{key:"checkZeroSeries",value:function(n){for(var i=n.series,s=this.w,l=0;l<i.length;l++){for(var u=0,h=0;h<i[s.globals.maxValsInArrayIndex].length;h++)u+=i[l][h];u===0&&this.barCtx.zeroSerieses.push(l)}}},{key:"getXForValue",value:function(n,i){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?i:null;return n!=null&&(s=i+n/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?n/this.barCtx.invertedYRatio:0)),s}},{key:"getYForValue",value:function(n,i){var s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?i:null;return n!=null&&(s=i-n/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?n/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),s}},{key:"getGoalValues",value:function(n,i,s,l,u){var h=this,f=this.w,g=[],v=function(O,L){var _;g.push((m(_={},n,n==="x"?h.getXForValue(O,i,!1):h.getYForValue(O,s,!1)),m(_,"attrs",L),_))};if(f.globals.seriesGoals[l]&&f.globals.seriesGoals[l][u]&&Array.isArray(f.globals.seriesGoals[l][u])&&f.globals.seriesGoals[l][u].forEach(function(O){v(O.value,O)}),this.barCtx.barOptions.isDumbbell&&f.globals.seriesRange.length){var S=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:f.globals.colors,C={strokeHeight:n==="x"?0:f.globals.markers.size[l],strokeWidth:n==="x"?f.globals.markers.size[l]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(S[l])?S[l][0]:S[l]};v(f.globals.seriesRangeStart[l][u],C),v(f.globals.seriesRangeEnd[l][u],r(r({},C),{},{strokeColor:Array.isArray(S[l])?S[l][1]:S[l]}))}return g}},{key:"drawGoalLine",value:function(n){var i=n.barXPosition,s=n.barYPosition,l=n.goalX,u=n.goalY,h=n.barWidth,f=n.barHeight,g=new R(this.barCtx.ctx),v=g.group({className:"apexcharts-bar-goals-groups"});v.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:v.node}),v.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var S=null;return this.barCtx.isHorizontal?Array.isArray(l)&&l.forEach(function(C){var O=C.attrs.strokeHeight!==void 0?C.attrs.strokeHeight:f/2,L=s+O+f/2;S=g.drawLine(C.x,L-2*O,C.x,L,C.attrs.strokeColor?C.attrs.strokeColor:void 0,C.attrs.strokeDashArray,C.attrs.strokeWidth?C.attrs.strokeWidth:2,C.attrs.strokeLineCap),v.add(S)}):Array.isArray(u)&&u.forEach(function(C){var O=C.attrs.strokeWidth!==void 0?C.attrs.strokeWidth:h/2,L=i+O+h/2;S=g.drawLine(L-2*O,C.y,L,C.y,C.attrs.strokeColor?C.attrs.strokeColor:void 0,C.attrs.strokeDashArray,C.attrs.strokeHeight?C.attrs.strokeHeight:2,C.attrs.strokeLineCap),v.add(S)}),v}}]),Y}(),gn=function(){function Y(n,i){c(this,Y),this.ctx=n,this.w=n.w;var s=this.w;this.barOptions=s.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=s.config.stroke.width,this.isNullValue=!1,this.isRangeBar=s.globals.seriesRange.length&&this.isHorizontal,this.xyRatios=i,this.xyRatios!==null&&(this.xRatio=i.xRatio,this.initialXRatio=i.initialXRatio,this.yRatio=i.yRatio,this.invertedXRatio=i.invertedXRatio,this.invertedYRatio=i.invertedYRatio,this.baseLineY=i.baseLineY,this.baseLineInvertedY=i.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0;var l=new re(this.ctx);this.lastActiveBarSerieIndex=l.getActiveConfigSeriesIndex("desc",["bar","column"]);var u=l.getBarSeriesIndices(),h=new G(this.ctx);this.stackedSeriesTotals=h.getStackedSeriesTotals(this.w.config.series.map(function(f,g){return u.indexOf(g)===-1?g:-1}).filter(function(f){return f!==-1})),this.barHelpers=new vi(this)}return p(Y,[{key:"draw",value:function(n,i){var s=this.w,l=new R(this.ctx),u=new G(this.ctx,s);n=u.getLogSeries(n),this.series=n,this.yRatio=u.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);var h=l.group({class:"apexcharts-bar-series apexcharts-plot-series"});s.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var f=0,g=0;f<n.length;f++,g++){var v,S,C,O,L=void 0,_=void 0,B=[],H=[],$=s.globals.comboCharts?i[f]:f,J=l.group({class:"apexcharts-series",rel:f+1,seriesName:E.escapeString(s.globals.seriesNames[$]),"data:realIndex":$});this.ctx.series.addCollapsedClassToSeries(J,$),n[f].length>0&&(this.visibleI=this.visibleI+1);var y=0,M=0;this.yRatio.length>1&&(this.yaxisIndex=$),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed;var z=this.barHelpers.initialPositions();_=z.y,y=z.barHeight,S=z.yDivision,O=z.zeroW,L=z.x,M=z.barWidth,v=z.xDivision,C=z.zeroH,this.horizontal||H.push(L+M/2);for(var V=l.group({class:"apexcharts-datalabels","data:realIndex":$}),Q=l.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),ee=0;ee<s.globals.dataPoints;ee++){var ue=this.barHelpers.getStrokeWidth(f,ee,$),he=null,ke={indexes:{i:f,j:ee,realIndex:$,bc:g},x:L,y:_,strokeWidth:ue,elSeries:J};this.isHorizontal?(he=this.drawBarPaths(r(r({},ke),{},{barHeight:y,zeroW:O,yDivision:S})),M=this.series[f][ee]/this.invertedYRatio):(he=this.drawColumnPaths(r(r({},ke),{},{xDivision:v,barWidth:M,zeroH:C})),y=this.series[f][ee]/this.yRatio[this.yaxisIndex]);var Ce=this.barHelpers.drawGoalLine({barXPosition:he.barXPosition,barYPosition:he.barYPosition,goalX:he.goalX,goalY:he.goalY,barHeight:y,barWidth:M});Ce&&Q.add(Ce),_=he.y,L=he.x,ee>0&&H.push(L+M/2),B.push(_);var Te=this.barHelpers.getPathFillColor(n,f,ee,$);this.renderSeries({realIndex:$,pathFill:Te,j:ee,i:f,pathFrom:he.pathFrom,pathTo:he.pathTo,strokeWidth:ue,elSeries:J,x:L,y:_,series:n,barHeight:he.barHeight?he.barHeight:y,barWidth:he.barWidth?he.barWidth:M,elDataLabelsWrap:V,elGoalsMarkers:Q,visibleSeries:this.visibleI,type:"bar"})}s.globals.seriesXvalues[$]=H,s.globals.seriesYvalues[$]=B,h.add(J)}return h}},{key:"renderSeries",value:function(n){var i=n.realIndex,s=n.pathFill,l=n.lineFill,u=n.j,h=n.i,f=n.groupIndex,g=n.pathFrom,v=n.pathTo,S=n.strokeWidth,C=n.elSeries,O=n.x,L=n.y,_=n.y1,B=n.y2,H=n.series,$=n.barHeight,J=n.barWidth,y=n.barYPosition,M=n.elDataLabelsWrap,z=n.elGoalsMarkers,V=n.visibleSeries,Q=n.type,ee=this.w,ue=new R(this.ctx);l||(l=this.barOptions.distributed?ee.globals.stroke.colors[u]:ee.globals.stroke.colors[i]),ee.config.series[h].data[u]&&ee.config.series[h].data[u].strokeColor&&(l=ee.config.series[h].data[u].strokeColor),this.isNullValue&&(s="none");var he=u/ee.config.chart.animations.animateGradually.delay*(ee.config.chart.animations.speed/ee.globals.dataPoints)/2.4,ke=ue.renderPaths({i:h,j:u,realIndex:i,pathFrom:g,pathTo:v,stroke:l,strokeWidth:S,strokeLineCap:ee.config.stroke.lineCap,fill:s,animationDelay:he,initialSpeed:ee.config.chart.animations.speed,dataChangeSpeed:ee.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Q,"-area")});ke.attr("clip-path","url(#gridRectMask".concat(ee.globals.cuid,")"));var Ce=ee.config.forecastDataPoints;Ce.count>0&&u>=ee.globals.dataPoints-Ce.count&&(ke.node.setAttribute("stroke-dasharray",Ce.dashArray),ke.node.setAttribute("stroke-width",Ce.strokeWidth),ke.node.setAttribute("fill-opacity",Ce.fillOpacity)),_!==void 0&&B!==void 0&&(ke.attr("data-range-y1",_),ke.attr("data-range-y2",B)),new D(this.ctx).setSelectionFilter(ke,i,u),C.add(ke);var Te=new Ma(this).handleBarDataLabels({x:O,y:L,y1:_,y2:B,i:h,j:u,series:H,realIndex:i,groupIndex:f,barHeight:$,barWidth:J,barYPosition:y,renderedPath:ke,visibleSeries:V});return Te.dataLabels!==null&&M.add(Te.dataLabels),Te.totalDataLabels&&M.add(Te.totalDataLabels),C.add(M),z&&C.add(z),C}},{key:"drawBarPaths",value:function(n){var i,s=n.indexes,l=n.barHeight,u=n.strokeWidth,h=n.zeroW,f=n.x,g=n.y,v=n.yDivision,S=n.elSeries,C=this.w,O=s.i,L=s.j;if(C.globals.isXNumeric)i=(g=(C.globals.seriesX[O][L]-C.globals.minX)/this.invertedXRatio-l)+l*this.visibleI;else if(C.config.plotOptions.bar.hideZeroBarsWhenGrouped){var _=0,B=0;C.globals.seriesPercent.forEach(function($,J){$[L]&&_++,J<O&&$[L]===0&&B++}),_>0&&(l=this.seriesLen*l/_),i=g+l*this.visibleI,i-=l*B}else i=g+l*this.visibleI;f=this.barHelpers.getXForValue(this.series[O][L],h);var H=this.barHelpers.getBarpaths({barYPosition:i,barHeight:l,x1:h,x2:f,strokeWidth:u,series:this.series,realIndex:s.realIndex,i:O,j:L,w:C});return C.globals.isXNumeric||(g+=v),this.barHelpers.barBackground({j:L,i:O,y1:i-l*this.visibleI,y2:l*this.seriesLen,elSeries:S}),{pathTo:H.pathTo,pathFrom:H.pathFrom,x:f,y:g,goalX:this.barHelpers.getGoalValues("x",h,null,O,L),barYPosition:i,barHeight:l}}},{key:"drawColumnPaths",value:function(n){var i,s=n.indexes,l=n.x,u=n.y,h=n.xDivision,f=n.barWidth,g=n.zeroH,v=n.strokeWidth,S=n.elSeries,C=this.w,O=s.realIndex,L=s.i,_=s.j,B=s.bc;if(C.globals.isXNumeric){var H=O;C.globals.seriesX[O].length||(H=C.globals.maxValsInArrayIndex),C.globals.seriesX[H][_]&&(l=(C.globals.seriesX[H][_]-C.globals.minX)/this.xRatio-f*this.seriesLen/2),i=l+f*this.visibleI}else if(C.config.plotOptions.bar.hideZeroBarsWhenGrouped){var $=0,J=0;C.globals.seriesPercent.forEach(function(M,z){M[_]&&$++,z<L&&M[_]===0&&J++}),$>0&&(f=this.seriesLen*f/$),i=l+f*this.visibleI,i-=f*J}else i=l+f*this.visibleI;u=this.barHelpers.getYForValue(this.series[L][_],g);var y=this.barHelpers.getColumnPaths({barXPosition:i,barWidth:f,y1:g,y2:u,strokeWidth:v,series:this.series,realIndex:s.realIndex,i:L,j:_,w:C});return C.globals.isXNumeric||(l+=h),this.barHelpers.barBackground({bc:B,j:_,i:L,x1:i-v/2-f*this.visibleI,x2:f*this.seriesLen+v/2,elSeries:S}),{pathTo:y.pathTo,pathFrom:y.pathFrom,x:l,y:u,goalY:this.barHelpers.getGoalValues("y",null,g,L,_),barXPosition:i,barWidth:f}}},{key:"getPreviousPath",value:function(n,i){for(var s,l=this.w,u=0;u<l.globals.previousPaths.length;u++){var h=l.globals.previousPaths[u];h.paths&&h.paths.length>0&&parseInt(h.realIndex,10)===parseInt(n,10)&&l.globals.previousPaths[u].paths[i]!==void 0&&(s=l.globals.previousPaths[u].paths[i].d)}return s}}]),Y}(),en=function(Y){b(i,gn);var n=A(i);function i(){return c(this,i),n.apply(this,arguments)}return p(i,[{key:"draw",value:function(s,l){var u=this,h=this.w;this.graphics=new R(this.ctx),this.bar=new gn(this.ctx,this.xyRatios);var f=new G(this.ctx,h);s=f.getLogSeries(s),this.yRatio=f.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s),h.config.chart.stackType==="100%"&&(s=h.globals.seriesPercent.slice()),this.series=s,this.barHelpers.initializeStackedPrevVars(this);for(var g=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),v=0,S=0,C=function(_,B){var H=void 0,$=void 0,J=void 0,y=void 0,M=-1;u.groupCtx=u,h.globals.seriesGroups.forEach(function(yt,Tt){yt.indexOf(h.config.series[_].name)>-1&&(M=Tt)}),M!==-1&&(u.groupCtx=u[h.globals.seriesGroups[M]]);var z=[],V=[],Q=h.globals.comboCharts?l[_]:_;u.yRatio.length>1&&(u.yaxisIndex=Q),u.isReversed=h.config.yaxis[u.yaxisIndex]&&h.config.yaxis[u.yaxisIndex].reversed;var ee=u.graphics.group({class:"apexcharts-series",seriesName:E.escapeString(h.globals.seriesNames[Q]),rel:_+1,"data:realIndex":Q});u.ctx.series.addCollapsedClassToSeries(ee,Q);var ue=u.graphics.group({class:"apexcharts-datalabels","data:realIndex":Q}),he=u.graphics.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),ke=0,Ce=0,Te=u.initialPositions(v,S,H,$,J,y);S=Te.y,ke=Te.barHeight,$=Te.yDivision,y=Te.zeroW,v=Te.x,Ce=Te.barWidth,H=Te.xDivision,J=Te.zeroH,u.barHelpers.initializeStackedXYVars(u),u.groupCtx.prevY.length===1&&u.groupCtx.prevY[0].every(function(yt){return isNaN(yt)})&&(u.groupCtx.prevY[0]=u.groupCtx.prevY[0].map(function(yt){return J}),u.groupCtx.prevYF[0]=u.groupCtx.prevYF[0].map(function(yt){return 0}));for(var Ne=0;Ne<h.globals.dataPoints;Ne++){var Ge=u.barHelpers.getStrokeWidth(_,Ne,Q),nt={indexes:{i:_,j:Ne,realIndex:Q,bc:B},strokeWidth:Ge,x:v,y:S,elSeries:ee,groupIndex:M,seriesGroup:h.globals.seriesGroups[M]},rt=null;u.isHorizontal?(rt=u.drawStackedBarPaths(r(r({},nt),{},{zeroW:y,barHeight:ke,yDivision:$})),Ce=u.series[_][Ne]/u.invertedYRatio):(rt=u.drawStackedColumnPaths(r(r({},nt),{},{xDivision:H,barWidth:Ce,zeroH:J})),ke=u.series[_][Ne]/u.yRatio[u.yaxisIndex]);var st=u.barHelpers.drawGoalLine({barXPosition:rt.barXPosition,barYPosition:rt.barYPosition,goalX:rt.goalX,goalY:rt.goalY,barHeight:ke,barWidth:Ce});st&&he.add(st),S=rt.y,v=rt.x,z.push(v),V.push(S);var St=u.barHelpers.getPathFillColor(s,_,Ne,Q);ee=u.renderSeries({realIndex:Q,pathFill:St,j:Ne,i:_,groupIndex:M,pathFrom:rt.pathFrom,pathTo:rt.pathTo,strokeWidth:Ge,elSeries:ee,x:v,y:S,series:s,barHeight:ke,barWidth:Ce,elDataLabelsWrap:ue,elGoalsMarkers:he,type:"bar",visibleSeries:0})}h.globals.seriesXvalues[Q]=z,h.globals.seriesYvalues[Q]=V,u.groupCtx.prevY.push(u.groupCtx.yArrj),u.groupCtx.prevYF.push(u.groupCtx.yArrjF),u.groupCtx.prevYVal.push(u.groupCtx.yArrjVal),u.groupCtx.prevX.push(u.groupCtx.xArrj),u.groupCtx.prevXF.push(u.groupCtx.xArrjF),u.groupCtx.prevXVal.push(u.groupCtx.xArrjVal),g.add(ee)},O=0,L=0;O<s.length;O++,L++)C(O,L);return g}},{key:"initialPositions",value:function(s,l,u,h,f,g){var v,S,C,O,L=this.w;return this.isHorizontal?(v=(v=h=L.globals.gridHeight/L.globals.dataPoints)*parseInt(L.config.plotOptions.bar.barHeight,10)/100,(C=L.globals.seriesGroups)!==null&&C!==void 0&&C.length&&(v/=L.globals.seriesGroups.length),String(L.config.plotOptions.bar.barHeight).indexOf("%")===-1&&(v=parseInt(L.config.plotOptions.bar.barHeight,10)),g=this.baseLineInvertedY+L.globals.padHorizontal+(this.isReversed?L.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),l=(h-v)/2):(S=u=L.globals.gridWidth/L.globals.dataPoints,S=L.globals.isXNumeric&&L.globals.dataPoints>1?(u=L.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:S*parseInt(L.config.plotOptions.bar.columnWidth,10)/100,(O=L.globals.seriesGroups)!==null&&O!==void 0&&O.length&&(S/=L.globals.seriesGroups.length),String(L.config.plotOptions.bar.columnWidth).indexOf("%")===-1&&(S=parseInt(L.config.plotOptions.bar.columnWidth,10)),f=L.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?L.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),s=L.globals.padHorizontal+(u-S)/2),{x:s,y:l,yDivision:h,xDivision:u,barHeight:v,barWidth:S,zeroH:f,zeroW:g}}},{key:"drawStackedBarPaths",value:function(s){for(var l,u=s.indexes,h=s.barHeight,f=s.strokeWidth,g=s.zeroW,v=s.x,S=s.y,C=s.groupIndex,O=s.seriesGroup,L=s.yDivision,_=s.elSeries,B=this.w,H=S+(C!==-1?C*h:0),$=u.i,J=u.j,y=0,M=0;M<this.groupCtx.prevXF.length;M++)y+=this.groupCtx.prevXF[M][J];var z=$;if(O&&(z=O.indexOf(B.config.series[$].name)),z>0){var V=g;this.groupCtx.prevXVal[z-1][J]<0?V=this.series[$][J]>=0?this.groupCtx.prevX[z-1][J]+y-2*(this.isReversed?y:0):this.groupCtx.prevX[z-1][J]:this.groupCtx.prevXVal[z-1][J]>=0&&(V=this.series[$][J]>=0?this.groupCtx.prevX[z-1][J]:this.groupCtx.prevX[z-1][J]-y+2*(this.isReversed?y:0)),l=V}else l=g;v=this.series[$][J]===null?l:l+this.series[$][J]/this.invertedYRatio-2*(this.isReversed?this.series[$][J]/this.invertedYRatio:0);var Q=this.barHelpers.getBarpaths({barYPosition:H,barHeight:h,x1:l,x2:v,strokeWidth:f,series:this.series,realIndex:u.realIndex,seriesGroup:O,i:$,j:J,w:B});return this.barHelpers.barBackground({j:J,i:$,y1:H,y2:h,elSeries:_}),S+=L,{pathTo:Q.pathTo,pathFrom:Q.pathFrom,goalX:this.barHelpers.getGoalValues("x",g,null,$,J),barYPosition:H,x:v,y:S}}},{key:"drawStackedColumnPaths",value:function(s){var l=s.indexes,u=s.x,h=s.y,f=s.xDivision,g=s.barWidth,v=s.zeroH,S=s.groupIndex,C=s.seriesGroup,O=s.elSeries,L=this.w,_=l.i,B=l.j,H=l.bc;if(L.globals.isXNumeric){var $=L.globals.seriesX[_][B];$||($=0),u=($-L.globals.minX)/this.xRatio-g/2,L.globals.seriesGroups.length&&(u=($-L.globals.minX)/this.xRatio-g/2*L.globals.seriesGroups.length)}for(var J,y=u+(S!==-1?S*g:0),M=0,z=0;z<this.groupCtx.prevYF.length;z++)M+=isNaN(this.groupCtx.prevYF[z][B])?0:this.groupCtx.prevYF[z][B];var V=_;if(C&&(V=C.indexOf(L.config.series[_].name)),V>0&&!L.globals.isXNumeric||V>0&&L.globals.isXNumeric&&L.globals.seriesX[_-1][B]===L.globals.seriesX[_][B]){var Q,ee,ue,he=Math.min(this.yRatio.length+1,_+1);if(this.groupCtx.prevY[V-1]!==void 0&&this.groupCtx.prevY[V-1].length)for(var ke=1;ke<he;ke++){var Ce;if(!isNaN((Ce=this.groupCtx.prevY[V-ke])===null||Ce===void 0?void 0:Ce[B])){ue=this.groupCtx.prevY[V-ke][B];break}}for(var Te=1;Te<he;Te++){var Ne,Ge;if(((Ne=this.groupCtx.prevYVal[V-Te])===null||Ne===void 0?void 0:Ne[B])<0){ee=this.series[_][B]>=0?ue-M+2*(this.isReversed?M:0):ue;break}if(((Ge=this.groupCtx.prevYVal[V-Te])===null||Ge===void 0?void 0:Ge[B])>=0){ee=this.series[_][B]>=0?ue:ue+M-2*(this.isReversed?M:0);break}}ee===void 0&&(ee=L.globals.gridHeight),J=(Q=this.groupCtx.prevYF[0])!==null&&Q!==void 0&&Q.every(function(rt){return rt===0})&&this.groupCtx.prevYF.slice(1,V).every(function(rt){return rt.every(function(st){return isNaN(st)})})?v:ee}else J=v;h=this.series[_][B]?J-this.series[_][B]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[_][B]/this.yRatio[this.yaxisIndex]:0):J;var nt=this.barHelpers.getColumnPaths({barXPosition:y,barWidth:g,y1:J,y2:h,yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:C,realIndex:l.realIndex,i:_,j:B,w:L});return this.barHelpers.barBackground({bc:H,j:B,i:_,x1:y,x2:g,elSeries:O}),u+=f,{pathTo:nt.pathTo,pathFrom:nt.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,v,_,B),barXPosition:y,x:L.globals.isXNumeric?u-f:u,y:h}}}]),i}(),qi=function(Y){b(i,gn);var n=A(i);function i(){return c(this,i),n.apply(this,arguments)}return p(i,[{key:"draw",value:function(s,l,u){var h=this,f=this.w,g=new R(this.ctx),v=f.globals.comboCharts?l:f.config.chart.type,S=new ae(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=f.config.plotOptions.bar.horizontal;var C=new G(this.ctx,f);s=C.getLogSeries(s),this.series=s,this.yRatio=C.getLogYRatios(this.yRatio),this.barHelpers.initVariables(s);for(var O=g.group({class:"apexcharts-".concat(v,"-series apexcharts-plot-series")}),L=function(B){h.isBoxPlot=f.config.chart.type==="boxPlot"||f.config.series[B].type==="boxPlot";var H,$,J,y,M=void 0,z=void 0,V=[],Q=[],ee=f.globals.comboCharts?u[B]:B,ue=g.group({class:"apexcharts-series",seriesName:E.escapeString(f.globals.seriesNames[ee]),rel:B+1,"data:realIndex":ee});h.ctx.series.addCollapsedClassToSeries(ue,ee),s[B].length>0&&(h.visibleI=h.visibleI+1);var he,ke;h.yRatio.length>1&&(h.yaxisIndex=ee);var Ce=h.barHelpers.initialPositions();z=Ce.y,he=Ce.barHeight,$=Ce.yDivision,y=Ce.zeroW,M=Ce.x,ke=Ce.barWidth,H=Ce.xDivision,J=Ce.zeroH,Q.push(M+ke/2);for(var Te=g.group({class:"apexcharts-datalabels","data:realIndex":ee}),Ne=function(nt){var rt=h.barHelpers.getStrokeWidth(B,nt,ee),st=null,St={indexes:{i:B,j:nt,realIndex:ee},x:M,y:z,strokeWidth:rt,elSeries:ue};st=h.isHorizontal?h.drawHorizontalBoxPaths(r(r({},St),{},{yDivision:$,barHeight:he,zeroW:y})):h.drawVerticalBoxPaths(r(r({},St),{},{xDivision:H,barWidth:ke,zeroH:J})),z=st.y,M=st.x,nt>0&&Q.push(M+ke/2),V.push(z),st.pathTo.forEach(function(yt,Tt){var xi=!h.isBoxPlot&&h.candlestickOptions.wick.useFillColor?st.color[Tt]:f.globals.stroke.colors[B],Zn=S.fillPath({seriesNumber:ee,dataPointIndex:nt,color:st.color[Tt],value:s[B][nt]});h.renderSeries({realIndex:ee,pathFill:Zn,lineFill:xi,j:nt,i:B,pathFrom:st.pathFrom,pathTo:yt,strokeWidth:rt,elSeries:ue,x:M,y:z,series:s,barHeight:he,barWidth:ke,elDataLabelsWrap:Te,visibleSeries:h.visibleI,type:f.config.chart.type})})},Ge=0;Ge<f.globals.dataPoints;Ge++)Ne(Ge);f.globals.seriesXvalues[ee]=Q,f.globals.seriesYvalues[ee]=V,O.add(ue)},_=0;_<s.length;_++)L(_);return O}},{key:"drawVerticalBoxPaths",value:function(s){var l=s.indexes,u=s.x;s.y;var h=s.xDivision,f=s.barWidth,g=s.zeroH,v=s.strokeWidth,S=this.w,C=new R(this.ctx),O=l.i,L=l.j,_=!0,B=S.config.plotOptions.candlestick.colors.upward,H=S.config.plotOptions.candlestick.colors.downward,$="";this.isBoxPlot&&($=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var J=this.yRatio[this.yaxisIndex],y=l.realIndex,M=this.getOHLCValue(y,L),z=g,V=g;M.o>M.c&&(_=!1);var Q=Math.min(M.o,M.c),ee=Math.max(M.o,M.c),ue=M.m;S.globals.isXNumeric&&(u=(S.globals.seriesX[y][L]-S.globals.minX)/this.xRatio-f/2);var he=u+f*this.visibleI;this.series[O][L]===void 0||this.series[O][L]===null?(Q=g,ee=g):(Q=g-Q/J,ee=g-ee/J,z=g-M.h/J,V=g-M.l/J,ue=g-M.m/J);var ke=C.move(he,g),Ce=C.move(he+f/2,Q);return S.globals.previousPaths.length>0&&(Ce=this.getPreviousPath(y,L,!0)),ke=this.isBoxPlot?[C.move(he,Q)+C.line(he+f/2,Q)+C.line(he+f/2,z)+C.line(he+f/4,z)+C.line(he+f-f/4,z)+C.line(he+f/2,z)+C.line(he+f/2,Q)+C.line(he+f,Q)+C.line(he+f,ue)+C.line(he,ue)+C.line(he,Q+v/2),C.move(he,ue)+C.line(he+f,ue)+C.line(he+f,ee)+C.line(he+f/2,ee)+C.line(he+f/2,V)+C.line(he+f-f/4,V)+C.line(he+f/4,V)+C.line(he+f/2,V)+C.line(he+f/2,ee)+C.line(he,ee)+C.line(he,ue)+"z"]:[C.move(he,ee)+C.line(he+f/2,ee)+C.line(he+f/2,z)+C.line(he+f/2,ee)+C.line(he+f,ee)+C.line(he+f,Q)+C.line(he+f/2,Q)+C.line(he+f/2,V)+C.line(he+f/2,Q)+C.line(he,Q)+C.line(he,ee-v/2)],Ce+=C.move(he,Q),S.globals.isXNumeric||(u+=h),{pathTo:ke,pathFrom:Ce,x:u,y:ee,barXPosition:he,color:this.isBoxPlot?$:_?[B]:[H]}}},{key:"drawHorizontalBoxPaths",value:function(s){var l=s.indexes;s.x;var u=s.y,h=s.yDivision,f=s.barHeight,g=s.zeroW,v=s.strokeWidth,S=this.w,C=new R(this.ctx),O=l.i,L=l.j,_=this.boxOptions.colors.lower;this.isBoxPlot&&(_=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var B=this.invertedYRatio,H=l.realIndex,$=this.getOHLCValue(H,L),J=g,y=g,M=Math.min($.o,$.c),z=Math.max($.o,$.c),V=$.m;S.globals.isXNumeric&&(u=(S.globals.seriesX[H][L]-S.globals.minX)/this.invertedXRatio-f/2);var Q=u+f*this.visibleI;this.series[O][L]===void 0||this.series[O][L]===null?(M=g,z=g):(M=g+M/B,z=g+z/B,J=g+$.h/B,y=g+$.l/B,V=g+$.m/B);var ee=C.move(g,Q),ue=C.move(M,Q+f/2);return S.globals.previousPaths.length>0&&(ue=this.getPreviousPath(H,L,!0)),ee=[C.move(M,Q)+C.line(M,Q+f/2)+C.line(J,Q+f/2)+C.line(J,Q+f/2-f/4)+C.line(J,Q+f/2+f/4)+C.line(J,Q+f/2)+C.line(M,Q+f/2)+C.line(M,Q+f)+C.line(V,Q+f)+C.line(V,Q)+C.line(M+v/2,Q),C.move(V,Q)+C.line(V,Q+f)+C.line(z,Q+f)+C.line(z,Q+f/2)+C.line(y,Q+f/2)+C.line(y,Q+f-f/4)+C.line(y,Q+f/4)+C.line(y,Q+f/2)+C.line(z,Q+f/2)+C.line(z,Q)+C.line(V,Q)+"z"],ue+=C.move(M,Q),S.globals.isXNumeric||(u+=h),{pathTo:ee,pathFrom:ue,x:z,y:u,barYPosition:Q,color:_}}},{key:"getOHLCValue",value:function(s,l){var u=this.w;return{o:this.isBoxPlot?u.globals.seriesCandleH[s][l]:u.globals.seriesCandleO[s][l],h:this.isBoxPlot?u.globals.seriesCandleO[s][l]:u.globals.seriesCandleH[s][l],m:u.globals.seriesCandleM[s][l],l:this.isBoxPlot?u.globals.seriesCandleC[s][l]:u.globals.seriesCandleL[s][l],c:this.isBoxPlot?u.globals.seriesCandleL[s][l]:u.globals.seriesCandleC[s][l]}}}]),i}(),xr=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"checkColorRange",value:function(){var n=this.w,i=!1,s=n.config.plotOptions[n.config.chart.type];return s.colorScale.ranges.length>0&&s.colorScale.ranges.map(function(l,u){l.from<=0&&(i=!0)}),i}},{key:"getShadeColor",value:function(n,i,s,l){var u=this.w,h=1,f=u.config.plotOptions[n].shadeIntensity,g=this.determineColor(n,i,s);u.globals.hasNegs||l?h=u.config.plotOptions[n].reverseNegativeShade?g.percent<0?g.percent/100*(1.25*f):(1-g.percent/100)*(1.25*f):g.percent<=0?1-(1+g.percent/100)*f:(1-g.percent/100)*f:(h=1-g.percent/100,n==="treemap"&&(h=(1-g.percent/100)*(1.25*f)));var v=g.color,S=new E;return u.config.plotOptions[n].enableShades&&(v=this.w.config.theme.mode==="dark"?E.hexToRgba(S.shadeColor(-1*h,g.color),u.config.fill.opacity):E.hexToRgba(S.shadeColor(h,g.color),u.config.fill.opacity)),{color:v,colorProps:g}}},{key:"determineColor",value:function(n,i,s){var l=this.w,u=l.globals.series[i][s],h=l.config.plotOptions[n],f=h.colorScale.inverse?s:i;h.distributed&&l.config.chart.type==="treemap"&&(f=s);var g=l.globals.colors[f],v=null,S=Math.min.apply(Math,P(l.globals.series[i])),C=Math.max.apply(Math,P(l.globals.series[i]));h.distributed||n!=="heatmap"||(S=l.globals.minY,C=l.globals.maxY),h.colorScale.min!==void 0&&(S=h.colorScale.min<l.globals.minY?h.colorScale.min:l.globals.minY,C=h.colorScale.max>l.globals.maxY?h.colorScale.max:l.globals.maxY);var O=Math.abs(C)+Math.abs(S),L=100*u/(O===0?O-1e-6:O);return h.colorScale.ranges.length>0&&h.colorScale.ranges.map(function(_,B){if(u>=_.from&&u<=_.to){g=_.color,v=_.foreColor?_.foreColor:null,S=_.from,C=_.to;var H=Math.abs(C)+Math.abs(S);L=100*u/(H===0?H-1e-6:H)}}),{color:g,foreColor:v,percent:L}}},{key:"calculateDataLabels",value:function(n){var i=n.text,s=n.x,l=n.y,u=n.i,h=n.j,f=n.colorProps,g=n.fontSize,v=this.w.config.dataLabels,S=new R(this.ctx),C=new pe(this.ctx),O=null;if(v.enabled){O=S.group({class:"apexcharts-data-labels"});var L=v.offsetX,_=v.offsetY,B=s+L,H=l+parseFloat(v.style.fontSize)/3+_;C.plotDataLabelsText({x:B,y:H,text:i,i:u,j:h,color:f.foreColor,parent:O,fontSize:g,dataLabelsConfig:v})}return O}},{key:"addListeners",value:function(n){var i=new R(this.ctx);n.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,n)),n.node.addEventListener("mousedown",i.pathMouseDown.bind(this,n))}}]),Y}(),ne=function(){function Y(n,i){c(this,Y),this.ctx=n,this.w=n.w,this.xRatio=i.xRatio,this.yRatio=i.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new xr(n),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return p(Y,[{key:"draw",value:function(n){var i=this.w,s=new R(this.ctx),l=s.group({class:"apexcharts-heatmap"});l.attr("clip-path","url(#gridRectMask".concat(i.globals.cuid,")"));var u=i.globals.gridWidth/i.globals.dataPoints,h=i.globals.gridHeight/i.globals.series.length,f=0,g=!1;this.negRange=this.helpers.checkColorRange();var v=n.slice();i.config.yaxis[0].reversed&&(g=!0,v.reverse());for(var S=g?0:v.length-1;g?S<v.length:S>=0;g?S++:S--){var C=s.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:E.escapeString(i.globals.seriesNames[S]),rel:S+1,"data:realIndex":S});if(this.ctx.series.addCollapsedClassToSeries(C,S),i.config.chart.dropShadow.enabled){var O=i.config.chart.dropShadow;new D(this.ctx).dropShadow(C,O,S)}for(var L=0,_=i.config.plotOptions.heatmap.shadeIntensity,B=0;B<v[S].length;B++){var H=this.helpers.getShadeColor(i.config.chart.type,S,B,this.negRange),$=H.color,J=H.colorProps;i.config.fill.type==="image"&&($=new ae(this.ctx).fillPath({seriesNumber:S,dataPointIndex:B,opacity:i.globals.hasNegs?J.percent<0?1-(1+J.percent/100):_+J.percent/100:J.percent/100,patternID:E.randomId(),width:i.config.fill.image.width?i.config.fill.image.width:u,height:i.config.fill.image.height?i.config.fill.image.height:h}));var y=this.rectRadius,M=s.drawRect(L,f,u,h,y);if(M.attr({cx:L,cy:f}),M.node.classList.add("apexcharts-heatmap-rect"),C.add(M),M.attr({fill:$,i:S,index:S,j:B,val:v[S][B],"stroke-width":this.strokeWidth,stroke:i.config.plotOptions.heatmap.useFillColorAsStroke?$:i.globals.stroke.colors[0],color:$}),this.helpers.addListeners(M),i.config.chart.animations.enabled&&!i.globals.dataChanged){var z=1;i.globals.resized||(z=i.config.chart.animations.speed),this.animateHeatMap(M,L,f,u,h,z)}if(i.globals.dataChanged){var V=1;if(this.dynamicAnim.enabled&&i.globals.shouldAnimate){V=this.dynamicAnim.speed;var Q=i.globals.previousPaths[S]&&i.globals.previousPaths[S][B]&&i.globals.previousPaths[S][B].color;Q||(Q="rgba(255, 255, 255, 0)"),this.animateHeatColor(M,E.isColorHex(Q)?Q:E.rgb2hex(Q),E.isColorHex($)?$:E.rgb2hex($),V)}}var ee=(0,i.config.dataLabels.formatter)(i.globals.series[S][B],{value:i.globals.series[S][B],seriesIndex:S,dataPointIndex:B,w:i}),ue=this.helpers.calculateDataLabels({text:ee,x:L+u/2,y:f+h/2,i:S,j:B,colorProps:J,series:v});ue!==null&&C.add(ue),L+=u}f+=h,l.add(C)}var he=i.globals.yAxisScale[0].result.slice();i.config.yaxis[0].reversed?he.unshift(""):he.push(""),i.globals.yAxisScale[0].result=he;var ke=i.globals.gridHeight/i.globals.series.length;return i.config.yaxis[0].labels.offsetY=-ke/2,l}},{key:"animateHeatMap",value:function(n,i,s,l,u,h){var f=new F(this.ctx);f.animateRect(n,{x:i+l/2,y:s+u/2,width:0,height:0},{x:i,y:s,width:l,height:u},h,function(){f.animationCompleted(n)})}},{key:"animateHeatColor",value:function(n,i,s,l){n.attr({fill:i}).animate(l).attr({fill:s})}}]),Y}(),se=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"drawYAxisTexts",value:function(n,i,s,l){var u=this.w,h=u.config.yaxis[0],f=u.globals.yLabelFormatters[0];return new R(this.ctx).drawText({x:n+h.labels.offsetX,y:i+h.labels.offsetY,text:f(l,s),textAnchor:"middle",fontSize:h.labels.style.fontSize,fontFamily:h.labels.style.fontFamily,foreColor:Array.isArray(h.labels.style.colors)?h.labels.style.colors[s]:h.labels.style.colors})}}]),Y}(),ge=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w;var i=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=i.globals.stroke.colors!==void 0?i.globals.stroke.colors:i.globals.colors,this.defaultSize=Math.min(i.globals.gridWidth,i.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=i.globals.gridWidth/2,i.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(i.config.plotOptions.pie.endAngle-i.config.plotOptions.pie.startAngle),this.initialAngle=i.config.plotOptions.pie.startAngle%this.fullAngle,i.globals.radialSize=this.defaultSize/2.05-i.config.stroke.width-(i.config.chart.sparkline.enabled?0:i.config.chart.dropShadow.blur),this.donutSize=i.globals.radialSize*parseInt(i.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return p(Y,[{key:"draw",value:function(n){var i=this,s=this.w,l=new R(this.ctx);if(this.ret=l.group({class:"apexcharts-pie"}),s.globals.noData)return this.ret;for(var u=0,h=0;h<n.length;h++)u+=E.negToZero(n[h]);var f=[],g=l.group();u===0&&(u=1e-5),n.forEach(function(Q){i.maxY=Math.max(i.maxY,Q)}),s.config.yaxis[0].max&&(this.maxY=s.config.yaxis[0].max),s.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var v=0;v<n.length;v++){var S=this.fullAngle*E.negToZero(n[v])/u;f.push(S),this.chartType==="polarArea"?(f[v]=this.fullAngle/n.length,this.sliceSizes.push(s.globals.radialSize*n[v]/this.maxY)):this.sliceSizes.push(s.globals.radialSize)}if(s.globals.dataChanged){for(var C,O=0,L=0;L<s.globals.previousPaths.length;L++)O+=E.negToZero(s.globals.previousPaths[L]);for(var _=0;_<s.globals.previousPaths.length;_++)C=this.fullAngle*E.negToZero(s.globals.previousPaths[_])/O,this.prevSectorAngleArr.push(C)}this.donutSize<0&&(this.donutSize=0);var B=s.config.plotOptions.pie.customScale,H=s.globals.gridWidth/2,$=s.globals.gridHeight/2,J=H-s.globals.gridWidth/2*B,y=$-s.globals.gridHeight/2*B;if(this.chartType==="donut"){var M=l.drawCircle(this.donutSize);M.attr({cx:this.centerX,cy:this.centerY,fill:s.config.plotOptions.pie.donut.background?s.config.plotOptions.pie.donut.background:"transparent"}),g.add(M)}var z=this.drawArcs(f,n);if(this.sliceLabels.forEach(function(Q){z.add(Q)}),g.attr({transform:"translate(".concat(J,", ").concat(y,") scale(").concat(B,")")}),g.add(z),this.ret.add(g),this.donutDataLabels.show){var V=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:J,translateY:y});this.ret.add(V)}return s.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(n,i){var s=this.w,l=new D(this.ctx),u=new R(this.ctx),h=new ae(this.ctx),f=u.group({class:"apexcharts-slices"}),g=this.initialAngle,v=this.initialAngle,S=this.initialAngle,C=this.initialAngle;this.strokeWidth=s.config.stroke.show?s.config.stroke.width:0;for(var O=0;O<n.length;O++){var L=u.group({class:"apexcharts-series apexcharts-pie-series",seriesName:E.escapeString(s.globals.seriesNames[O]),rel:O+1,"data:realIndex":O});f.add(L),v=C,S=(g=S)+n[O],C=v+this.prevSectorAngleArr[O];var _=S<g?this.fullAngle+S-g:S-g,B=h.fillPath({seriesNumber:O,size:this.sliceSizes[O],value:i[O]}),H=this.getChangedPath(v,C),$=u.drawPath({d:H,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[O]:this.lineColorArr,strokeWidth:0,fill:B,fillOpacity:s.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(O)});if($.attr({index:0,j:O}),l.setSelectionFilter($,0,O),s.config.chart.dropShadow.enabled){var J=s.config.chart.dropShadow;l.dropShadow($,J,O)}this.addListeners($,this.donutDataLabels),R.setAttrs($.node,{"data:angle":_,"data:startAngle":g,"data:strokeWidth":this.strokeWidth,"data:value":i[O]});var y={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?y=E.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize/1.25+s.config.plotOptions.pie.dataLabels.offset,(g+_/2)%this.fullAngle):this.chartType==="donut"&&(y=E.polarToCartesian(this.centerX,this.centerY,(s.globals.radialSize+this.donutSize)/2+s.config.plotOptions.pie.dataLabels.offset,(g+_/2)%this.fullAngle)),L.add($);var M=0;if(!this.initialAnim||s.globals.resized||s.globals.dataChanged?this.animBeginArr.push(0):((M=_/this.fullAngle*s.config.chart.animations.speed)===0&&(M=1),this.animDur=M+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&s.globals.dataChanged?this.animatePaths($,{size:this.sliceSizes[O],endAngle:S,startAngle:g,prevStartAngle:v,prevEndAngle:C,animateStartingPos:!0,i:O,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:s.config.chart.animations.dynamicAnimation.speed}):this.animatePaths($,{size:this.sliceSizes[O],endAngle:S,startAngle:g,i:O,totalItems:n.length-1,animBeginArr:this.animBeginArr,dur:M}),s.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&$.click(this.pieClicked.bind(this,O)),s.globals.selectedDataPoints[0]!==void 0&&s.globals.selectedDataPoints[0].indexOf(O)>-1&&this.pieClicked(O),s.config.dataLabels.enabled){var z=y.x,V=y.y,Q=100*_/this.fullAngle+"%";if(_!==0&&s.config.plotOptions.pie.dataLabels.minAngleToShowLabel<n[O]){var ee=s.config.dataLabels.formatter;ee!==void 0&&(Q=ee(s.globals.seriesPercent[O][0],{seriesIndex:O,w:s}));var ue=s.globals.dataLabels.style.colors[O],he=u.group({class:"apexcharts-datalabels"}),ke=u.drawText({x:z,y:V,text:Q,textAnchor:"middle",fontSize:s.config.dataLabels.style.fontSize,fontFamily:s.config.dataLabels.style.fontFamily,fontWeight:s.config.dataLabels.style.fontWeight,foreColor:ue});if(he.add(ke),s.config.dataLabels.dropShadow.enabled){var Ce=s.config.dataLabels.dropShadow;l.dropShadow(ke,Ce)}ke.node.classList.add("apexcharts-pie-label"),s.config.chart.animations.animate&&s.globals.resized===!1&&(ke.node.classList.add("apexcharts-pie-label-delay"),ke.node.style.animationDelay=s.config.chart.animations.speed/940+"s"),this.sliceLabels.push(he)}}}return f}},{key:"addListeners",value:function(n,i){var s=new R(this.ctx);n.node.addEventListener("mouseenter",s.pathMouseEnter.bind(this,n)),n.node.addEventListener("mouseleave",s.pathMouseLeave.bind(this,n)),n.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,n.node,i)),n.node.addEventListener("mousedown",s.pathMouseDown.bind(this,n)),this.donutDataLabels.total.showAlways||(n.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,n.node,i)),n.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,n.node,i)))}},{key:"animatePaths",value:function(n,i){var s=this.w,l=i.endAngle<i.startAngle?this.fullAngle+i.endAngle-i.startAngle:i.endAngle-i.startAngle,u=l,h=i.startAngle,f=i.startAngle;i.prevStartAngle!==void 0&&i.prevEndAngle!==void 0&&(h=i.prevEndAngle,u=i.prevEndAngle<i.prevStartAngle?this.fullAngle+i.prevEndAngle-i.prevStartAngle:i.prevEndAngle-i.prevStartAngle),i.i===s.config.series.length-1&&(l+f>this.fullAngle?i.endAngle=i.endAngle-(l+f):l+f<this.fullAngle&&(i.endAngle=i.endAngle+(this.fullAngle-(l+f)))),l===this.fullAngle&&(l=this.fullAngle-.01),this.animateArc(n,h,f,l,u,i)}},{key:"animateArc",value:function(n,i,s,l,u,h){var f,g=this,v=this.w,S=new F(this.ctx),C=h.size;(isNaN(i)||isNaN(u))&&(i=s,u=l,h.dur=0);var O=l,L=s,_=i<s?this.fullAngle+i-s:i-s;v.globals.dataChanged&&h.shouldSetPrevPaths&&h.prevEndAngle&&(f=g.getPiePath({me:g,startAngle:h.prevStartAngle,angle:h.prevEndAngle<h.prevStartAngle?this.fullAngle+h.prevEndAngle-h.prevStartAngle:h.prevEndAngle-h.prevStartAngle,size:C}),n.attr({d:f})),h.dur!==0?n.animate(h.dur,v.globals.easing,h.animBeginArr[h.i]).afterAll(function(){g.chartType!=="pie"&&g.chartType!=="donut"&&g.chartType!=="polarArea"||this.animate(v.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":g.strokeWidth}),h.i===v.config.series.length-1&&S.animationCompleted(n)}).during(function(B){O=_+(l-_)*B,h.animateStartingPos&&(O=u+(l-u)*B,L=i-u+(s-(i-u))*B),f=g.getPiePath({me:g,startAngle:L,angle:O,size:C}),n.node.setAttribute("data:pathOrig",f),n.attr({d:f})}):(f=g.getPiePath({me:g,startAngle:L,angle:l,size:C}),h.isTrack||(v.globals.animationEnded=!0),n.node.setAttribute("data:pathOrig",f),n.attr({d:f,"stroke-width":g.strokeWidth}))}},{key:"pieClicked",value:function(n){var i,s=this.w,l=this,u=l.sliceSizes[n]+(s.config.plotOptions.pie.expandOnClick?4:0),h=s.globals.dom.Paper.select(".apexcharts-".concat(l.chartType.toLowerCase(),"-slice-").concat(n)).members[0];if(h.attr("data:pieClicked")!=="true"){var f=s.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(f,function(C){C.setAttribute("data:pieClicked","false");var O=C.getAttribute("data:pathOrig");O&&C.setAttribute("d",O)}),h.attr("data:pieClicked","true");var g=parseInt(h.attr("data:startAngle"),10),v=parseInt(h.attr("data:angle"),10);i=l.getPiePath({me:l,startAngle:g,angle:v,size:u}),v!==360&&h.plot(i)}else{h.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(h.node,this.donutDataLabels);var S=h.attr("data:pathOrig");h.attr({d:S})}}},{key:"getChangedPath",value:function(n,i){var s="";return this.dynamicAnim&&this.w.globals.dataChanged&&(s=this.getPiePath({me:this,startAngle:n,angle:i-n,size:this.size})),s}},{key:"getPiePath",value:function(n){var i=n.me,s=n.startAngle,l=n.angle,u=n.size,h=s,f=Math.PI*(h-90)/180,g=l+s;Math.ceil(g)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(g=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(g)>this.fullAngle&&(g-=this.fullAngle);var v=Math.PI*(g-90)/180,S=i.centerX+u*Math.cos(f),C=i.centerY+u*Math.sin(f),O=i.centerX+u*Math.cos(v),L=i.centerY+u*Math.sin(v),_=E.polarToCartesian(i.centerX,i.centerY,i.donutSize,g),B=E.polarToCartesian(i.centerX,i.centerY,i.donutSize,h),H=l>180?1:0,$=["M",S,C,"A",u,u,0,H,1,O,L];return i.chartType==="donut"?[].concat($,["L",_.x,_.y,"A",i.donutSize,i.donutSize,0,H,0,B.x,B.y,"L",S,C,"z"]).join(" "):i.chartType==="pie"||i.chartType==="polarArea"?[].concat($,["L",i.centerX,i.centerY,"L",S,C]).join(" "):[].concat($).join(" ")}},{key:"drawPolarElements",value:function(n){var i=this.w,s=new We(this.ctx),l=new R(this.ctx),u=new se(this.ctx),h=l.group(),f=l.group(),g=s.niceScale(0,Math.ceil(this.maxY),i.config.yaxis[0].tickAmount,0,!0),v=g.result.reverse(),S=g.result.length;this.maxY=g.niceMax;for(var C=i.globals.radialSize,O=C/(S-1),L=0;L<S-1;L++){var _=l.drawCircle(C);if(_.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":i.config.plotOptions.polarArea.rings.strokeWidth,stroke:i.config.plotOptions.polarArea.rings.strokeColor}),i.config.yaxis[0].show){var B=u.drawYAxisTexts(this.centerX,this.centerY-C+parseInt(i.config.yaxis[0].labels.style.fontSize,10)/2,L,v[L]);f.add(B)}h.add(_),C-=O}this.drawSpokes(n),n.add(h),n.add(f)}},{key:"renderInnerDataLabels",value:function(n,i){var s=this.w,l=new R(this.ctx),u=l.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(i.translateX?i.translateX:0,", ").concat(i.translateY?i.translateY:0,") scale(").concat(s.config.plotOptions.pie.customScale,")")}),h=n.total.show;u.node.style.opacity=i.opacity;var f,g,v=i.centerX,S=i.centerY;f=n.name.color===void 0?s.globals.colors[0]:n.name.color;var C=n.name.fontSize,O=n.name.fontFamily,L=n.name.fontWeight;g=n.value.color===void 0?s.config.chart.foreColor:n.value.color;var _=n.value.formatter,B="",H="";if(h?(f=n.total.color,C=n.total.fontSize,O=n.total.fontFamily,L=n.total.fontWeight,H=n.total.label,B=n.total.formatter(s)):s.globals.series.length===1&&(B=_(s.globals.series[0],s),H=s.globals.seriesNames[0]),H&&(H=n.name.formatter(H,n.total.show,s)),n.name.show){var $=l.drawText({x:v,y:S+parseFloat(n.name.offsetY),text:H,textAnchor:"middle",foreColor:f,fontSize:C,fontWeight:L,fontFamily:O});$.node.classList.add("apexcharts-datalabel-label"),u.add($)}if(n.value.show){var J=n.name.show?parseFloat(n.value.offsetY)+16:n.value.offsetY,y=l.drawText({x:v,y:S+J,text:B,textAnchor:"middle",foreColor:g,fontWeight:n.value.fontWeight,fontSize:n.value.fontSize,fontFamily:n.value.fontFamily});y.node.classList.add("apexcharts-datalabel-value"),u.add(y)}return u}},{key:"printInnerLabels",value:function(n,i,s,l){var u,h=this.w;l?u=n.name.color===void 0?h.globals.colors[parseInt(l.parentNode.getAttribute("rel"),10)-1]:n.name.color:h.globals.series.length>1&&n.total.show&&(u=n.total.color);var f=h.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),g=h.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");s=(0,n.value.formatter)(s,h),l||typeof n.total.formatter!="function"||(s=n.total.formatter(h));var v=i===n.total.label;i=n.name.formatter(i,v,h),f!==null&&(f.textContent=i),g!==null&&(g.textContent=s),f!==null&&(f.style.fill=u)}},{key:"printDataLabelsInner",value:function(n,i){var s=this.w,l=n.getAttribute("data:value"),u=s.globals.seriesNames[parseInt(n.parentNode.getAttribute("rel"),10)-1];s.globals.series.length>1&&this.printInnerLabels(i,u,l,n);var h=s.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");h!==null&&(h.style.opacity=1)}},{key:"drawSpokes",value:function(n){var i=this,s=this.w,l=new R(this.ctx),u=s.config.plotOptions.polarArea.spokes;if(u.strokeWidth!==0){for(var h=[],f=360/s.globals.series.length,g=0;g<s.globals.series.length;g++)h.push(E.polarToCartesian(this.centerX,this.centerY,s.globals.radialSize,s.config.plotOptions.pie.startAngle+f*g));h.forEach(function(v,S){var C=l.drawLine(v.x,v.y,i.centerX,i.centerY,Array.isArray(u.connectorColors)?u.connectorColors[S]:u.connectorColors);n.add(C)})}}},{key:"revertDataLabelsInner",value:function(n,i,s){var l=this,u=this.w,h=u.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),f=!1,g=u.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),v=function(O){var L=O.makeSliceOut,_=O.printLabel;Array.prototype.forEach.call(g,function(B){B.getAttribute("data:pieClicked")==="true"&&(L&&(f=!0),_&&l.printDataLabelsInner(B,i))})};if(v({makeSliceOut:!0,printLabel:!1}),i.total.show&&u.globals.series.length>1)f&&!i.total.showAlways?v({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(i,i.total.label,i.total.formatter(u));else if(v({makeSliceOut:!1,printLabel:!0}),!f)if(u.globals.selectedDataPoints.length&&u.globals.series.length>1)if(u.globals.selectedDataPoints[0].length>0){var S=u.globals.selectedDataPoints[0],C=u.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(S));this.printDataLabelsInner(C,i)}else h&&u.globals.selectedDataPoints.length&&u.globals.selectedDataPoints[0].length===0&&(h.style.opacity=0);else h&&u.globals.series.length>1&&(h.style.opacity=0)}}]),Y}(),we=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var i=this.w;this.graphics=new R(this.ctx),this.lineColorArr=i.globals.stroke.colors!==void 0?i.globals.stroke.colors:i.globals.colors,this.defaultSize=i.globals.svgHeight<i.globals.svgWidth?i.globals.gridHeight+1.5*i.globals.goldenPadding:i.globals.gridWidth,this.isLog=i.config.yaxis[0].logarithmic,this.coreUtils=new G(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(i.globals.maxY,0):i.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):i.globals.minY,this.polygons=i.config.plotOptions.radar.polygons,this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-i.config.chart.dropShadow.blur,i.config.xaxis.labels.show&&(this.size=this.size-i.globals.xAxisLabelsWidth/1.75),i.config.plotOptions.radar.size!==void 0&&(this.size=i.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return p(Y,[{key:"draw",value:function(n){var i=this,s=this.w,l=new ae(this.ctx),u=[],h=new pe(this.ctx);n.length&&(this.dataPointsLen=n[s.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var f=s.globals.gridWidth/2,g=s.globals.gridHeight/2,v=f+s.config.plotOptions.radar.offsetX,S=g+s.config.plotOptions.radar.offsetY,C=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(v||0,", ").concat(S||0,")")}),O=[],L=null,_=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),n.forEach(function(H,$){var J=H.length===s.globals.dataPoints,y=i.graphics.group().attr({class:"apexcharts-series","data:longestSeries":J,seriesName:E.escapeString(s.globals.seriesNames[$]),rel:$+1,"data:realIndex":$});i.dataRadiusOfPercent[$]=[],i.dataRadius[$]=[],i.angleArr[$]=[],H.forEach(function(Te,Ne){var Ge=Math.abs(i.maxValue-i.minValue);Te+=Math.abs(i.minValue),i.isLog&&(Te=i.coreUtils.getLogVal(Te,0)),i.dataRadiusOfPercent[$][Ne]=Te/Ge,i.dataRadius[$][Ne]=i.dataRadiusOfPercent[$][Ne]*i.size,i.angleArr[$][Ne]=Ne*i.disAngle}),O=i.getDataPointsPos(i.dataRadius[$],i.angleArr[$]);var M=i.createPaths(O,{x:0,y:0});L=i.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),_=i.graphics.group({class:"apexcharts-datalabels","data:realIndex":$}),s.globals.delayedElements.push({el:L.node,index:$});var z={i:$,realIndex:$,animationDelay:$,initialSpeed:s.config.chart.animations.speed,dataChangeSpeed:s.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:s.globals.stroke.colors[$],strokeLineCap:s.config.stroke.lineCap},V=null;s.globals.previousPaths.length>0&&(V=i.getPreviousPath($));for(var Q=0;Q<M.linePathsTo.length;Q++){var ee=i.graphics.renderPaths(r(r({},z),{},{pathFrom:V===null?M.linePathsFrom[Q]:V,pathTo:M.linePathsTo[Q],strokeWidth:Array.isArray(i.strokeWidth)?i.strokeWidth[$]:i.strokeWidth,fill:"none",drawShadow:!1}));y.add(ee);var ue=l.fillPath({seriesNumber:$}),he=i.graphics.renderPaths(r(r({},z),{},{pathFrom:V===null?M.areaPathsFrom[Q]:V,pathTo:M.areaPathsTo[Q],strokeWidth:0,fill:ue,drawShadow:!1}));if(s.config.chart.dropShadow.enabled){var ke=new D(i.ctx),Ce=s.config.chart.dropShadow;ke.dropShadow(he,Object.assign({},Ce,{noUserSpaceOnUse:!0}),$)}y.add(he)}H.forEach(function(Te,Ne){var Ge=new le(i.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:$,dataPointIndex:Ne}),nt=i.graphics.drawMarker(O[Ne].x,O[Ne].y,Ge);nt.attr("rel",Ne),nt.attr("j",Ne),nt.attr("index",$),nt.node.setAttribute("default-marker-size",Ge.pSize);var rt=i.graphics.group({class:"apexcharts-series-markers"});rt&&rt.add(nt),L.add(rt),y.add(L);var st=s.config.dataLabels;if(st.enabled){var St=st.formatter(s.globals.series[$][Ne],{seriesIndex:$,dataPointIndex:Ne,w:s});h.plotDataLabelsText({x:O[Ne].x,y:O[Ne].y,text:St,textAnchor:"middle",i:$,j:$,parent:_,offsetCorrection:!1,dataLabelsConfig:r({},st)})}y.add(_)}),u.push(y)}),this.drawPolygons({parent:C}),s.config.xaxis.labels.show){var B=this.drawXAxisTexts();C.add(B)}return u.forEach(function(H){C.add(H)}),C.add(this.yaxisLabels),C}},{key:"drawPolygons",value:function(n){for(var i=this,s=this.w,l=n.parent,u=new se(this.ctx),h=s.globals.yAxisScale[0].result.reverse(),f=h.length,g=[],v=this.size/(f-1),S=0;S<f;S++)g[S]=v*S;g.reverse();var C=[],O=[];g.forEach(function(L,_){var B=E.getPolygonPos(L,i.dataPointsLen),H="";B.forEach(function($,J){if(_===0){var y=i.graphics.drawLine($.x,$.y,0,0,Array.isArray(i.polygons.connectorColors)?i.polygons.connectorColors[J]:i.polygons.connectorColors);O.push(y)}J===0&&i.yaxisLabelsTextsPos.push({x:$.x,y:$.y}),H+=$.x+","+$.y+" "}),C.push(H)}),C.forEach(function(L,_){var B=i.polygons.strokeColors,H=i.polygons.strokeWidth,$=i.graphics.drawPolygon(L,Array.isArray(B)?B[_]:B,Array.isArray(H)?H[_]:H,s.globals.radarPolygons.fill.colors[_]);l.add($)}),O.forEach(function(L){l.add(L)}),s.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(L,_){var B=u.drawYAxisTexts(L.x,L.y,_,h[_]);i.yaxisLabels.add(B)})}},{key:"drawXAxisTexts",value:function(){var n=this,i=this.w,s=i.config.xaxis.labels,l=this.graphics.group({class:"apexcharts-xaxis"}),u=E.getPolygonPos(this.size,this.dataPointsLen);return i.globals.labels.forEach(function(h,f){var g=i.config.xaxis.labels.formatter,v=new pe(n.ctx);if(u[f]){var S=n.getTextPos(u[f],n.size),C=g(h,{seriesIndex:-1,dataPointIndex:f,w:i});v.plotDataLabelsText({x:S.newX,y:S.newY,text:C,textAnchor:S.textAnchor,i:f,j:f,parent:l,color:Array.isArray(s.style.colors)&&s.style.colors[f]?s.style.colors[f]:"#a8a8a8",dataLabelsConfig:r({textAnchor:S.textAnchor,dropShadow:{enabled:!1}},s),offsetCorrection:!1})}}),l}},{key:"createPaths",value:function(n,i){var s=this,l=[],u=[],h=[],f=[];if(n.length){u=[this.graphics.move(i.x,i.y)],f=[this.graphics.move(i.x,i.y)];var g=this.graphics.move(n[0].x,n[0].y),v=this.graphics.move(n[0].x,n[0].y);n.forEach(function(S,C){g+=s.graphics.line(S.x,S.y),v+=s.graphics.line(S.x,S.y),C===n.length-1&&(g+="Z",v+="Z")}),l.push(g),h.push(v)}return{linePathsFrom:u,linePathsTo:l,areaPathsFrom:f,areaPathsTo:h}}},{key:"getTextPos",value:function(n,i){var s="middle",l=n.x,u=n.y;return Math.abs(n.x)>=10?n.x>0?(s="start",l+=10):n.x<0&&(s="end",l-=10):s="middle",Math.abs(n.y)>=i-10&&(n.y<0?u-=10:n.y>0&&(u+=10)),{textAnchor:s,newX:l,newY:u}}},{key:"getPreviousPath",value:function(n){for(var i=this.w,s=null,l=0;l<i.globals.previousPaths.length;l++){var u=i.globals.previousPaths[l];u.paths.length>0&&parseInt(u.realIndex,10)===parseInt(n,10)&&i.globals.previousPaths[l].paths[0]!==void 0&&(s=i.globals.previousPaths[l].paths[0].d)}return s}},{key:"getDataPointsPos",value:function(n,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;n=n||[],i=i||[];for(var l=[],u=0;u<s;u++){var h={};h.x=n[u]*Math.sin(i[u]),h.y=-n[u]*Math.cos(i[u]),l.push(h)}return l}}]),Y}(),De=function(Y){b(i,ge);var n=A(i);function i(s){var l;c(this,i),(l=n.call(this,s)).ctx=s,l.w=s.w,l.animBeginArr=[0],l.animDur=0;var u=l.w;return l.startAngle=u.config.plotOptions.radialBar.startAngle,l.endAngle=u.config.plotOptions.radialBar.endAngle,l.totalAngle=Math.abs(u.config.plotOptions.radialBar.endAngle-u.config.plotOptions.radialBar.startAngle),l.trackStartAngle=u.config.plotOptions.radialBar.track.startAngle,l.trackEndAngle=u.config.plotOptions.radialBar.track.endAngle,l.donutDataLabels=l.w.config.plotOptions.radialBar.dataLabels,l.radialDataLabels=l.donutDataLabels,l.trackStartAngle||(l.trackStartAngle=l.startAngle),l.trackEndAngle||(l.trackEndAngle=l.endAngle),l.endAngle===360&&(l.endAngle=359.99),l.margin=parseInt(u.config.plotOptions.radialBar.track.margin,10),l}return p(i,[{key:"draw",value:function(s){var l=this.w,u=new R(this.ctx),h=u.group({class:"apexcharts-radialbar"});if(l.globals.noData)return h;var f=u.group(),g=this.defaultSize/2,v=l.globals.gridWidth/2,S=this.defaultSize/2.05;l.config.chart.sparkline.enabled||(S=S-l.config.stroke.width-l.config.chart.dropShadow.blur);var C=l.globals.fill.colors;if(l.config.plotOptions.radialBar.track.show){var O=this.drawTracks({size:S,centerX:v,centerY:g,colorArr:C,series:s});f.add(O)}var L=this.drawArcs({size:S,centerX:v,centerY:g,colorArr:C,series:s}),_=360;l.config.plotOptions.radialBar.startAngle<0&&(_=this.totalAngle);var B=(360-_)/360;if(l.globals.radialSize=S-S*B,this.radialDataLabels.value.show){var H=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);l.globals.radialSize+=H*B}return f.add(L.g),l.config.plotOptions.radialBar.hollow.position==="front"&&(L.g.add(L.elHollow),L.dataLabels&&L.g.add(L.dataLabels)),h.add(f),h}},{key:"drawTracks",value:function(s){var l=this.w,u=new R(this.ctx),h=u.group({class:"apexcharts-tracks"}),f=new D(this.ctx),g=new ae(this.ctx),v=this.getStrokeWidth(s);s.size=s.size-v/2;for(var S=0;S<s.series.length;S++){var C=u.group({class:"apexcharts-radialbar-track apexcharts-track"});h.add(C),C.attr({rel:S+1}),s.size=s.size-v-this.margin;var O=l.config.plotOptions.radialBar.track,L=g.fillPath({seriesNumber:0,size:s.size,fillColors:Array.isArray(O.background)?O.background[S]:O.background,solid:!0}),_=this.trackStartAngle,B=this.trackEndAngle;Math.abs(B)+Math.abs(_)>=360&&(B=360-Math.abs(this.startAngle)-.1);var H=u.drawPath({d:"",stroke:L,strokeWidth:v*parseInt(O.strokeWidth,10)/100,fill:"none",strokeOpacity:O.opacity,classes:"apexcharts-radialbar-area"});if(O.dropShadow.enabled){var $=O.dropShadow;f.dropShadow(H,$)}C.add(H),H.attr("id","apexcharts-radialbarTrack-"+S),this.animatePaths(H,{centerX:s.centerX,centerY:s.centerY,endAngle:B,startAngle:_,size:s.size,i:S,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:l.globals.easing})}return h}},{key:"drawArcs",value:function(s){var l=this.w,u=new R(this.ctx),h=new ae(this.ctx),f=new D(this.ctx),g=u.group(),v=this.getStrokeWidth(s);s.size=s.size-v/2;var S=l.config.plotOptions.radialBar.hollow.background,C=s.size-v*s.series.length-this.margin*s.series.length-v*parseInt(l.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,O=C-l.config.plotOptions.radialBar.hollow.margin;l.config.plotOptions.radialBar.hollow.image!==void 0&&(S=this.drawHollowImage(s,g,C,S));var L=this.drawHollow({size:O,centerX:s.centerX,centerY:s.centerY,fill:S||"transparent"});if(l.config.plotOptions.radialBar.hollow.dropShadow.enabled){var _=l.config.plotOptions.radialBar.hollow.dropShadow;f.dropShadow(L,_)}var B=1;!this.radialDataLabels.total.show&&l.globals.series.length>1&&(B=0);var H=null;this.radialDataLabels.show&&(H=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:C,centerX:s.centerX,centerY:s.centerY,opacity:B})),l.config.plotOptions.radialBar.hollow.position==="back"&&(g.add(L),H&&g.add(H));var $=!1;l.config.plotOptions.radialBar.inverseOrder&&($=!0);for(var J=$?s.series.length-1:0;$?J>=0:J<s.series.length;$?J--:J++){var y=u.group({class:"apexcharts-series apexcharts-radial-series",seriesName:E.escapeString(l.globals.seriesNames[J])});g.add(y),y.attr({rel:J+1,"data:realIndex":J}),this.ctx.series.addCollapsedClassToSeries(y,J),s.size=s.size-v-this.margin;var M=h.fillPath({seriesNumber:J,size:s.size,value:s.series[J]}),z=this.startAngle,V=void 0,Q=E.negToZero(s.series[J]>100?100:s.series[J])/100,ee=Math.round(this.totalAngle*Q)+this.startAngle,ue=void 0;l.globals.dataChanged&&(V=this.startAngle,ue=Math.round(this.totalAngle*E.negToZero(l.globals.previousPaths[J])/100)+V),Math.abs(ee)+Math.abs(z)>=360&&(ee-=.01),Math.abs(ue)+Math.abs(V)>=360&&(ue-=.01);var he=ee-z,ke=Array.isArray(l.config.stroke.dashArray)?l.config.stroke.dashArray[J]:l.config.stroke.dashArray,Ce=u.drawPath({d:"",stroke:M,strokeWidth:v,fill:"none",fillOpacity:l.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+J,strokeDashArray:ke});if(R.setAttrs(Ce.node,{"data:angle":he,"data:value":s.series[J]}),l.config.chart.dropShadow.enabled){var Te=l.config.chart.dropShadow;f.dropShadow(Ce,Te,J)}f.setSelectionFilter(Ce,0,J),this.addListeners(Ce,this.radialDataLabels),y.add(Ce),Ce.attr({index:0,j:J});var Ne=0;!this.initialAnim||l.globals.resized||l.globals.dataChanged||(Ne=l.config.chart.animations.speed),l.globals.dataChanged&&(Ne=l.config.chart.animations.dynamicAnimation.speed),this.animDur=Ne/(1.2*s.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Ce,{centerX:s.centerX,centerY:s.centerY,endAngle:ee,startAngle:z,prevEndAngle:ue,prevStartAngle:V,size:s.size,i:J,totalItems:2,animBeginArr:this.animBeginArr,dur:Ne,shouldSetPrevPaths:!0,easing:l.globals.easing})}return{g,elHollow:L,dataLabels:H}}},{key:"drawHollow",value:function(s){var l=new R(this.ctx).drawCircle(2*s.size);return l.attr({class:"apexcharts-radialbar-hollow",cx:s.centerX,cy:s.centerY,r:s.size,fill:s.fill}),l}},{key:"drawHollowImage",value:function(s,l,u,h){var f=this.w,g=new ae(this.ctx),v=E.randomId(),S=f.config.plotOptions.radialBar.hollow.image;if(f.config.plotOptions.radialBar.hollow.imageClipped)g.clippedImgArea({width:u,height:u,image:S,patternID:"pattern".concat(f.globals.cuid).concat(v)}),h="url(#pattern".concat(f.globals.cuid).concat(v,")");else{var C=f.config.plotOptions.radialBar.hollow.imageWidth,O=f.config.plotOptions.radialBar.hollow.imageHeight;if(C===void 0&&O===void 0){var L=f.globals.dom.Paper.image(S).loaded(function(B){this.move(s.centerX-B.width/2+f.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-B.height/2+f.config.plotOptions.radialBar.hollow.imageOffsetY)});l.add(L)}else{var _=f.globals.dom.Paper.image(S).loaded(function(B){this.move(s.centerX-C/2+f.config.plotOptions.radialBar.hollow.imageOffsetX,s.centerY-O/2+f.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(C,O)});l.add(_)}}return h}},{key:"getStrokeWidth",value:function(s){var l=this.w;return s.size*(100-parseInt(l.config.plotOptions.radialBar.hollow.size,10))/100/(s.series.length+1)-this.margin}}]),i}(),_e=function(Y){b(i,gn);var n=A(i);function i(){return c(this,i),n.apply(this,arguments)}return p(i,[{key:"draw",value:function(s,l){var u=this.w,h=new R(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=s,this.seriesRangeStart=u.globals.seriesRangeStart,this.seriesRangeEnd=u.globals.seriesRangeEnd,this.barHelpers.initVariables(s);for(var f=h.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),g=0;g<s.length;g++){var v,S,C,O=void 0,L=void 0,_=void 0,B=u.globals.comboCharts?l[g]:g,H=h.group({class:"apexcharts-series",seriesName:E.escapeString(u.globals.seriesNames[B]),rel:g+1,"data:realIndex":B});this.ctx.series.addCollapsedClassToSeries(H,B),s[g].length>0&&(this.visibleI=this.visibleI+1);var $=0,J=0;this.yRatio.length>1&&(this.yaxisIndex=B);var y=this.barHelpers.initialPositions();L=y.y,C=y.zeroW,O=y.x,J=y.barWidth,v=y.xDivision,S=y.zeroH;for(var M=h.group({class:"apexcharts-datalabels","data:realIndex":B}),z=h.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),V=0;V<u.globals.dataPoints;V++){var Q=this.barHelpers.getStrokeWidth(g,V,B),ee=this.seriesRangeStart[g][V],ue=this.seriesRangeEnd[g][V],he=null,ke=null,Ce={x:O,y:L,strokeWidth:Q,elSeries:H};if(_=y.yDivision,$=y.barHeight,this.isHorizontal){ke=L+$*this.visibleI;var Te=this.seriesLen;u.config.plotOptions.bar.rangeBarGroupRows&&(Te=1);var Ne=(_-$*Te)/2;if(u.config.series[g].data[V]===void 0)break;if(u.config.series[g].data[V].x){var Ge=this.detectOverlappingBars({i:g,j:V,barYPosition:ke,srty:Ne,barHeight:$,yDivision:_,initPositions:y});$=Ge.barHeight,ke=Ge.barYPosition}J=(he=this.drawRangeBarPaths(r({indexes:{i:g,j:V,realIndex:B},barHeight:$,barYPosition:ke,zeroW:C,yDivision:_,y1:ee,y2:ue},Ce))).barWidth}else $=(he=this.drawRangeColumnPaths(r({indexes:{i:g,j:V,realIndex:B},zeroH:S,barWidth:J,xDivision:v},Ce))).barHeight;var nt=this.barHelpers.drawGoalLine({barXPosition:he.barXPosition,barYPosition:ke,goalX:he.goalX,goalY:he.goalY,barHeight:$,barWidth:J});nt&&z.add(nt),L=he.y,O=he.x;var rt=this.barHelpers.getPathFillColor(s,g,V,B),st=u.globals.stroke.colors[B];this.renderSeries({realIndex:B,pathFill:rt,lineFill:st,j:V,i:g,x:O,y:L,y1:ee,y2:ue,pathFrom:he.pathFrom,pathTo:he.pathTo,strokeWidth:Q,elSeries:H,series:s,barHeight:$,barYPosition:ke,barWidth:J,elDataLabelsWrap:M,elGoalsMarkers:z,visibleSeries:this.visibleI,type:"rangebar"})}f.add(H)}return f}},{key:"detectOverlappingBars",value:function(s){var l=s.i,u=s.j,h=s.barYPosition,f=s.srty,g=s.barHeight,v=s.yDivision,S=s.initPositions,C=this.w,O=[],L=C.config.series[l].data[u].rangeName,_=C.config.series[l].data[u].x,B=C.globals.labels.indexOf(_),H=C.globals.seriesRange[l].findIndex(function($){return $.x===_&&$.overlaps.length>0});return h=C.config.plotOptions.bar.rangeBarGroupRows?f+v*B:f+g*this.visibleI+v*B,H>-1&&!C.config.plotOptions.bar.rangeBarOverlap&&(O=C.globals.seriesRange[l][H].overlaps).indexOf(L)>-1&&(h=(g=S.barHeight/O.length)*this.visibleI+v*(100-parseInt(this.barOptions.barHeight,10))/100/2+g*(this.visibleI+O.indexOf(L))+v*B),{barYPosition:h,barHeight:g}}},{key:"drawRangeColumnPaths",value:function(s){var l=s.indexes,u=s.x;s.strokeWidth;var h=s.xDivision,f=s.barWidth,g=s.zeroH,v=this.w,S=l.i,C=l.j,O=this.yRatio[this.yaxisIndex],L=l.realIndex,_=this.getRangeValue(L,C),B=Math.min(_.start,_.end),H=Math.max(_.start,_.end);v.globals.isXNumeric&&(u=(v.globals.seriesX[S][C]-v.globals.minX)/this.xRatio-f/2);var $=u+f*this.visibleI;this.series[S][C]===void 0||this.series[S][C]===null?B=g:(B=g-B/O,H=g-H/O);var J=Math.abs(H-B),y=this.barHelpers.getColumnPaths({barXPosition:$,barWidth:f,y1:B,y2:H,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:l.realIndex,i:L,j:C,w:v});return v.globals.isXNumeric||(u+=h),{pathTo:y.pathTo,pathFrom:y.pathFrom,barHeight:J,x:u,y:H,goalY:this.barHelpers.getGoalValues("y",null,g,S,C),barXPosition:$}}},{key:"drawRangeBarPaths",value:function(s){var l=s.indexes,u=s.y,h=s.y1,f=s.y2,g=s.yDivision,v=s.barHeight,S=s.barYPosition,C=s.zeroW,O=this.w,L=C+h/this.invertedYRatio,_=C+f/this.invertedYRatio,B=Math.abs(_-L),H=this.barHelpers.getBarpaths({barYPosition:S,barHeight:v,x1:L,x2:_,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:l.realIndex,realIndex:l.realIndex,j:l.j,w:O});return O.globals.isXNumeric||(u+=g),{pathTo:H.pathTo,pathFrom:H.pathFrom,barWidth:B,x:_,goalX:this.barHelpers.getGoalValues("x",C,null,l.realIndex,l.j),y:u}}},{key:"getRangeValue",value:function(s,l){var u=this.w;return{start:u.globals.seriesRangeStart[s][l],end:u.globals.seriesRangeEnd[s][l]}}}]),i}(),Je=function(){function Y(n){c(this,Y),this.w=n.w,this.lineCtx=n}return p(Y,[{key:"sameValueSeriesFix",value:function(n,i){var s=this.w;if((s.config.fill.type==="gradient"||s.config.fill.type[n]==="gradient")&&new G(this.lineCtx.ctx,s).seriesHaveSameValues(n)){var l=i[n].slice();l[l.length-1]=l[l.length-1]+1e-6,i[n]=l}return i}},{key:"calculatePoints",value:function(n){var i=n.series,s=n.realIndex,l=n.x,u=n.y,h=n.i,f=n.j,g=n.prevY,v=this.w,S=[],C=[];if(f===0){var O=this.lineCtx.categoryAxisCorrection+v.config.markers.offsetX;v.globals.isXNumeric&&(O=(v.globals.seriesX[s][0]-v.globals.minX)/this.lineCtx.xRatio+v.config.markers.offsetX),S.push(O),C.push(E.isNumber(i[h][0])?g+v.config.markers.offsetY:null),S.push(l+v.config.markers.offsetX),C.push(E.isNumber(i[h][f+1])?u+v.config.markers.offsetY:null)}else S.push(l+v.config.markers.offsetX),C.push(E.isNumber(i[h][f+1])?u+v.config.markers.offsetY:null);return{x:S,y:C}}},{key:"checkPreviousPaths",value:function(n){for(var i=n.pathFromLine,s=n.pathFromArea,l=n.realIndex,u=this.w,h=0;h<u.globals.previousPaths.length;h++){var f=u.globals.previousPaths[h];(f.type==="line"||f.type==="area")&&f.paths.length>0&&parseInt(f.realIndex,10)===parseInt(l,10)&&(f.type==="line"?(this.lineCtx.appendPathFrom=!1,i=u.globals.previousPaths[h].paths[0].d):f.type==="area"&&(this.lineCtx.appendPathFrom=!1,s=u.globals.previousPaths[h].paths[0].d,u.config.stroke.show&&u.globals.previousPaths[h].paths[1]&&(i=u.globals.previousPaths[h].paths[1].d)))}return{pathFromLine:i,pathFromArea:s}}},{key:"determineFirstPrevY",value:function(n){var i,s=n.i,l=n.series,u=n.prevY,h=n.lineYPosition,f=this.w;if(((i=l[s])===null||i===void 0?void 0:i[0])!==void 0)u=(h=f.config.chart.stacked&&s>0?this.lineCtx.prevSeriesY[s-1][0]:this.lineCtx.zeroY)-l[s][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?l[s][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(f.config.chart.stacked&&s>0&&l[s][0]===void 0){for(var g=s-1;g>=0;g--)if(l[g][0]!==null&&l[g][0]!==void 0){u=h=this.lineCtx.prevSeriesY[g][0];break}}return{prevY:u,lineYPosition:h}}}]),Y}(),He=function(){function Y(n,i,s){c(this,Y),this.ctx=n,this.w=n.w,this.xyRatios=i,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||s,this.scatter=new ve(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Je(this),this.markers=new le(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return p(Y,[{key:"draw",value:function(n,i,s,l){var u=this.w,h=new R(this.ctx),f=u.globals.comboCharts?i:u.config.chart.type,g=h.group({class:"apexcharts-".concat(f,"-series apexcharts-plot-series")}),v=new G(this.ctx,u);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,n=v.getLogSeries(n),this.yRatio=v.getLogYRatios(this.yRatio);for(var S=[],C=0;C<n.length;C++){n=this.lineHelpers.sameValueSeriesFix(C,n);var O=u.globals.comboCharts?s[C]:C;this._initSerieVariables(n,C,O);var L=[],_=[],B=u.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,O),u.globals.isXNumeric&&u.globals.seriesX.length>0&&(B=(u.globals.seriesX[O][0]-u.globals.minX)/this.xRatio),_.push(B);var H,$=B,J=void 0,y=$,M=this.zeroY,z=this.zeroY;M=this.lineHelpers.determineFirstPrevY({i:C,series:n,prevY:M,lineYPosition:0}).prevY,L.push(M),H=M,f==="rangeArea"&&(J=z=this.lineHelpers.determineFirstPrevY({i:C,series:l,prevY:z,lineYPosition:0}).prevY);var V={type:f,series:n,realIndex:O,i:C,x:B,y:1,pX:$,pY:H,pathsFrom:this._calculatePathsFrom({type:f,series:n,i:C,realIndex:O,prevX:y,prevY:M,prevY2:z}),linePaths:[],areaPaths:[],seriesIndex:s,lineYPosition:0,xArrj:_,yArrj:L,seriesRangeEnd:l},Q=this._iterateOverDataPoints(r(r({},V),{},{iterations:f==="rangeArea"?n[C].length-1:void 0,isRangeStart:!0}));if(f==="rangeArea"){var ee=this._calculatePathsFrom({series:l,i:C,realIndex:O,prevX:y,prevY:z}),ue=this._iterateOverDataPoints(r(r({},V),{},{series:l,pY:J,pathsFrom:ee,iterations:l[C].length-1,isRangeStart:!1}));Q.linePaths[0]=ue.linePath+Q.linePath,Q.pathFromLine=ue.pathFromLine+Q.pathFromLine}this._handlePaths({type:f,realIndex:O,i:C,paths:Q}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),S.push(this.elSeries)}if(u.config.chart.stacked)for(var he=S.length;he>0;he--)g.add(S[he-1]);else for(var ke=0;ke<S.length;ke++)g.add(S[ke]);return g}},{key:"_initSerieVariables",value:function(n,i,s){var l=this.w,u=new R(this.ctx);this.xDivision=l.globals.gridWidth/(l.globals.dataPoints-(l.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(l.config.stroke.width)?l.config.stroke.width[s]:l.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=s),this.isReversed=l.config.yaxis[this.yaxisIndex]&&l.config.yaxis[this.yaxisIndex].reversed,this.zeroY=l.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?l.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>l.globals.gridHeight||l.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=l.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=u.group({class:"apexcharts-series",seriesName:E.escapeString(l.globals.seriesNames[s])}),this.elPointsMain=u.group({class:"apexcharts-series-markers-wrap","data:realIndex":s}),this.elDataLabelsWrap=u.group({class:"apexcharts-datalabels","data:realIndex":s});var h=n[i].length===l.globals.dataPoints;this.elSeries.attr({"data:longestSeries":h,rel:i+1,"data:realIndex":s}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(n){var i,s,l,u,h=n.type,f=n.series,g=n.i,v=n.realIndex,S=n.prevX,C=n.prevY,O=n.prevY2,L=this.w,_=new R(this.ctx);if(f[g][0]===null){for(var B=0;B<f[g].length;B++)if(f[g][B]!==null){S=this.xDivision*B,C=this.zeroY-f[g][B]/this.yRatio[this.yaxisIndex],i=_.move(S,C),s=_.move(S,this.areaBottomY);break}}else i=_.move(S,C),h==="rangeArea"&&(i=_.move(S,O)+_.line(S,C)),s=_.move(S,this.areaBottomY)+_.line(S,C);if(l=_.move(-1,this.zeroY)+_.line(-1,this.zeroY),u=_.move(-1,this.zeroY)+_.line(-1,this.zeroY),L.globals.previousPaths.length>0){var H=this.lineHelpers.checkPreviousPaths({pathFromLine:l,pathFromArea:u,realIndex:v});l=H.pathFromLine,u=H.pathFromArea}return{prevX:S,prevY:C,linePath:i,areaPath:s,pathFromLine:l,pathFromArea:u}}},{key:"_handlePaths",value:function(n){var i=n.type,s=n.realIndex,l=n.i,u=n.paths,h=this.w,f=new R(this.ctx),g=new ae(this.ctx);this.prevSeriesY.push(u.yArrj),h.globals.seriesXvalues[s]=u.xArrj,h.globals.seriesYvalues[s]=u.yArrj;var v=h.config.forecastDataPoints;if(v.count>0&&i!=="rangeArea"){var S=h.globals.seriesXvalues[s][h.globals.seriesXvalues[s].length-v.count-1],C=f.drawRect(S,0,h.globals.gridWidth,h.globals.gridHeight,0);h.globals.dom.elForecastMask.appendChild(C.node);var O=f.drawRect(0,0,S,h.globals.gridHeight,0);h.globals.dom.elNonForecastMask.appendChild(O.node)}this.pointsChart||h.globals.delayedElements.push({el:this.elPointsMain.node,index:s});var L={i:l,realIndex:s,animationDelay:l,initialSpeed:h.config.chart.animations.speed,dataChangeSpeed:h.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(i)};if(i==="area")for(var _=g.fillPath({seriesNumber:s}),B=0;B<u.areaPaths.length;B++){var H=f.renderPaths(r(r({},L),{},{pathFrom:u.pathFromArea,pathTo:u.areaPaths[B],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:_}));this.elSeries.add(H)}if(h.config.stroke.show&&!this.pointsChart){var $=null;if(i==="line")$=g.fillPath({seriesNumber:s,i:l});else if(h.config.stroke.fill.type==="solid")$=h.globals.stroke.colors[s];else{var J=h.config.fill;h.config.fill=h.config.stroke.fill,$=g.fillPath({seriesNumber:s,i:l}),h.config.fill=J}for(var y=0;y<u.linePaths.length;y++){var M=$;i==="rangeArea"&&(M=g.fillPath({seriesNumber:s}));var z=r(r({},L),{},{pathFrom:u.pathFromLine,pathTo:u.linePaths[y],stroke:$,strokeWidth:this.strokeWidth,strokeLineCap:h.config.stroke.lineCap,fill:i==="rangeArea"?M:"none"}),V=f.renderPaths(z);if(this.elSeries.add(V),V.attr("fill-rule","evenodd"),v.count>0&&i!=="rangeArea"){var Q=f.renderPaths(z);Q.node.setAttribute("stroke-dasharray",v.dashArray),v.strokeWidth&&Q.node.setAttribute("stroke-width",v.strokeWidth),this.elSeries.add(Q),Q.attr("clip-path","url(#forecastMask".concat(h.globals.cuid,")")),V.attr("clip-path","url(#nonForecastMask".concat(h.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(n){var i=n.type,s=n.series,l=n.iterations,u=n.realIndex,h=n.i,f=n.x,g=n.y,v=n.pX,S=n.pY,C=n.pathsFrom,O=n.linePaths,L=n.areaPaths,_=n.seriesIndex,B=n.lineYPosition,H=n.xArrj,$=n.yArrj,J=n.isRangeStart,y=n.seriesRangeEnd,M=this.w,z=new R(this.ctx),V=this.yRatio,Q=C.prevY,ee=C.linePath,ue=C.areaPath,he=C.pathFromLine,ke=C.pathFromArea,Ce=E.isNumber(M.globals.minYArr[u])?M.globals.minYArr[u]:M.globals.minY;l||(l=M.globals.dataPoints>1?M.globals.dataPoints-1:M.globals.dataPoints);for(var Te=g,Ne=0;Ne<l;Ne++){var Ge=s[h][Ne+1]===void 0||s[h][Ne+1]===null;if(M.globals.isXNumeric){var nt=M.globals.seriesX[u][Ne+1];M.globals.seriesX[u][Ne+1]===void 0&&(nt=M.globals.seriesX[u][l-1]),f=(nt-M.globals.minX)/this.xRatio}else f+=this.xDivision;M.config.chart.stacked?h>0&&M.globals.collapsedSeries.length<M.config.series.length-1?B=this.prevSeriesY[function(St){for(var yt=St,Tt=0;Tt<M.globals.series.length;Tt++)if(M.globals.collapsedSeriesIndices.indexOf(St)>-1){yt--;break}return yt>=0?yt:0}(h-1)][Ne+1]:B=this.zeroY:B=this.zeroY,Ge?g=B-Ce/V[this.yaxisIndex]+2*(this.isReversed?Ce/V[this.yaxisIndex]:0):(g=B-s[h][Ne+1]/V[this.yaxisIndex]+2*(this.isReversed?s[h][Ne+1]/V[this.yaxisIndex]:0),i==="rangeArea"&&(Te=B-y[h][Ne+1]/V[this.yaxisIndex]+2*(this.isReversed?y[h][Ne+1]/V[this.yaxisIndex]:0))),H.push(f),$.push(g);var rt=this.lineHelpers.calculatePoints({series:s,x:f,y:g,realIndex:u,i:h,j:Ne,prevY:Q}),st=this._createPaths({type:i,series:s,i:h,realIndex:u,j:Ne,x:f,y:g,y2:Te,pX:v,pY:S,linePath:ee,areaPath:ue,linePaths:O,areaPaths:L,seriesIndex:_,isRangeStart:J});L=st.areaPaths,O=st.linePaths,v=st.pX,S=st.pY,ue=st.areaPath,ee=st.linePath,this.appendPathFrom&&(he+=z.line(f,this.zeroY),ke+=z.line(f,this.zeroY)),this.handleNullDataPoints(s,rt,h,Ne,u),this._handleMarkersAndLabels({type:i,pointsPos:rt,i:h,j:Ne,realIndex:u,isRangeStart:J})}return{yArrj:$,xArrj:H,pathFromArea:ke,areaPaths:L,pathFromLine:he,linePaths:O,linePath:ee,areaPath:ue}}},{key:"_handleMarkersAndLabels",value:function(n){var i=n.type,s=n.pointsPos,l=n.isRangeStart,u=n.i,h=n.j,f=n.realIndex,g=this.w,v=new pe(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,h,{realIndex:f,pointsPos:s,zRatio:this.zRatio,elParent:this.elPointsMain});else{g.globals.series[u].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var S=this.markers.plotChartMarkers(s,f,h+1);S!==null&&this.elPointsMain.add(S)}var C=v.drawDataLabel({type:i,isRangeStart:l,pos:s,i:f,j:h+1});C!==null&&this.elDataLabelsWrap.add(C)}},{key:"_createPaths",value:function(n){var i=n.type,s=n.series,l=n.i,u=n.realIndex,h=n.j,f=n.x,g=n.y,v=n.y2,S=n.pX,C=n.pY,O=n.linePath,L=n.areaPath,_=n.linePaths,B=n.areaPaths,H=n.seriesIndex,$=n.isRangeStart,J=this.w,y=new R(this.ctx),M=J.config.stroke.curve,z=this.areaBottomY;if(Array.isArray(J.config.stroke.curve)&&(M=Array.isArray(H)?J.config.stroke.curve[H[l]]:J.config.stroke.curve[l]),M==="smooth"){var V=.35*(f-S);J.globals.hasNullValues?(s[l][h]!==null&&(s[l][h+1]!==null?(O=y.move(S,C)+y.curve(S+V,C,f-V,g,f+1,g),L=y.move(S+1,C)+y.curve(S+V,C,f-V,g,f+1,g)+y.line(f,z)+y.line(S,z)+"z"):(O=y.move(S,C),L=y.move(S,C)+"z")),_.push(O),B.push(L)):(O+=y.curve(S+V,C,f-V,g,f,g),L+=y.curve(S+V,C,f-V,g,f,g)),S=f,C=g,h===s[l].length-2&&(L=L+y.curve(S,C,f,g,f,z)+y.move(f,g)+"z",i==="rangeArea"&&$?O=O+y.curve(S,C,f,g,f,v)+y.move(f,v)+"z":J.globals.hasNullValues||(_.push(O),B.push(L)))}else{if(s[l][h+1]===null){O+=y.move(f,g);var Q=J.globals.isXNumeric?(J.globals.seriesX[u][h]-J.globals.minX)/this.xRatio:f-this.xDivision;L=L+y.line(Q,z)+y.move(f,g)+"z"}s[l][h]===null&&(O+=y.move(f,g),L+=y.move(f,z)),M==="stepline"?(O=O+y.line(f,null,"H")+y.line(null,g,"V"),L=L+y.line(f,null,"H")+y.line(null,g,"V")):M==="straight"&&(O+=y.line(f,g),L+=y.line(f,g)),h===s[l].length-2&&(L=L+y.line(f,z)+y.move(f,g)+"z",i==="rangeArea"&&$?O=O+y.line(f,v)+y.move(f,v)+"z":(_.push(O),B.push(L)))}return{linePaths:_,areaPaths:B,pX:S,pY:C,linePath:O,areaPath:L}}},{key:"handleNullDataPoints",value:function(n,i,s,l,u){var h=this.w;if(n[s][l]===null&&h.config.markers.showNullDataPoints||n[s].length===1){var f=this.markers.plotChartMarkers(i,u,l+1,this.strokeWidth-h.config.markers.strokeWidth/2,!0);f!==null&&this.elPointsMain.add(f)}}}]),Y}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function Y(f,g,v,S){this.xoffset=f,this.yoffset=g,this.height=S,this.width=v,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(C){var O,L=[],_=this.xoffset,B=this.yoffset,H=u(C)/this.height,$=u(C)/this.width;if(this.width>=this.height)for(O=0;O<C.length;O++)L.push([_,B,_+H,B+C[O]/H]),B+=C[O]/H;else for(O=0;O<C.length;O++)L.push([_,B,_+C[O]/$,B+$]),_+=C[O]/$;return L},this.cutArea=function(C){var O;if(this.width>=this.height){var L=C/this.height,_=this.width-L;O=new Y(this.xoffset+L,this.yoffset,_,this.height)}else{var B=C/this.width,H=this.height-B;O=new Y(this.xoffset,this.yoffset+B,this.width,H)}return O}}function n(f,g,v,S,C){S=S===void 0?0:S,C=C===void 0?0:C;var O=i(function(L,_){var B,H=[],$=_/u(L);for(B=0;B<L.length;B++)H[B]=L[B]*$;return H}(f,g*v),[],new Y(S,C,g,v),[]);return function(L){var _,B,H=[];for(_=0;_<L.length;_++)for(B=0;B<L[_].length;B++)H.push(L[_][B]);return H}(O)}function i(f,g,v,S){var C,O,L;if(f.length!==0)return C=v.shortestEdge(),function(_,B,H){var $;if(_.length===0)return!0;($=_.slice()).push(B);var J=s(_,H),y=s($,H);return J>=y}(g,O=f[0],C)?(g.push(O),i(f.slice(1),g,v,S)):(L=v.cutArea(u(g),S),S.push(v.getCoordinates(g)),i(f,[],L,S)),S;S.push(v.getCoordinates(g))}function s(f,g){var v=Math.min.apply(Math,f),S=Math.max.apply(Math,f),C=u(f);return Math.max(Math.pow(g,2)*S/Math.pow(C,2),Math.pow(C,2)/(Math.pow(g,2)*v))}function l(f){return f&&f.constructor===Array}function u(f){var g,v=0;for(g=0;g<f.length;g++)v+=f[g];return v}function h(f){var g,v=0;if(l(f[0]))for(g=0;g<f.length;g++)v+=h(f[g]);else v=u(f);return v}return function f(g,v,S,C,O){C=C===void 0?0:C,O=O===void 0?0:O;var L,_,B=[],H=[];if(l(g[0])){for(_=0;_<g.length;_++)B[_]=h(g[_]);for(L=n(B,v,S,C,O),_=0;_<g.length;_++)H.push(f(g[_],L[_][2]-L[_][0],L[_][3]-L[_][1],L[_][0],L[_][1]))}else H=n(g,v,S,C,O);return H}}();var Ue,Be,je=function(){function Y(n,i){c(this,Y),this.ctx=n,this.w=n.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new xr(n),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return p(Y,[{key:"draw",value:function(n){var i=this,s=this.w,l=new R(this.ctx),u=new ae(this.ctx),h=l.group({class:"apexcharts-treemap"});if(s.globals.noData)return h;var f=[];return n.forEach(function(g){var v=g.map(function(S){return Math.abs(S)});f.push(v)}),this.negRange=this.helpers.checkColorRange(),s.config.series.forEach(function(g,v){g.data.forEach(function(S){Array.isArray(i.labels[v])||(i.labels[v]=[]),i.labels[v].push(S.x)})}),window.TreemapSquared.generate(f,s.globals.gridWidth,s.globals.gridHeight).forEach(function(g,v){var S=l.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:E.escapeString(s.globals.seriesNames[v]),rel:v+1,"data:realIndex":v});if(s.config.chart.dropShadow.enabled){var C=s.config.chart.dropShadow;new D(i.ctx).dropShadow(h,C,v)}var O=l.group({class:"apexcharts-data-labels"});g.forEach(function(L,_){var B=L[0],H=L[1],$=L[2],J=L[3],y=l.drawRect(B,H,$-B,J-H,0,"#fff",1,i.strokeWidth,s.config.plotOptions.treemap.useFillColorAsStroke?z:s.globals.stroke.colors[v]);y.attr({cx:B,cy:H,index:v,i:v,j:_,width:$-B,height:J-H});var M=i.helpers.getShadeColor(s.config.chart.type,v,_,i.negRange),z=M.color;s.config.series[v].data[_]!==void 0&&s.config.series[v].data[_].fillColor&&(z=s.config.series[v].data[_].fillColor);var V=u.fillPath({color:z,seriesNumber:v,dataPointIndex:_});y.node.classList.add("apexcharts-treemap-rect"),y.attr({fill:V}),i.helpers.addListeners(y);var Q={x:B+($-B)/2,y:H+(J-H)/2,width:0,height:0},ee={x:B,y:H,width:$-B,height:J-H};if(s.config.chart.animations.enabled&&!s.globals.dataChanged){var ue=1;s.globals.resized||(ue=s.config.chart.animations.speed),i.animateTreemap(y,Q,ee,ue)}if(s.globals.dataChanged){var he=1;i.dynamicAnim.enabled&&s.globals.shouldAnimate&&(he=i.dynamicAnim.speed,s.globals.previousPaths[v]&&s.globals.previousPaths[v][_]&&s.globals.previousPaths[v][_].rect&&(Q=s.globals.previousPaths[v][_].rect),i.animateTreemap(y,Q,ee,he))}var ke=i.getFontSize(L),Ce=s.config.dataLabels.formatter(i.labels[v][_],{value:s.globals.series[v][_],seriesIndex:v,dataPointIndex:_,w:s}),Te=i.helpers.calculateDataLabels({text:Ce,x:(B+$)/2,y:(H+J)/2+i.strokeWidth/2+ke/3,i:v,j:_,colorProps:M,fontSize:ke,series:n});s.config.dataLabels.enabled&&Te&&i.rotateToFitLabel(Te,ke,Ce,B,H,$,J),S.add(y),Te!==null&&S.add(Te)}),S.add(O),h.add(S)}),h}},{key:"getFontSize",value:function(n){var i=this.w,s,l,u,h,f=function g(v){var S,C=0;if(Array.isArray(v[0]))for(S=0;S<v.length;S++)C+=g(v[S]);else for(S=0;S<v.length;S++)C+=v[S].length;return C}(this.labels)/function g(v){var S,C=0;if(Array.isArray(v[0]))for(S=0;S<v.length;S++)C+=g(v[S]);else for(S=0;S<v.length;S++)C+=1;return C}(this.labels);return s=n[2]-n[0],l=n[3]-n[1],u=s*l,h=Math.pow(u,.5),Math.min(h/f,parseInt(i.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(n,i,s,l,u,h,f){var g=new R(this.ctx),v=g.getTextRects(s,i);if(v.width+this.w.config.stroke.width+5>h-l&&v.width<=f-u){var S=g.rotateAroundCenter(n.node);n.node.setAttribute("transform","rotate(-90 ".concat(S.x," ").concat(S.y,")"))}}},{key:"animateTreemap",value:function(n,i,s,l){var u=new F(this.ctx);u.animateRect(n,{x:i.x,y:i.y,width:i.width,height:i.height},{x:s.x,y:s.y,width:s.width,height:s.height},l,function(){u.animationCompleted(n)})}}]),Y}(),ct=86400,tn=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return p(Y,[{key:"calculateTimeScaleTicks",value:function(n,i){var s=this,l=this.w;if(l.globals.allSeriesCollapsed)return l.globals.labels=[],l.globals.timescaleLabels=[],[];var u=new ie(this.ctx),h=(i-n)/864e5;this.determineInterval(h),l.globals.disableZoomIn=!1,l.globals.disableZoomOut=!1,h<.00011574074074074075?l.globals.disableZoomIn=!0:h>5e4&&(l.globals.disableZoomOut=!0);var f=u.getTimeUnitsfromTimestamp(n,i,this.utc),g=l.globals.gridWidth/h,v=g/24,S=v/60,C=S/60,O=Math.floor(24*h),L=Math.floor(1440*h),_=Math.floor(h*ct),B=Math.floor(h),H=Math.floor(h/30),$=Math.floor(h/365),J={minMillisecond:f.minMillisecond,minSecond:f.minSecond,minMinute:f.minMinute,minHour:f.minHour,minDate:f.minDate,minMonth:f.minMonth,minYear:f.minYear},y={firstVal:J,currentMillisecond:J.minMillisecond,currentSecond:J.minSecond,currentMinute:J.minMinute,currentHour:J.minHour,currentMonthDate:J.minDate,currentDate:J.minDate,currentMonth:J.minMonth,currentYear:J.minYear,daysWidthOnXAxis:g,hoursWidthOnXAxis:v,minutesWidthOnXAxis:S,secondsWidthOnXAxis:C,numberOfSeconds:_,numberOfMinutes:L,numberOfHours:O,numberOfDays:B,numberOfMonths:H,numberOfYears:$};switch(this.tickInterval){case"years":this.generateYearScale(y);break;case"months":case"half_year":this.generateMonthScale(y);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(y);break;case"hours":this.generateHourScale(y);break;case"minutes_fives":case"minutes":this.generateMinuteScale(y);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(y)}var M=this.timeScaleArray.map(function(z){var V={position:z.position,unit:z.unit,year:z.year,day:z.day?z.day:1,hour:z.hour?z.hour:0,month:z.month+1};return z.unit==="month"?r(r({},V),{},{day:1,value:z.value+1}):z.unit==="day"||z.unit==="hour"?r(r({},V),{},{value:z.value}):z.unit==="minute"?r(r({},V),{},{value:z.value,minute:z.value}):z.unit==="second"?r(r({},V),{},{value:z.value,minute:z.minute,second:z.second}):z});return M.filter(function(z){var V=1,Q=Math.ceil(l.globals.gridWidth/120),ee=z.value;l.config.xaxis.tickAmount!==void 0&&(Q=l.config.xaxis.tickAmount),M.length>Q&&(V=Math.floor(M.length/Q));var ue=!1,he=!1;switch(s.tickInterval){case"years":z.unit==="year"&&(ue=!0);break;case"half_year":V=7,z.unit==="year"&&(ue=!0);break;case"months":V=1,z.unit==="year"&&(ue=!0);break;case"months_fortnight":V=15,z.unit!=="year"&&z.unit!=="month"||(ue=!0),ee===30&&(he=!0);break;case"months_days":V=10,z.unit==="month"&&(ue=!0),ee===30&&(he=!0);break;case"week_days":V=8,z.unit==="month"&&(ue=!0);break;case"days":V=1,z.unit==="month"&&(ue=!0);break;case"hours":z.unit==="day"&&(ue=!0);break;case"minutes_fives":case"seconds_fives":ee%5!=0&&(he=!0);break;case"seconds_tens":ee%10!=0&&(he=!0)}if(s.tickInterval==="hours"||s.tickInterval==="minutes_fives"||s.tickInterval==="seconds_tens"||s.tickInterval==="seconds_fives"){if(!he)return!0}else if((ee%V==0||ue)&&!he)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(n,i){var s=this.w,l=this.formatDates(n),u=this.removeOverlappingTS(l);s.globals.timescaleLabels=u.slice(),new bt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(n){var i=24*n,s=60*i;switch(!0){case n/365>5:this.tickInterval="years";break;case n>800:this.tickInterval="half_year";break;case n>180:this.tickInterval="months";break;case n>90:this.tickInterval="months_fortnight";break;case n>60:this.tickInterval="months_days";break;case n>30:this.tickInterval="week_days";break;case n>2:this.tickInterval="days";break;case i>2.4:this.tickInterval="hours";break;case s>15:this.tickInterval="minutes_fives";break;case s>5:this.tickInterval="minutes";break;case s>1:this.tickInterval="seconds_tens";break;case 60*s>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(n){var i=n.firstVal,s=n.currentMonth,l=n.currentYear,u=n.daysWidthOnXAxis,h=n.numberOfYears,f=i.minYear,g=0,v=new ie(this.ctx),S="year";if(i.minDate>1||i.minMonth>0){var C=v.determineRemainingDaysOfYear(i.minYear,i.minMonth,i.minDate);g=(v.determineDaysOfYear(i.minYear)-C+1)*u,f=i.minYear+1,this.timeScaleArray.push({position:g,value:f,unit:S,year:f,month:E.monthMod(s+1)})}else i.minDate===1&&i.minMonth===0&&this.timeScaleArray.push({position:g,value:f,unit:S,year:l,month:E.monthMod(s+1)});for(var O=f,L=g,_=0;_<h;_++)O++,L=v.determineDaysOfYear(O-1)*u+L,this.timeScaleArray.push({position:L,value:O,unit:S,year:O,month:1})}},{key:"generateMonthScale",value:function(n){var i=n.firstVal,s=n.currentMonthDate,l=n.currentMonth,u=n.currentYear,h=n.daysWidthOnXAxis,f=n.numberOfMonths,g=l,v=0,S=new ie(this.ctx),C="month",O=0;if(i.minDate>1){v=(S.determineDaysOfMonths(l+1,i.minYear)-s+1)*h,g=E.monthMod(l+1);var L=u+O,_=E.monthMod(g),B=g;g===0&&(C="year",B=L,_=1,L+=O+=1),this.timeScaleArray.push({position:v,value:B,unit:C,year:L,month:_})}else this.timeScaleArray.push({position:v,value:g,unit:C,year:u,month:E.monthMod(l)});for(var H=g+1,$=v,J=0,y=1;J<f;J++,y++){(H=E.monthMod(H))===0?(C="year",O+=1):C="month";var M=this._getYear(u,H,O);$=S.determineDaysOfMonths(H,M)*h+$;var z=H===0?M:H;this.timeScaleArray.push({position:$,value:z,unit:C,year:M,month:H===0?1:H}),H++}}},{key:"generateDayScale",value:function(n){var i=n.firstVal,s=n.currentMonth,l=n.currentYear,u=n.hoursWidthOnXAxis,h=n.numberOfDays,f=new ie(this.ctx),g="day",v=i.minDate+1,S=v,C=function(y,M,z){return y>f.determineDaysOfMonths(M+1,z)&&(S=1,g="month",L=M+=1),M},O=(24-i.minHour)*u,L=v,_=C(S,s,l);i.minHour===0&&i.minDate===1?(O=0,L=E.monthMod(i.minMonth),g="month",S=i.minDate,h++):i.minDate!==1&&i.minHour===0&&i.minMinute===0&&(O=0,v=i.minDate,L=v,_=C(S=v,s,l)),this.timeScaleArray.push({position:O,value:L,unit:g,year:this._getYear(l,_,0),month:E.monthMod(_),day:S});for(var B=O,H=0;H<h;H++){g="day",_=C(S+=1,_,this._getYear(l,_,0));var $=this._getYear(l,_,0);B=24*u+B;var J=S===1?E.monthMod(_):S;this.timeScaleArray.push({position:B,value:J,unit:g,year:$,month:E.monthMod(_),day:J})}}},{key:"generateHourScale",value:function(n){var i=n.firstVal,s=n.currentDate,l=n.currentMonth,u=n.currentYear,h=n.minutesWidthOnXAxis,f=n.numberOfHours,g=new ie(this.ctx),v="hour",S=function(V,Q){return V>g.determineDaysOfMonths(Q+1,u)&&(H=1,Q+=1),{month:Q,date:H}},C=function(V,Q){return V>g.determineDaysOfMonths(Q+1,u)?Q+=1:Q},O=60-(i.minMinute+i.minSecond/60),L=O*h,_=i.minHour+1,B=_+1;O===60&&(L=0,B=(_=i.minHour)+1);var H=s,$=C(H,l);this.timeScaleArray.push({position:L,value:_,unit:v,day:H,hour:B,year:u,month:E.monthMod($)});for(var J=L,y=0;y<f;y++){v="hour",B>=24&&(B=0,v="day",$=S(H+=1,$).month,$=C(H,$));var M=this._getYear(u,$,0);J=60*h+J;var z=B===0?H:B;this.timeScaleArray.push({position:J,value:z,unit:v,hour:B,day:H,year:M,month:E.monthMod($)}),B++}}},{key:"generateMinuteScale",value:function(n){for(var i=n.currentMillisecond,s=n.currentSecond,l=n.currentMinute,u=n.currentHour,h=n.currentDate,f=n.currentMonth,g=n.currentYear,v=n.minutesWidthOnXAxis,S=n.secondsWidthOnXAxis,C=n.numberOfMinutes,O=l+1,L=h,_=f,B=g,H=u,$=(60-s-i/1e3)*S,J=0;J<C;J++)O>=60&&(O=0,(H+=1)===24&&(H=0)),this.timeScaleArray.push({position:$,value:O,unit:"minute",hour:H,minute:O,day:L,year:this._getYear(B,_,0),month:E.monthMod(_)}),$+=v,O++}},{key:"generateSecondScale",value:function(n){for(var i=n.currentMillisecond,s=n.currentSecond,l=n.currentMinute,u=n.currentHour,h=n.currentDate,f=n.currentMonth,g=n.currentYear,v=n.secondsWidthOnXAxis,S=n.numberOfSeconds,C=s+1,O=l,L=h,_=f,B=g,H=u,$=(1e3-i)/1e3*v,J=0;J<S;J++)C>=60&&(C=0,++O>=60&&(O=0,++H===24&&(H=0))),this.timeScaleArray.push({position:$,value:C,unit:"second",hour:H,minute:O,second:C,day:L,year:this._getYear(B,_,0),month:E.monthMod(_)}),$+=v,C++}},{key:"createRawDateString",value:function(n,i){var s=n.year;return n.month===0&&(n.month=1),s+="-"+("0"+n.month.toString()).slice(-2),n.unit==="day"?s+=n.unit==="day"?"-"+("0"+i).slice(-2):"-01":s+="-"+("0"+(n.day?n.day:"1")).slice(-2),n.unit==="hour"?s+=n.unit==="hour"?"T"+("0"+i).slice(-2):"T00":s+="T"+("0"+(n.hour?n.hour:"0")).slice(-2),n.unit==="minute"?s+=":"+("0"+i).slice(-2):s+=":"+(n.minute?("0"+n.minute).slice(-2):"00"),n.unit==="second"?s+=":"+("0"+i).slice(-2):s+=":00",this.utc&&(s+=".000Z"),s}},{key:"formatDates",value:function(n){var i=this,s=this.w;return n.map(function(l){var u=l.value.toString(),h=new ie(i.ctx),f=i.createRawDateString(l,u),g=h.getDate(h.parseDate(f));if(i.utc||(g=h.getDate(h.parseDateWithTimezone(f))),s.config.xaxis.labels.format===void 0){var v="dd MMM",S=s.config.xaxis.labels.datetimeFormatter;l.unit==="year"&&(v=S.year),l.unit==="month"&&(v=S.month),l.unit==="day"&&(v=S.day),l.unit==="hour"&&(v=S.hour),l.unit==="minute"&&(v=S.minute),l.unit==="second"&&(v=S.second),u=h.formatDate(g,v)}else u=h.formatDate(g,s.config.xaxis.labels.format);return{dateString:f,position:l.position,value:u,unit:l.unit,year:l.year,month:l.month}})}},{key:"removeOverlappingTS",value:function(n){var i,s=this,l=new R(this.ctx),u=!1;n.length>0&&n[0].value&&n.every(function(g){return g.value.length===n[0].value.length})&&(u=!0,i=l.getTextRects(n[0].value).width);var h=0,f=n.map(function(g,v){if(v>0&&s.w.config.xaxis.labels.hideOverlappingLabels){var S=u?i:l.getTextRects(n[h].value).width,C=n[h].position;return g.position>C+S+10?(h=v,g):null}return g});return f=f.filter(function(g){return g!==null})}},{key:"_getYear",value:function(n,i,s){return n+Math.floor(i/12)+s}}]),Y}(),Ft=function(){function Y(n,i){c(this,Y),this.ctx=i,this.w=i.w,this.el=n}return p(Y,[{key:"setupElements",value:function(){var n=this.w.globals,i=this.w.config,s=i.chart.type;n.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(s)>-1,n.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(s)>-1,n.isBarHorizontal=(i.chart.type==="bar"||i.chart.type==="rangeBar"||i.chart.type==="boxPlot")&&i.plotOptions.bar.horizontal,n.chartClass=".apexcharts"+n.chartID,n.dom.baseEl=this.el,n.dom.elWrap=document.createElement("div"),R.setAttrs(n.dom.elWrap,{id:n.chartClass.substring(1),class:"apexcharts-canvas "+n.chartClass.substring(1)}),this.el.appendChild(n.dom.elWrap),n.dom.Paper=new window.SVG.Doc(n.dom.elWrap),n.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(i.chart.offsetX,", ").concat(i.chart.offsetY,")")}),n.dom.Paper.node.style.background=i.chart.background,this.setSVGDimensions(),n.dom.elLegendForeign=document.createElementNS(n.SVGNS,"foreignObject"),R.setAttrs(n.dom.elLegendForeign,{x:0,y:0,width:n.svgWidth,height:n.svgHeight}),n.dom.elLegendWrap=document.createElement("div"),n.dom.elLegendWrap.classList.add("apexcharts-legend"),n.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),n.dom.elLegendForeign.appendChild(n.dom.elLegendWrap),n.dom.Paper.node.appendChild(n.dom.elLegendForeign),n.dom.elGraphical=n.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),n.dom.elDefs=n.dom.Paper.defs(),n.dom.Paper.add(n.dom.elGraphical),n.dom.elGraphical.add(n.dom.elDefs)}},{key:"plotChartType",value:function(n,i){var s=this.w,l=s.config,u=s.globals,h={series:[],i:[]},f={series:[],i:[]},g={series:[],i:[]},v={series:[],i:[]},S={series:[],i:[]},C={series:[],i:[]},O={series:[],i:[]},L={series:[],i:[]},_={series:[],seriesRangeEnd:[],i:[]};u.series.map(function(Q,ee){var ue=0;n[ee].type!==void 0?(n[ee].type==="column"||n[ee].type==="bar"?(u.series.length>1&&l.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),S.series.push(Q),S.i.push(ee),ue++,s.globals.columnSeries=S.series):n[ee].type==="area"?(f.series.push(Q),f.i.push(ee),ue++):n[ee].type==="line"?(h.series.push(Q),h.i.push(ee),ue++):n[ee].type==="scatter"?(g.series.push(Q),g.i.push(ee)):n[ee].type==="bubble"?(v.series.push(Q),v.i.push(ee),ue++):n[ee].type==="candlestick"?(C.series.push(Q),C.i.push(ee),ue++):n[ee].type==="boxPlot"?(O.series.push(Q),O.i.push(ee),ue++):n[ee].type==="rangeBar"?(L.series.push(Q),L.i.push(ee),ue++):n[ee].type==="rangeArea"?(_.series.push(u.seriesRangeStart[ee]),_.seriesRangeEnd.push(u.seriesRangeEnd[ee]),_.i.push(ee),ue++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble/candlestick/boxPlot/rangeBar/rangeArea"),ue>1&&(u.comboCharts=!0)):(h.series.push(Q),h.i.push(ee))});var B=new He(this.ctx,i),H=new qi(this.ctx,i);this.ctx.pie=new ge(this.ctx);var $=new De(this.ctx);this.ctx.rangeBar=new _e(this.ctx,i);var J=new we(this.ctx),y=[];if(u.comboCharts){if(f.series.length>0&&y.push(B.draw(f.series,"area",f.i)),S.series.length>0)if(s.config.chart.stacked){var M=new en(this.ctx,i);y.push(M.draw(S.series,S.i))}else this.ctx.bar=new gn(this.ctx,i),y.push(this.ctx.bar.draw(S.series,S.i));if(_.series.length>0&&y.push(B.draw(_.series,"rangeArea",_.i,_.seriesRangeEnd)),h.series.length>0&&y.push(B.draw(h.series,"line",h.i)),C.series.length>0&&y.push(H.draw(C.series,"candlestick",C.i)),O.series.length>0&&y.push(H.draw(O.series,"boxPlot",O.i)),L.series.length>0&&y.push(this.ctx.rangeBar.draw(L.series,L.i)),g.series.length>0){var z=new He(this.ctx,i,!0);y.push(z.draw(g.series,"scatter",g.i))}if(v.series.length>0){var V=new He(this.ctx,i,!0);y.push(V.draw(v.series,"bubble",v.i))}}else switch(l.chart.type){case"line":y=B.draw(u.series,"line");break;case"area":y=B.draw(u.series,"area");break;case"bar":l.chart.stacked?y=new en(this.ctx,i).draw(u.series):(this.ctx.bar=new gn(this.ctx,i),y=this.ctx.bar.draw(u.series));break;case"candlestick":y=new qi(this.ctx,i).draw(u.series,"candlestick");break;case"boxPlot":y=new qi(this.ctx,i).draw(u.series,"boxPlot");break;case"rangeBar":y=this.ctx.rangeBar.draw(u.series);break;case"rangeArea":y=B.draw(u.seriesRangeStart,"rangeArea",void 0,u.seriesRangeEnd);break;case"heatmap":y=new ne(this.ctx,i).draw(u.series);break;case"treemap":y=new je(this.ctx,i).draw(u.series);break;case"pie":case"donut":case"polarArea":y=this.ctx.pie.draw(u.series);break;case"radialBar":y=$.draw(u.series);break;case"radar":y=J.draw(u.series);break;default:y=B.draw(u.series)}return y}},{key:"setSVGDimensions",value:function(){var n=this.w.globals,i=this.w.config;n.svgWidth=i.chart.width,n.svgHeight=i.chart.height;var s=E.getDimensions(this.el),l=i.chart.width.toString().split(/[0-9]+/g).pop();l==="%"?E.isNumber(s[0])&&(s[0].width===0&&(s=E.getDimensions(this.el.parentNode)),n.svgWidth=s[0]*parseInt(i.chart.width,10)/100):l!=="px"&&l!==""||(n.svgWidth=parseInt(i.chart.width,10));var u=i.chart.height.toString().split(/[0-9]+/g).pop();if(n.svgHeight!=="auto"&&n.svgHeight!=="")if(u==="%"){var h=E.getDimensions(this.el.parentNode);n.svgHeight=h[1]*parseInt(i.chart.height,10)/100}else n.svgHeight=parseInt(i.chart.height,10);else n.axisCharts?n.svgHeight=n.svgWidth/1.61:n.svgHeight=n.svgWidth/1.2;if(n.svgWidth<0&&(n.svgWidth=0),n.svgHeight<0&&(n.svgHeight=0),R.setAttrs(n.dom.Paper.node,{width:n.svgWidth,height:n.svgHeight}),u!=="%"){var f=i.chart.sparkline.enabled?0:n.axisCharts?i.chart.parentHeightOffset:0;n.dom.Paper.node.parentNode.parentNode.style.minHeight=n.svgHeight+f+"px"}n.dom.elWrap.style.width=n.svgWidth+"px",n.dom.elWrap.style.height=n.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var n=this.w.globals,i=n.translateY,s={transform:"translate("+n.translateX+", "+i+")"};R.setAttrs(n.dom.elGraphical.node,s)}},{key:"resizeNonAxisCharts",value:function(){var n=this.w,i=n.globals,s=0,l=n.config.chart.sparkline.enabled?1:15;l+=n.config.grid.padding.bottom,n.config.legend.position!=="top"&&n.config.legend.position!=="bottom"||!n.config.legend.show||n.config.legend.floating||(s=new ut(this.ctx).legendHelpers.getLegendBBox().clwh+10);var u=n.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),h=2.05*n.globals.radialSize;if(u&&!n.config.chart.sparkline.enabled&&n.config.plotOptions.radialBar.startAngle!==0){var f=E.getBoundingClientRect(u);h=f.bottom;var g=f.bottom-f.top;h=Math.max(2.05*n.globals.radialSize,g)}var v=h+i.translateY+s+l;i.dom.elLegendForeign&&i.dom.elLegendForeign.setAttribute("height",v),n.config.chart.height&&String(n.config.chart.height).indexOf("%")>0||(i.dom.elWrap.style.height=v+"px",R.setAttrs(i.dom.Paper.node,{height:v}),i.dom.Paper.node.parentNode.parentNode.style.minHeight=v+"px")}},{key:"coreCalculations",value:function(){new qe(this.ctx).init()}},{key:"resetGlobals",value:function(){var n=this,i=function(){return n.w.config.series.map(function(u){return[]})},s=new ce,l=this.w.globals;s.initGlobalVars(l),l.seriesXvalues=i(),l.seriesYvalues=i()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var n=null,i=this.w;if(i.globals.axisCharts){if(i.config.xaxis.crosshairs.position==="back"&&new Se(this.ctx).drawXCrosshairs(),i.config.yaxis[0].crosshairs.position==="back"&&new Se(this.ctx).drawYCrosshairs(),i.config.xaxis.type==="datetime"&&i.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new tn(this.ctx);var s=[];isFinite(i.globals.minX)&&isFinite(i.globals.maxX)&&!i.globals.isBarHorizontal?s=this.ctx.timeScale.calculateTimeScaleTicks(i.globals.minX,i.globals.maxX):i.globals.isBarHorizontal&&(s=this.ctx.timeScale.calculateTimeScaleTicks(i.globals.minY,i.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(s)}n=new G(this.ctx).getCalculatedRatios()}return n}},{key:"updateSourceChart",value:function(n){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:n.w.globals.minX,max:n.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var n=this,i=this.w;if(i.config.chart.brush.enabled&&typeof i.config.chart.events.selection!="function"){var s=i.config.chart.brush.targets||[i.config.chart.brush.target];s.forEach(function(l){var u=ApexCharts.getChartByID(l);u.w.globals.brushSource=n.ctx,typeof u.w.config.chart.events.zoomed!="function"&&(u.w.config.chart.events.zoomed=function(){n.updateSourceChart(u)}),typeof u.w.config.chart.events.scrolled!="function"&&(u.w.config.chart.events.scrolled=function(){n.updateSourceChart(u)})}),i.config.chart.events.selection=function(l,u){s.forEach(function(h){var f=ApexCharts.getChartByID(h),g=E.clone(i.config.yaxis);if(i.config.chart.brush.autoScaleYaxis&&f.w.globals.series.length===1){var v=new We(f);g=v.autoScaleY(f,g,u)}var S=f.w.config.yaxis.reduce(function(C,O,L){return[].concat(P(C),[r(r({},f.w.config.yaxis[L]),{},{min:g[0].min,max:g[0].max})])},[]);f.ctx.updateHelpers._updateOptions({xaxis:{min:u.xaxis.min,max:u.xaxis.max},yaxis:S},!1,!1,!1,!1)})}}}}]),Y}(),$n=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"_updateOptions",value:function(n){var i=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(f){var g=[i.ctx];u&&(g=i.ctx.getSyncedCharts()),i.ctx.w.globals.isExecCalled&&(g=[i.ctx],i.ctx.w.globals.isExecCalled=!1),g.forEach(function(v,S){var C=v.w;if(C.globals.shouldAnimate=l,s||(C.globals.resized=!0,C.globals.dataChanged=!0,l&&v.series.getPreviousPaths()),n&&o(n)==="object"&&(v.config=new fe(n),n=G.extendArrayProps(v.config,n,C),v.w.globals.chartID!==i.ctx.w.globals.chartID&&delete n.series,C.config=E.extend(C.config,n),h&&(C.globals.lastXAxis=n.xaxis?E.clone(n.xaxis):[],C.globals.lastYAxis=n.yaxis?E.clone(n.yaxis):[],C.globals.initialConfig=E.extend({},C.config),C.globals.initialSeries=E.clone(C.config.series),n.series))){for(var O=0;O<C.globals.collapsedSeriesIndices.length;O++){var L=C.config.series[C.globals.collapsedSeriesIndices[O]];C.globals.collapsedSeries[O].data=C.globals.axisCharts?L.data.slice():L}for(var _=0;_<C.globals.ancillaryCollapsedSeriesIndices.length;_++){var B=C.config.series[C.globals.ancillaryCollapsedSeriesIndices[_]];C.globals.ancillaryCollapsedSeries[_].data=C.globals.axisCharts?B.data.slice():B}v.series.emptyCollapsedSeries(C.config.series)}return v.update(n).then(function(){S===g.length-1&&f(v)})})})}},{key:"_updateSeries",value:function(n,i){var s=this,l=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(u){var h,f=s.w;return f.globals.shouldAnimate=i,f.globals.dataChanged=!0,i&&s.ctx.series.getPreviousPaths(),f.globals.axisCharts?((h=n.map(function(g,v){return s._extendSeries(g,v)})).length===0&&(h=[{data:[]}]),f.config.series=h):f.config.series=n.slice(),l&&(f.globals.initialConfig.series=E.clone(f.config.series),f.globals.initialSeries=E.clone(f.config.series)),s.ctx.update().then(function(){u(s.ctx)})})}},{key:"_extendSeries",value:function(n,i){var s=this.w,l=s.config.series[i];return r(r({},s.config.series[i]),{},{name:n.name?n.name:l&&l.name,color:n.color?n.color:l&&l.color,type:n.type?n.type:l&&l.type,data:n.data?n.data:l&&l.data})}},{key:"toggleDataPointSelection",value:function(n,i){var s=this.w,l=null,u=".apexcharts-series[data\\:realIndex='".concat(n,"']");return s.globals.axisCharts?l=s.globals.dom.Paper.select("".concat(u," path[j='").concat(i,"'], ").concat(u," circle[j='").concat(i,"'], ").concat(u," rect[j='").concat(i,"']")).members[0]:i===void 0&&(l=s.globals.dom.Paper.select("".concat(u," path[j='").concat(n,"']")).members[0],s.config.chart.type!=="pie"&&s.config.chart.type!=="polarArea"&&s.config.chart.type!=="donut"||this.ctx.pie.pieClicked(n)),l?(new R(this.ctx).pathMouseDown(l,null),l.node?l.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(n){var i=this.w;if(["min","max"].forEach(function(l){n.xaxis[l]!==void 0&&(i.config.xaxis[l]=n.xaxis[l],i.globals.lastXAxis[l]=n.xaxis[l])}),n.xaxis.categories&&n.xaxis.categories.length&&(i.config.xaxis.categories=n.xaxis.categories),i.config.xaxis.convertedCatToNumeric){var s=new Ee(n);n=s.convertCatToNumericXaxis(n,this.ctx)}return n}},{key:"forceYAxisUpdate",value:function(n){return n.chart&&n.chart.stacked&&n.chart.stackType==="100%"&&(Array.isArray(n.yaxis)?n.yaxis.forEach(function(i,s){n.yaxis[s].min=0,n.yaxis[s].max=100}):(n.yaxis.min=0,n.yaxis.max=100)),n}},{key:"revertDefaultAxisMinMax",value:function(n){var i=this,s=this.w,l=s.globals.lastXAxis,u=s.globals.lastYAxis;n&&n.xaxis&&(l=n.xaxis),n&&n.yaxis&&(u=n.yaxis),s.config.xaxis.min=l.min,s.config.xaxis.max=l.max;var h=function(f){u[f]!==void 0&&(s.config.yaxis[f].min=u[f].min,s.config.yaxis[f].max=u[f].max)};s.config.yaxis.map(function(f,g){s.globals.zoomed||u[g]!==void 0?h(g):i.ctx.opts.yaxis[g]!==void 0&&(f.min=i.ctx.opts.yaxis[g].min,f.max=i.ctx.opts.yaxis[g].max)})}}]),Y}();Ue=typeof window<"u"?window:void 0,Be=function(Y,n){var i=(this!==void 0?this:Y).SVG=function(y){if(i.supported)return y=new i.Doc(y),i.parser.draw||i.prepare(),y};if(i.ns="http://www.w3.org/2000/svg",i.xmlns="http://www.w3.org/2000/xmlns/",i.xlink="http://www.w3.org/1999/xlink",i.svgjs="http://svgjs.dev",i.supported=!0,!i.supported)return!1;i.did=1e3,i.eid=function(y){return"Svgjs"+S(y)+i.did++},i.create=function(y){var M=n.createElementNS(this.ns,y);return M.setAttribute("id",this.eid(y)),M},i.extend=function(){var y,M;M=(y=[].slice.call(arguments)).pop();for(var z=y.length-1;z>=0;z--)if(y[z])for(var V in M)y[z].prototype[V]=M[V];i.Set&&i.Set.inherit&&i.Set.inherit()},i.invent=function(y){var M=typeof y.create=="function"?y.create:function(){this.constructor.call(this,i.create(y.create))};return y.inherit&&(M.prototype=new y.inherit),y.extend&&i.extend(M,y.extend),y.construct&&i.extend(y.parent||i.Container,y.construct),M},i.adopt=function(y){return y?y.instance?y.instance:((M=y.nodeName=="svg"?y.parentNode instanceof Y.SVGElement?new i.Nested:new i.Doc:y.nodeName=="linearGradient"?new i.Gradient("linear"):y.nodeName=="radialGradient"?new i.Gradient("radial"):i[S(y.nodeName)]?new i[S(y.nodeName)]:new i.Element(y)).type=y.nodeName,M.node=y,y.instance=M,M instanceof i.Doc&&M.namespace().defs(),M.setData(JSON.parse(y.getAttribute("svgjs:data"))||{}),M):null;var M},i.prepare=function(){var y=n.getElementsByTagName("body")[0],M=(y?new i.Doc(y):i.adopt(n.documentElement).nested()).size(2,0);i.parser={body:y||n.documentElement,draw:M.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:M.polyline().node,path:M.path().node,native:i.create("svg")}},i.parser={native:i.create("svg")},n.addEventListener("DOMContentLoaded",function(){i.parser.draw||i.prepare()},!1),i.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},i.utils={map:function(y,M){for(var z=y.length,V=[],Q=0;Q<z;Q++)V.push(M(y[Q]));return V},filter:function(y,M){for(var z=y.length,V=[],Q=0;Q<z;Q++)M(y[Q])&&V.push(y[Q]);return V},filterSVGElements:function(y){return this.filter(y,function(M){return M instanceof Y.SVGElement})}},i.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},i.Color=function(y){var M,z;this.r=0,this.g=0,this.b=0,y&&(typeof y=="string"?i.regex.isRgb.test(y)?(M=i.regex.rgb.exec(y.replace(i.regex.whitespace,"")),this.r=parseInt(M[1]),this.g=parseInt(M[2]),this.b=parseInt(M[3])):i.regex.isHex.test(y)&&(M=i.regex.hex.exec((z=y).length==4?["#",z.substring(1,2),z.substring(1,2),z.substring(2,3),z.substring(2,3),z.substring(3,4),z.substring(3,4)].join(""):z),this.r=parseInt(M[1],16),this.g=parseInt(M[2],16),this.b=parseInt(M[3],16)):o(y)==="object"&&(this.r=y.r,this.g=y.g,this.b=y.b))},i.extend(i.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+C(this.r)+C(this.g)+C(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(y){return this.destination=new i.Color(y),this},at:function(y){return this.destination?(y=y<0?0:y>1?1:y,new i.Color({r:~~(this.r+(this.destination.r-this.r)*y),g:~~(this.g+(this.destination.g-this.g)*y),b:~~(this.b+(this.destination.b-this.b)*y)})):this}}),i.Color.test=function(y){return y+="",i.regex.isHex.test(y)||i.regex.isRgb.test(y)},i.Color.isRgb=function(y){return y&&typeof y.r=="number"&&typeof y.g=="number"&&typeof y.b=="number"},i.Color.isColor=function(y){return i.Color.isRgb(y)||i.Color.test(y)},i.Array=function(y,M){(y=(y||[]).valueOf()).length==0&&M&&(y=M.valueOf()),this.value=this.parse(y)},i.extend(i.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(y){return y=y.valueOf(),Array.isArray(y)?y:this.split(y)}}),i.PointArray=function(y,M){i.Array.call(this,y,M||[[0,0]])},i.PointArray.prototype=new i.Array,i.PointArray.prototype.constructor=i.PointArray;for(var s={M:function(y,M,z){return M.x=z.x=y[0],M.y=z.y=y[1],["M",M.x,M.y]},L:function(y,M){return M.x=y[0],M.y=y[1],["L",y[0],y[1]]},H:function(y,M){return M.x=y[0],["H",y[0]]},V:function(y,M){return M.y=y[0],["V",y[0]]},C:function(y,M){return M.x=y[4],M.y=y[5],["C",y[0],y[1],y[2],y[3],y[4],y[5]]},Q:function(y,M){return M.x=y[2],M.y=y[3],["Q",y[0],y[1],y[2],y[3]]},Z:function(y,M,z){return M.x=z.x,M.y=z.y,["Z"]}},l="mlhvqtcsaz".split(""),u=0,h=l.length;u<h;++u)s[l[u]]=function(y){return function(M,z,V){if(y=="H")M[0]=M[0]+z.x;else if(y=="V")M[0]=M[0]+z.y;else if(y=="A")M[5]=M[5]+z.x,M[6]=M[6]+z.y;else for(var Q=0,ee=M.length;Q<ee;++Q)M[Q]=M[Q]+(Q%2?z.y:z.x);if(s&&typeof s[y]=="function")return s[y](M,z,V)}}(l[u].toUpperCase());i.PathArray=function(y,M){i.Array.call(this,y,M||[["M",0,0]])},i.PathArray.prototype=new i.Array,i.PathArray.prototype.constructor=i.PathArray,i.extend(i.PathArray,{toString:function(){return function(y){for(var M=0,z=y.length,V="";M<z;M++)V+=y[M][0],y[M][1]!=null&&(V+=y[M][1],y[M][2]!=null&&(V+=" ",V+=y[M][2],y[M][3]!=null&&(V+=" ",V+=y[M][3],V+=" ",V+=y[M][4],y[M][5]!=null&&(V+=" ",V+=y[M][5],V+=" ",V+=y[M][6],y[M][7]!=null&&(V+=" ",V+=y[M][7])))));return V+" "}(this.value)},move:function(y,M){var z=this.bbox();return z.x,z.y,this},at:function(y){if(!this.destination)return this;for(var M=this.value,z=this.destination.value,V=[],Q=new i.PathArray,ee=0,ue=M.length;ee<ue;ee++){V[ee]=[M[ee][0]];for(var he=1,ke=M[ee].length;he<ke;he++)V[ee][he]=M[ee][he]+(z[ee][he]-M[ee][he])*y;V[ee][0]==="A"&&(V[ee][4]=+(V[ee][4]!=0),V[ee][5]=+(V[ee][5]!=0))}return Q.value=V,Q},parse:function(y){if(y instanceof i.PathArray)return y.valueOf();var M,z={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};y=typeof y=="string"?y.replace(i.regex.numbersWithDots,g).replace(i.regex.pathLetters," $& ").replace(i.regex.hyphen,"$1 -").trim().split(i.regex.delimiter):y.reduce(function(ke,Ce){return[].concat.call(ke,Ce)},[]);var V=[],Q=new i.Point,ee=new i.Point,ue=0,he=y.length;do i.regex.isPathLetter.test(y[ue])?(M=y[ue],++ue):M=="M"?M="L":M=="m"&&(M="l"),V.push(s[M].call(null,y.slice(ue,ue+=z[M.toUpperCase()]).map(parseFloat),Q,ee));while(he>ue);return V},bbox:function(){return i.parser.draw||i.prepare(),i.parser.path.setAttribute("d",this.toString()),i.parser.path.getBBox()}}),i.Number=i.invent({create:function(y,M){this.value=0,this.unit=M||"",typeof y=="number"?this.value=isNaN(y)?0:isFinite(y)?y:y<0?-34e37:34e37:typeof y=="string"?(M=y.match(i.regex.numberAndUnit))&&(this.value=parseFloat(M[1]),M[5]=="%"?this.value/=100:M[5]=="s"&&(this.value*=1e3),this.unit=M[5]):y instanceof i.Number&&(this.value=y.valueOf(),this.unit=y.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(y){return y=new i.Number(y),new i.Number(this+y,this.unit||y.unit)},minus:function(y){return y=new i.Number(y),new i.Number(this-y,this.unit||y.unit)},times:function(y){return y=new i.Number(y),new i.Number(this*y,this.unit||y.unit)},divide:function(y){return y=new i.Number(y),new i.Number(this/y,this.unit||y.unit)},to:function(y){var M=new i.Number(this);return typeof y=="string"&&(M.unit=y),M},morph:function(y){return this.destination=new i.Number(y),y.relative&&(this.destination.value+=this.value),this},at:function(y){return this.destination?new i.Number(this.destination).minus(this).times(y).plus(this):this}}}),i.Element=i.invent({create:function(y){this._stroke=i.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=y)&&(this.type=y.nodeName,this.node.instance=this,this._stroke=y.getAttribute("stroke")||this._stroke)},extend:{x:function(y){return this.attr("x",y)},y:function(y){return this.attr("y",y)},cx:function(y){return y==null?this.x()+this.width()/2:this.x(y-this.width()/2)},cy:function(y){return y==null?this.y()+this.height()/2:this.y(y-this.height()/2)},move:function(y,M){return this.x(y).y(M)},center:function(y,M){return this.cx(y).cy(M)},width:function(y){return this.attr("width",y)},height:function(y){return this.attr("height",y)},size:function(y,M){var z=O(this,y,M);return this.width(new i.Number(z.width)).height(new i.Number(z.height))},clone:function(y){this.writeDataToDom();var M=B(this.node.cloneNode(!0));return y?y.add(M):this.after(M),M},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(y){return this.after(y).remove(),y},addTo:function(y){return y.put(this)},putIn:function(y){return y.add(this)},id:function(y){return this.attr("id",y)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var y=this.attr("class");return y==null?[]:y.trim().split(i.regex.delimiter)},hasClass:function(y){return this.classes().indexOf(y)!=-1},addClass:function(y){if(!this.hasClass(y)){var M=this.classes();M.push(y),this.attr("class",M.join(" "))}return this},removeClass:function(y){return this.hasClass(y)&&this.attr("class",this.classes().filter(function(M){return M!=y}).join(" ")),this},toggleClass:function(y){return this.hasClass(y)?this.removeClass(y):this.addClass(y)},reference:function(y){return i.get(this.attr(y))},parent:function(y){var M=this;if(!M.node.parentNode)return null;if(M=i.adopt(M.node.parentNode),!y)return M;for(;M&&M.node instanceof Y.SVGElement;){if(typeof y=="string"?M.matches(y):M instanceof y)return M;if(!M.node.parentNode||M.node.parentNode.nodeName=="#document")return null;M=i.adopt(M.node.parentNode)}},doc:function(){return this instanceof i.Doc?this:this.parent(i.Doc)},parents:function(y){var M=[],z=this;do{if(!(z=z.parent(y))||!z.node)break;M.push(z)}while(z.parent);return M},matches:function(y){return function(M,z){return(M.matches||M.matchesSelector||M.msMatchesSelector||M.mozMatchesSelector||M.webkitMatchesSelector||M.oMatchesSelector).call(M,z)}(this.node,y)},native:function(){return this.node},svg:function(y){var M=n.createElement("svg");if(!(y&&this instanceof i.Parent))return M.appendChild(y=n.createElement("svg")),this.writeDataToDom(),y.appendChild(this.node.cloneNode(!0)),M.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");M.innerHTML="<svg>"+y.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var z=0,V=M.firstChild.childNodes.length;z<V;z++)this.node.appendChild(M.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(y){return this.dom=y,this},is:function(y){return function(M,z){return M instanceof z}(this,y)}}}),i.easing={"-":function(y){return y},"<>":function(y){return-Math.cos(y*Math.PI)/2+.5},">":function(y){return Math.sin(y*Math.PI/2)},"<":function(y){return 1-Math.cos(y*Math.PI/2)}},i.morph=function(y){return function(M,z){return new i.MorphObj(M,z).at(y)}},i.Situation=i.invent({create:function(y){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new i.Number(y.duration).valueOf(),this.delay=new i.Number(y.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=y.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),i.FX=i.invent({create:function(y){this._target=y,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(y,M,z){o(y)==="object"&&(M=y.ease,z=y.delay,y=y.duration);var V=new i.Situation({duration:y||1e3,delay:z||0,ease:i.easing[M||"-"]||M});return this.queue(V),this},target:function(y){return y&&y instanceof i.Element?(this._target=y,this):this._target},timeToAbsPos:function(y){return(y-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(y){return this.situation.duration/this._speed*y+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=Y.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){Y.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(y){return(typeof y=="function"||y instanceof i.Situation)&&this.situations.push(y),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof i.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var y,M=this.situation;if(M.init)return this;for(var z in M.animations){y=this.target()[z](),Array.isArray(y)||(y=[y]),Array.isArray(M.animations[z])||(M.animations[z]=[M.animations[z]]);for(var V=y.length;V--;)M.animations[z][V]instanceof i.Number&&(y[V]=new i.Number(y[V])),M.animations[z][V]=y[V].morph(M.animations[z][V])}for(var z in M.attrs)M.attrs[z]=new i.MorphObj(this.target().attr(z),M.attrs[z]);for(var z in M.styles)M.styles[z]=new i.MorphObj(this.target().style(z),M.styles[z]);return M.initialTransformation=this.target().matrixify(),M.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(y,M){var z=this.active;return this.active=!1,M&&this.clearQueue(),y&&this.situation&&(!z&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(y){var M=this.last();return this.target().on("finished.fx",function z(V){V.detail.situation==M&&(y.call(this,M),this.off("finished.fx",z))}),this._callStart()},during:function(y){var M=this.last(),z=function(V){V.detail.situation==M&&y.call(this,V.detail.pos,i.morph(V.detail.pos),V.detail.eased,M)};return this.target().off("during.fx",z).on("during.fx",z),this.after(function(){this.off("during.fx",z)}),this._callStart()},afterAll:function(y){var M=function z(V){y.call(this),this.off("allfinished.fx",z)};return this.target().off("allfinished.fx",M).on("allfinished.fx",M),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(y,M,z){return this.last()[z||"animations"][y]=M,this._callStart()},step:function(y){var M,z,V;y||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(M=Math.max(this.absPos,0),z=Math.floor(M),this.situation.loops===!0||z<this.situation.loops?(this.pos=M-z,V=this.situation.loop,this.situation.loop=z):(this.absPos=this.situation.loops,this.pos=1,V=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-V)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var Q=this.situation.ease(this.pos);for(var ee in this.situation.once)ee>this.lastPos&&ee<=Q&&(this.situation.once[ee].call(this.target(),this.pos,Q),delete this.situation.once[ee]);return this.active&&this.target().fire("during",{pos:this.pos,eased:Q,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=Q,this):this},eachAt:function(){var y,M=this,z=this.target(),V=this.situation;for(var Q in V.animations)y=[].concat(V.animations[Q]).map(function(he){return typeof he!="string"&&he.at?he.at(V.ease(M.pos),M.pos):he}),z[Q].apply(z,y);for(var Q in V.attrs)y=[Q].concat(V.attrs[Q]).map(function(ke){return typeof ke!="string"&&ke.at?ke.at(V.ease(M.pos),M.pos):ke}),z.attr.apply(z,y);for(var Q in V.styles)y=[Q].concat(V.styles[Q]).map(function(ke){return typeof ke!="string"&&ke.at?ke.at(V.ease(M.pos),M.pos):ke}),z.style.apply(z,y);if(V.transforms.length){y=V.initialTransformation,Q=0;for(var ee=V.transforms.length;Q<ee;Q++){var ue=V.transforms[Q];ue instanceof i.Matrix?y=ue.relative?y.multiply(new i.Matrix().morph(ue).at(V.ease(this.pos))):y.morph(ue).at(V.ease(this.pos)):(ue.relative||ue.undo(y.extract()),y=y.multiply(ue.at(V.ease(this.pos))))}z.matrix(y)}return this},once:function(y,M,z){var V=this.last();return z||(y=V.ease(y)),V.once[y]=M,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:i.Element,construct:{animate:function(y,M,z){return(this.fx||(this.fx=new i.FX(this))).animate(y,M,z)},delay:function(y){return(this.fx||(this.fx=new i.FX(this))).delay(y)},stop:function(y,M){return this.fx&&this.fx.stop(y,M),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),i.MorphObj=i.invent({create:function(y,M){return i.Color.isColor(M)?new i.Color(y).morph(M):i.regex.delimiter.test(y)?i.regex.pathLetters.test(y)?new i.PathArray(y).morph(M):new i.Array(y).morph(M):i.regex.numberAndUnit.test(M)?new i.Number(y).morph(M):(this.value=y,void(this.destination=M))},extend:{at:function(y,M){return M<1?this.value:this.destination},valueOf:function(){return this.value}}}),i.extend(i.FX,{attr:function(y,M,z){if(o(y)==="object")for(var V in y)this.attr(V,y[V]);else this.add(y,M,"attrs");return this},plot:function(y,M,z,V){return arguments.length==4?this.plot([y,M,z,V]):this.add("plot",new(this.target()).morphArray(y))}}),i.Box=i.invent({create:function(y,M,z,V){if(!(o(y)!=="object"||y instanceof i.Element))return i.Box.call(this,y.left!=null?y.left:y.x,y.top!=null?y.top:y.y,y.width,y.height);var Q;arguments.length==4&&(this.x=y,this.y=M,this.width=z,this.height=V),(Q=this).x==null&&(Q.x=0,Q.y=0,Q.width=0,Q.height=0),Q.w=Q.width,Q.h=Q.height,Q.x2=Q.x+Q.width,Q.y2=Q.y+Q.height,Q.cx=Q.x+Q.width/2,Q.cy=Q.y+Q.height/2}}),i.BBox=i.invent({create:function(y){if(i.Box.apply(this,[].slice.call(arguments)),y instanceof i.Element){var M;try{if(!n.documentElement.contains){for(var z=y.node;z.parentNode;)z=z.parentNode;if(z!=n)throw new Error("Element not in the dom")}M=y.node.getBBox()}catch{if(y instanceof i.Shape){i.parser.draw||i.prepare();var V=y.clone(i.parser.draw.instance).show();V&&V.node&&typeof V.node.getBBox=="function"&&(M=V.node.getBBox()),V&&typeof V.remove=="function"&&V.remove()}else M={x:y.node.clientLeft,y:y.node.clientTop,width:y.node.clientWidth,height:y.node.clientHeight}}i.Box.call(this,M)}},inherit:i.Box,parent:i.Element,construct:{bbox:function(){return new i.BBox(this)}}}),i.BBox.prototype.constructor=i.BBox,i.Matrix=i.invent({create:function(y){var M=_([1,0,0,1,0,0]);y=y===null?M:y instanceof i.Element?y.matrixify():typeof y=="string"?_(y.split(i.regex.delimiter).map(parseFloat)):arguments.length==6?_([].slice.call(arguments)):Array.isArray(y)?_(y):y&&o(y)==="object"?y:M;for(var z=$.length-1;z>=0;--z)this[$[z]]=y[$[z]]!=null?y[$[z]]:M[$[z]]},extend:{extract:function(){var y=L(this,0,1);L(this,1,0);var M=180/Math.PI*Math.atan2(y.y,y.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(M*Math.PI/180)+this.f*Math.sin(M*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(M*Math.PI/180)+this.e*Math.sin(-M*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:M,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new i.Matrix(this)}},clone:function(){return new i.Matrix(this)},morph:function(y){return this.destination=new i.Matrix(y),this},multiply:function(y){return new i.Matrix(this.native().multiply(function(M){return M instanceof i.Matrix||(M=new i.Matrix(M)),M}(y).native()))},inverse:function(){return new i.Matrix(this.native().inverse())},translate:function(y,M){return new i.Matrix(this.native().translate(y||0,M||0))},native:function(){for(var y=i.parser.native.createSVGMatrix(),M=$.length-1;M>=0;M--)y[$[M]]=this[$[M]];return y},toString:function(){return"matrix("+H(this.a)+","+H(this.b)+","+H(this.c)+","+H(this.d)+","+H(this.e)+","+H(this.f)+")"}},parent:i.Element,construct:{ctm:function(){return new i.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof i.Nested){var y=this.rect(1,1),M=y.node.getScreenCTM();return y.remove(),new i.Matrix(M)}return new i.Matrix(this.node.getScreenCTM())}}}),i.Point=i.invent({create:function(y,M){var z;z=Array.isArray(y)?{x:y[0],y:y[1]}:o(y)==="object"?{x:y.x,y:y.y}:y!=null?{x:y,y:M!=null?M:y}:{x:0,y:0},this.x=z.x,this.y=z.y},extend:{clone:function(){return new i.Point(this)},morph:function(y,M){return this.destination=new i.Point(y,M),this}}}),i.extend(i.Element,{point:function(y,M){return new i.Point(y,M).transform(this.screenCTM().inverse())}}),i.extend(i.Element,{attr:function(y,M,z){if(y==null){for(y={},z=(M=this.node.attributes).length-1;z>=0;z--)y[M[z].nodeName]=i.regex.isNumber.test(M[z].nodeValue)?parseFloat(M[z].nodeValue):M[z].nodeValue;return y}if(o(y)==="object")for(var V in y)this.attr(V,y[V]);else if(M===null)this.node.removeAttribute(y);else{if(M==null)return(M=this.node.getAttribute(y))==null?i.defaults.attrs[y]:i.regex.isNumber.test(M)?parseFloat(M):M;y=="stroke-width"?this.attr("stroke",parseFloat(M)>0?this._stroke:null):y=="stroke"&&(this._stroke=M),y!="fill"&&y!="stroke"||(i.regex.isImage.test(M)&&(M=this.doc().defs().image(M,0,0)),M instanceof i.Image&&(M=this.doc().defs().pattern(0,0,function(){this.add(M)}))),typeof M=="number"?M=new i.Number(M):i.Color.isColor(M)?M=new i.Color(M):Array.isArray(M)&&(M=new i.Array(M)),y=="leading"?this.leading&&this.leading(M):typeof z=="string"?this.node.setAttributeNS(z,y,M.toString()):this.node.setAttribute(y,M.toString()),!this.rebuild||y!="font-size"&&y!="x"||this.rebuild(y,M)}return this}}),i.extend(i.Element,{transform:function(y,M){var z;return o(y)!=="object"?(z=new i.Matrix(this).extract(),typeof y=="string"?z[y]:z):(z=new i.Matrix(this),M=!!M||!!y.relative,y.a!=null&&(z=M?z.multiply(new i.Matrix(y)):new i.Matrix(y)),this.attr("transform",z))}}),i.extend(i.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(i.regex.transforms).slice(0,-1).map(function(y){var M=y.trim().split("(");return[M[0],M[1].split(i.regex.delimiter).map(function(z){return parseFloat(z)})]}).reduce(function(y,M){return M[0]=="matrix"?y.multiply(_(M[1])):y[M[0]].apply(y,M[1])},new i.Matrix)},toParent:function(y){if(this==y)return this;var M=this.screenCTM(),z=y.screenCTM().inverse();return this.addTo(y).untransform().transform(z.multiply(M)),this},toDoc:function(){return this.toParent(this.doc())}}),i.Transformation=i.invent({create:function(y,M){if(arguments.length>1&&typeof M!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(y))for(var z=0,V=this.arguments.length;z<V;++z)this[this.arguments[z]]=y[z];else if(y&&o(y)==="object")for(z=0,V=this.arguments.length;z<V;++z)this[this.arguments[z]]=y[this.arguments[z]];this.inversed=!1,M===!0&&(this.inversed=!0)}}),i.Translate=i.invent({parent:i.Matrix,inherit:i.Transformation,create:function(y,M){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),i.extend(i.Element,{style:function(y,M){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(o(y)==="object")for(var z in y)this.style(z,y[z]);else{if(!i.regex.isCss.test(y))return this.node.style[v(y)];for(y=y.split(/\s*;\s*/).filter(function(V){return!!V}).map(function(V){return V.split(/\s*:\s*/)});M=y.pop();)this.style(M[0],M[1])}else this.node.style[v(y)]=M===null||i.regex.isBlank.test(M)?"":M;return this}}),i.Parent=i.invent({create:function(y){this.constructor.call(this,y)},inherit:i.Element,extend:{children:function(){return i.utils.map(i.utils.filterSVGElements(this.node.childNodes),function(y){return i.adopt(y)})},add:function(y,M){return M==null?this.node.appendChild(y.node):y.node!=this.node.childNodes[M]&&this.node.insertBefore(y.node,this.node.childNodes[M]),this},put:function(y,M){return this.add(y,M),y},has:function(y){return this.index(y)>=0},index:function(y){return[].slice.call(this.node.childNodes).indexOf(y.node)},get:function(y){return i.adopt(this.node.childNodes[y])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(y,M){for(var z=this.children(),V=0,Q=z.length;V<Q;V++)z[V]instanceof i.Element&&y.apply(z[V],[V,z]),M&&z[V]instanceof i.Container&&z[V].each(y,M);return this},removeElement:function(y){return this.node.removeChild(y.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),i.extend(i.Parent,{ungroup:function(y,M){return M===0||this instanceof i.Defs||this.node==i.parser.draw||(y=y||(this instanceof i.Doc?this:this.parent(i.Parent)),M=M||1/0,this.each(function(){return this instanceof i.Defs?this:this instanceof i.Parent?this.ungroup(y,M-1):this.toParent(y)}),this.node.firstChild||this.remove()),this},flatten:function(y,M){return this.ungroup(y,M)}}),i.Container=i.invent({create:function(y){this.constructor.call(this,y)},inherit:i.Parent}),i.ViewBox=i.invent({parent:i.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(y){i.Element.prototype[y]=function(M){return i.on(this.node,y,M),this}}),i.listeners=[],i.handlerMap=[],i.listenerId=0,i.on=function(y,M,z,V,Q){var ee=z.bind(V||y.instance||y),ue=(i.handlerMap.indexOf(y)+1||i.handlerMap.push(y))-1,he=M.split(".")[0],ke=M.split(".")[1]||"*";i.listeners[ue]=i.listeners[ue]||{},i.listeners[ue][he]=i.listeners[ue][he]||{},i.listeners[ue][he][ke]=i.listeners[ue][he][ke]||{},z._svgjsListenerId||(z._svgjsListenerId=++i.listenerId),i.listeners[ue][he][ke][z._svgjsListenerId]=ee,y.addEventListener(he,ee,Q||{passive:!0})},i.off=function(y,M,z){var V=i.handlerMap.indexOf(y),Q=M&&M.split(".")[0],ee=M&&M.split(".")[1],ue="";if(V!=-1)if(z){if(typeof z=="function"&&(z=z._svgjsListenerId),!z)return;i.listeners[V][Q]&&i.listeners[V][Q][ee||"*"]&&(y.removeEventListener(Q,i.listeners[V][Q][ee||"*"][z],!1),delete i.listeners[V][Q][ee||"*"][z])}else if(ee&&Q){if(i.listeners[V][Q]&&i.listeners[V][Q][ee]){for(var he in i.listeners[V][Q][ee])i.off(y,[Q,ee].join("."),he);delete i.listeners[V][Q][ee]}}else if(ee)for(var ke in i.listeners[V])for(var ue in i.listeners[V][ke])ee===ue&&i.off(y,[ke,ee].join("."));else if(Q){if(i.listeners[V][Q]){for(var ue in i.listeners[V][Q])i.off(y,[Q,ue].join("."));delete i.listeners[V][Q]}}else{for(var ke in i.listeners[V])i.off(y,ke);delete i.listeners[V],delete i.handlerMap[V]}},i.extend(i.Element,{on:function(y,M,z,V){return i.on(this.node,y,M,z,V),this},off:function(y,M){return i.off(this.node,y,M),this},fire:function(y,M){return y instanceof Y.Event?this.node.dispatchEvent(y):this.node.dispatchEvent(y=new i.CustomEvent(y,{detail:M,cancelable:!0})),this._event=y,this},event:function(){return this._event}}),i.Defs=i.invent({create:"defs",inherit:i.Container}),i.G=i.invent({create:"g",inherit:i.Container,extend:{x:function(y){return y==null?this.transform("x"):this.transform({x:y-this.x()},!0)}},construct:{group:function(){return this.put(new i.G)}}}),i.Doc=i.invent({create:function(y){y&&((y=typeof y=="string"?n.getElementById(y):y).nodeName=="svg"?this.constructor.call(this,y):(this.constructor.call(this,i.create("svg")),y.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:i.Container,extend:{namespace:function(){return this.attr({xmlns:i.ns,version:"1.1"}).attr("xmlns:xlink",i.xlink,i.xmlns).attr("xmlns:svgjs",i.svgjs,i.xmlns)},defs:function(){var y;return this._defs||((y=this.node.getElementsByTagName("defs")[0])?this._defs=i.adopt(y):this._defs=new i.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,i.parser.draw&&!i.parser.draw.parentNode&&this.node.appendChild(i.parser.draw),this},clone:function(y){this.writeDataToDom();var M=this.node,z=B(M.cloneNode(!0));return y?(y.node||y).appendChild(z.node):M.parentNode.insertBefore(z.node,M.nextSibling),z}}}),i.extend(i.Element,{}),i.Gradient=i.invent({create:function(y){this.constructor.call(this,i.create(y+"Gradient")),this.type=y},inherit:i.Container,extend:{at:function(y,M,z){return this.put(new i.Stop).update(y,M,z)},update:function(y){return this.clear(),typeof y=="function"&&y.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(y,M,z){return y=="transform"&&(y="gradientTransform"),i.Container.prototype.attr.call(this,y,M,z)}},construct:{gradient:function(y,M){return this.defs().gradient(y,M)}}}),i.extend(i.Gradient,i.FX,{from:function(y,M){return(this._target||this).type=="radial"?this.attr({fx:new i.Number(y),fy:new i.Number(M)}):this.attr({x1:new i.Number(y),y1:new i.Number(M)})},to:function(y,M){return(this._target||this).type=="radial"?this.attr({cx:new i.Number(y),cy:new i.Number(M)}):this.attr({x2:new i.Number(y),y2:new i.Number(M)})}}),i.extend(i.Defs,{gradient:function(y,M){return this.put(new i.Gradient(y)).update(M)}}),i.Stop=i.invent({create:"stop",inherit:i.Element,extend:{update:function(y){return(typeof y=="number"||y instanceof i.Number)&&(y={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),y.opacity!=null&&this.attr("stop-opacity",y.opacity),y.color!=null&&this.attr("stop-color",y.color),y.offset!=null&&this.attr("offset",new i.Number(y.offset)),this}}}),i.Pattern=i.invent({create:"pattern",inherit:i.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(y){return this.clear(),typeof y=="function"&&y.call(this,this),this},toString:function(){return this.fill()},attr:function(y,M,z){return y=="transform"&&(y="patternTransform"),i.Container.prototype.attr.call(this,y,M,z)}},construct:{pattern:function(y,M,z){return this.defs().pattern(y,M,z)}}}),i.extend(i.Defs,{pattern:function(y,M,z){return this.put(new i.Pattern).update(z).attr({x:0,y:0,width:y,height:M,patternUnits:"userSpaceOnUse"})}}),i.Shape=i.invent({create:function(y){this.constructor.call(this,y)},inherit:i.Element}),i.Symbol=i.invent({create:"symbol",inherit:i.Container,construct:{symbol:function(){return this.put(new i.Symbol)}}}),i.Use=i.invent({create:"use",inherit:i.Shape,extend:{element:function(y,M){return this.attr("href",(M||"")+"#"+y,i.xlink)}},construct:{use:function(y,M){return this.put(new i.Use).element(y,M)}}}),i.Rect=i.invent({create:"rect",inherit:i.Shape,construct:{rect:function(y,M){return this.put(new i.Rect).size(y,M)}}}),i.Circle=i.invent({create:"circle",inherit:i.Shape,construct:{circle:function(y){return this.put(new i.Circle).rx(new i.Number(y).divide(2)).move(0,0)}}}),i.extend(i.Circle,i.FX,{rx:function(y){return this.attr("r",y)},ry:function(y){return this.rx(y)}}),i.Ellipse=i.invent({create:"ellipse",inherit:i.Shape,construct:{ellipse:function(y,M){return this.put(new i.Ellipse).size(y,M).move(0,0)}}}),i.extend(i.Ellipse,i.Rect,i.FX,{rx:function(y){return this.attr("rx",y)},ry:function(y){return this.attr("ry",y)}}),i.extend(i.Circle,i.Ellipse,{x:function(y){return y==null?this.cx()-this.rx():this.cx(y+this.rx())},y:function(y){return y==null?this.cy()-this.ry():this.cy(y+this.ry())},cx:function(y){return y==null?this.attr("cx"):this.attr("cx",y)},cy:function(y){return y==null?this.attr("cy"):this.attr("cy",y)},width:function(y){return y==null?2*this.rx():this.rx(new i.Number(y).divide(2))},height:function(y){return y==null?2*this.ry():this.ry(new i.Number(y).divide(2))},size:function(y,M){var z=O(this,y,M);return this.rx(new i.Number(z.width).divide(2)).ry(new i.Number(z.height).divide(2))}}),i.Line=i.invent({create:"line",inherit:i.Shape,extend:{array:function(){return new i.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(y,M,z,V){return y==null?this.array():(y=M!==void 0?{x1:y,y1:M,x2:z,y2:V}:new i.PointArray(y).toLine(),this.attr(y))},move:function(y,M){return this.attr(this.array().move(y,M).toLine())},size:function(y,M){var z=O(this,y,M);return this.attr(this.array().size(z.width,z.height).toLine())}},construct:{line:function(y,M,z,V){return i.Line.prototype.plot.apply(this.put(new i.Line),y!=null?[y,M,z,V]:[0,0,0,0])}}}),i.Polyline=i.invent({create:"polyline",inherit:i.Shape,construct:{polyline:function(y){return this.put(new i.Polyline).plot(y||new i.PointArray)}}}),i.Polygon=i.invent({create:"polygon",inherit:i.Shape,construct:{polygon:function(y){return this.put(new i.Polygon).plot(y||new i.PointArray)}}}),i.extend(i.Polyline,i.Polygon,{array:function(){return this._array||(this._array=new i.PointArray(this.attr("points")))},plot:function(y){return y==null?this.array():this.clear().attr("points",typeof y=="string"?y:this._array=new i.PointArray(y))},clear:function(){return delete this._array,this},move:function(y,M){return this.attr("points",this.array().move(y,M))},size:function(y,M){var z=O(this,y,M);return this.attr("points",this.array().size(z.width,z.height))}}),i.extend(i.Line,i.Polyline,i.Polygon,{morphArray:i.PointArray,x:function(y){return y==null?this.bbox().x:this.move(y,this.bbox().y)},y:function(y){return y==null?this.bbox().y:this.move(this.bbox().x,y)},width:function(y){var M=this.bbox();return y==null?M.width:this.size(y,M.height)},height:function(y){var M=this.bbox();return y==null?M.height:this.size(M.width,y)}}),i.Path=i.invent({create:"path",inherit:i.Shape,extend:{morphArray:i.PathArray,array:function(){return this._array||(this._array=new i.PathArray(this.attr("d")))},plot:function(y){return y==null?this.array():this.clear().attr("d",typeof y=="string"?y:this._array=new i.PathArray(y))},clear:function(){return delete this._array,this}},construct:{path:function(y){return this.put(new i.Path).plot(y||new i.PathArray)}}}),i.Image=i.invent({create:"image",inherit:i.Shape,extend:{load:function(y){if(!y)return this;var M=this,z=new Y.Image;return i.on(z,"load",function(){i.off(z);var V=M.parent(i.Pattern);V!==null&&(M.width()==0&&M.height()==0&&M.size(z.width,z.height),V&&V.width()==0&&V.height()==0&&V.size(M.width(),M.height()),typeof M._loaded=="function"&&M._loaded.call(M,{width:z.width,height:z.height,ratio:z.width/z.height,url:y}))}),i.on(z,"error",function(V){i.off(z),typeof M._error=="function"&&M._error.call(M,V)}),this.attr("href",z.src=this.src=y,i.xlink)},loaded:function(y){return this._loaded=y,this},error:function(y){return this._error=y,this}},construct:{image:function(y,M,z){return this.put(new i.Image).load(y).size(M||0,z||M||0)}}}),i.Text=i.invent({create:function(){this.constructor.call(this,i.create("text")),this.dom.leading=new i.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",i.defaults.attrs["font-family"])},inherit:i.Shape,extend:{x:function(y){return y==null?this.attr("x"):this.attr("x",y)},text:function(y){if(y===void 0){y="";for(var M=this.node.childNodes,z=0,V=M.length;z<V;++z)z!=0&&M[z].nodeType!=3&&i.adopt(M[z]).dom.newLined==1&&(y+=`
`),y+=M[z].textContent;return y}if(this.clear().build(!0),typeof y=="function")y.call(this,this);else{z=0;for(var Q=(y=y.split(`
`)).length;z<Q;z++)this.tspan(y[z]).newLine()}return this.build(!1).rebuild()},size:function(y){return this.attr("font-size",y).rebuild()},leading:function(y){return y==null?this.dom.leading:(this.dom.leading=new i.Number(y),this.rebuild())},lines:function(){var y=(this.textPath&&this.textPath()||this).node,M=i.utils.map(i.utils.filterSVGElements(y.childNodes),function(z){return i.adopt(z)});return new i.Set(M)},rebuild:function(y){if(typeof y=="boolean"&&(this._rebuild=y),this._rebuild){var M=this,z=0,V=this.dom.leading*new i.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(M.textPath()||this.attr("x",M.attr("x")),this.text()==`
`?z+=V:(this.attr("dy",V+z),z=0))}),this.fire("rebuild")}return this},build:function(y){return this._build=!!y,this},setData:function(y){return this.dom=y,this.dom.leading=new i.Number(y.leading||1.3),this}},construct:{text:function(y){return this.put(new i.Text).text(y)},plain:function(y){return this.put(new i.Text).plain(y)}}}),i.Tspan=i.invent({create:"tspan",inherit:i.Shape,extend:{text:function(y){return y==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof y=="function"?y.call(this,this):this.plain(y),this)},dx:function(y){return this.attr("dx",y)},dy:function(y){return this.attr("dy",y)},newLine:function(){var y=this.parent(i.Text);return this.dom.newLined=!0,this.dy(y.dom.leading*y.attr("font-size")).attr("x",y.x())}}}),i.extend(i.Text,i.Tspan,{plain:function(y){return this._build===!1&&this.clear(),this.node.appendChild(n.createTextNode(y)),this},tspan:function(y){var M=(this.textPath&&this.textPath()||this).node,z=new i.Tspan;return this._build===!1&&this.clear(),M.appendChild(z.node),z.text(y)},clear:function(){for(var y=(this.textPath&&this.textPath()||this).node;y.hasChildNodes();)y.removeChild(y.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),i.TextPath=i.invent({create:"textPath",inherit:i.Parent,parent:i.Text,construct:{morphArray:i.PathArray,array:function(){var y=this.track();return y?y.array():null},plot:function(y){var M=this.track(),z=null;return M&&(z=M.plot(y)),y==null?z:this},track:function(){var y=this.textPath();if(y)return y.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return i.adopt(this.node.firstChild)}}}),i.Nested=i.invent({create:function(){this.constructor.call(this,i.create("svg")),this.style("overflow","visible")},inherit:i.Container,construct:{nested:function(){return this.put(new i.Nested)}}});var f={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(y,M){return M=="color"?y:y+"-"+M}};function g(y,M,z,V){return z+V.replace(i.regex.dots," .")}function v(y){return y.toLowerCase().replace(/-(.)/g,function(M,z){return z.toUpperCase()})}function S(y){return y.charAt(0).toUpperCase()+y.slice(1)}function C(y){var M=y.toString(16);return M.length==1?"0"+M:M}function O(y,M,z){if(M==null||z==null){var V=y.bbox();M==null?M=V.width/V.height*z:z==null&&(z=V.height/V.width*M)}return{width:M,height:z}}function L(y,M,z){return{x:M*y.a+z*y.c+0,y:M*y.b+z*y.d+0}}function _(y){return{a:y[0],b:y[1],c:y[2],d:y[3],e:y[4],f:y[5]}}function B(y){for(var M=y.childNodes.length-1;M>=0;M--)y.childNodes[M]instanceof Y.SVGElement&&B(y.childNodes[M]);return i.adopt(y).id(i.eid(y.nodeName))}function H(y){return Math.abs(y)>1e-37?y:0}["fill","stroke"].forEach(function(y){var M={};M[y]=function(z){if(z===void 0)return this;if(typeof z=="string"||i.Color.isRgb(z)||z&&typeof z.fill=="function")this.attr(y,z);else for(var V=f[y].length-1;V>=0;V--)z[f[y][V]]!=null&&this.attr(f.prefix(y,f[y][V]),z[f[y][V]]);return this},i.extend(i.Element,i.FX,M)}),i.extend(i.Element,i.FX,{translate:function(y,M){return this.transform({x:y,y:M})},matrix:function(y){return this.attr("transform",new i.Matrix(arguments.length==6?[].slice.call(arguments):y))},opacity:function(y){return this.attr("opacity",y)},dx:function(y){return this.x(new i.Number(y).plus(this instanceof i.FX?0:this.x()),!0)},dy:function(y){return this.y(new i.Number(y).plus(this instanceof i.FX?0:this.y()),!0)}}),i.extend(i.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(y){return this.node.getPointAtLength(y)}}),i.Set=i.invent({create:function(y){Array.isArray(y)?this.members=y:this.clear()},extend:{add:function(){for(var y=[].slice.call(arguments),M=0,z=y.length;M<z;M++)this.members.push(y[M]);return this},remove:function(y){var M=this.index(y);return M>-1&&this.members.splice(M,1),this},each:function(y){for(var M=0,z=this.members.length;M<z;M++)y.apply(this.members[M],[M,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(y){return this.index(y)>=0},index:function(y){return this.members.indexOf(y)},get:function(y){return this.members[y]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(y){return new i.Set(y)}}}),i.FX.Set=i.invent({create:function(y){this.set=y}}),i.Set.inherit=function(){var y=[];for(var M in i.Shape.prototype)typeof i.Shape.prototype[M]=="function"&&typeof i.Set.prototype[M]!="function"&&y.push(M);for(var M in y.forEach(function(V){i.Set.prototype[V]=function(){for(var Q=0,ee=this.members.length;Q<ee;Q++)this.members[Q]&&typeof this.members[Q][V]=="function"&&this.members[Q][V].apply(this.members[Q],arguments);return V=="animate"?this.fx||(this.fx=new i.FX.Set(this)):this}}),y=[],i.FX.prototype)typeof i.FX.prototype[M]=="function"&&typeof i.FX.Set.prototype[M]!="function"&&y.push(M);y.forEach(function(z){i.FX.Set.prototype[z]=function(){for(var V=0,Q=this.set.members.length;V<Q;V++)this.set.members[V].fx[z].apply(this.set.members[V].fx,arguments);return this}})},i.extend(i.Element,{}),i.extend(i.Element,{remember:function(y,M){if(o(arguments[0])==="object")for(var z in y)this.remember(z,y[z]);else{if(arguments.length==1)return this.memory()[y];this.memory()[y]=M}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var y=arguments.length-1;y>=0;y--)delete this.memory()[arguments[y]];return this},memory:function(){return this._memory||(this._memory={})}}),i.get=function(y){var M=n.getElementById(function(z){var V=(z||"").toString().match(i.regex.reference);if(V)return V[1]}(y)||y);return i.adopt(M)},i.select=function(y,M){return new i.Set(i.utils.map((M||n).querySelectorAll(y),function(z){return i.adopt(z)}))},i.extend(i.Parent,{select:function(y){return i.select(y,this.node)}});var $="abcdef".split("");if(typeof Y.CustomEvent!="function"){var J=function(y,M){M=M||{bubbles:!1,cancelable:!1,detail:void 0};var z=n.createEvent("CustomEvent");return z.initCustomEvent(y,M.bubbles,M.cancelable,M.detail),z};J.prototype=Y.Event.prototype,i.CustomEvent=J}else i.CustomEvent=Y.CustomEvent;return i},o(t)==="object"?a.exports=Ue.document?Be(Ue,Ue.document):function(Y){return Be(Y,Y.document)}:Ue.SVG=Be(Ue,Ue.document),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(h,f){return this.add(h,f),!h.attr("in")&&this.autoSetIn&&h.attr("in",this.source),h.attr("result")||h.attr("result",h),h},blend:function(h,f,g){return this.put(new SVG.BlendEffect(h,f,g))},colorMatrix:function(h,f){return this.put(new SVG.ColorMatrixEffect(h,f))},convolveMatrix:function(h){return this.put(new SVG.ConvolveMatrixEffect(h))},componentTransfer:function(h){return this.put(new SVG.ComponentTransferEffect(h))},composite:function(h,f,g){return this.put(new SVG.CompositeEffect(h,f,g))},flood:function(h,f){return this.put(new SVG.FloodEffect(h,f))},offset:function(h,f){return this.put(new SVG.OffsetEffect(h,f))},image:function(h){return this.put(new SVG.ImageEffect(h))},merge:function(){var h=[void 0];for(var f in arguments)h.push(arguments[f]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,h)))},gaussianBlur:function(h,f){return this.put(new SVG.GaussianBlurEffect(h,f))},morphology:function(h,f){return this.put(new SVG.MorphologyEffect(h,f))},diffuseLighting:function(h,f,g){return this.put(new SVG.DiffuseLightingEffect(h,f,g))},displacementMap:function(h,f,g,v,S){return this.put(new SVG.DisplacementMapEffect(h,f,g,v,S))},specularLighting:function(h,f,g,v){return this.put(new SVG.SpecularLightingEffect(h,f,g,v))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(h,f,g,v,S){return this.put(new SVG.TurbulenceEffect(h,f,g,v,S))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(h){var f=this.put(new SVG.Filter);return typeof h=="function"&&h.call(f,f),f}}),SVG.extend(SVG.Container,{filter:function(h){return this.defs().filter(h)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(h){return this.filterer=h instanceof SVG.Element?h:this.doc().filter(h),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(h){return this.filterer&&h===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(h){return h==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",h)},result:function(h){return h==null?this.attr("result"):this.attr("result",h)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(h){return h==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",h)},result:function(h){return h==null?this.attr("result"):this.attr("result",h)},toString:function(){return this.result()}}});var Y={blend:function(h,f){return this.parent()&&this.parent().blend(this,h,f)},colorMatrix:function(h,f){return this.parent()&&this.parent().colorMatrix(h,f).in(this)},convolveMatrix:function(h){return this.parent()&&this.parent().convolveMatrix(h).in(this)},componentTransfer:function(h){return this.parent()&&this.parent().componentTransfer(h).in(this)},composite:function(h,f){return this.parent()&&this.parent().composite(this,h,f)},flood:function(h,f){return this.parent()&&this.parent().flood(h,f)},offset:function(h,f){return this.parent()&&this.parent().offset(h,f).in(this)},image:function(h){return this.parent()&&this.parent().image(h)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(h,f){return this.parent()&&this.parent().gaussianBlur(h,f).in(this)},morphology:function(h,f){return this.parent()&&this.parent().morphology(h,f).in(this)},diffuseLighting:function(h,f,g){return this.parent()&&this.parent().diffuseLighting(h,f,g).in(this)},displacementMap:function(h,f,g,v){return this.parent()&&this.parent().displacementMap(this,h,f,g,v)},specularLighting:function(h,f,g,v){return this.parent()&&this.parent().specularLighting(h,f,g,v).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(h,f,g,v,S){return this.parent()&&this.parent().turbulence(h,f,g,v,S).in(this)}};SVG.extend(SVG.Effect,Y),SVG.extend(SVG.ParentEffect,Y),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(h){this.attr("in",h)}}});var n={blend:function(h,f,g){this.attr({in:h,in2:f,mode:g||"normal"})},colorMatrix:function(h,f){h=="matrix"&&(f=l(f)),this.attr({type:h,values:f===void 0?null:f})},convolveMatrix:function(h){h=l(h),this.attr({order:Math.sqrt(h.split(" ").length),kernelMatrix:h})},composite:function(h,f,g){this.attr({in:h,in2:f,operator:g})},flood:function(h,f){this.attr("flood-color",h),f!=null&&this.attr("flood-opacity",f)},offset:function(h,f){this.attr({dx:h,dy:f})},image:function(h){this.attr("href",h,SVG.xlink)},displacementMap:function(h,f,g,v,S){this.attr({in:h,in2:f,scale:g,xChannelSelector:v,yChannelSelector:S})},gaussianBlur:function(h,f){h!=null||f!=null?this.attr("stdDeviation",function(g){if(!Array.isArray(g))return g;for(var v=0,S=g.length,C=[];v<S;v++)C.push(g[v]);return C.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(h,f){this.attr({operator:h,radius:f})},tile:function(){},turbulence:function(h,f,g,v,S){this.attr({numOctaves:f,seed:g,stitchTiles:v,baseFrequency:h,type:S})}},i={merge:function(){var h;if(arguments[0]instanceof SVG.Set){var f=this;arguments[0].each(function(v){this instanceof SVG.MergeNode?f.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&f.put(new SVG.MergeNode(this))})}else{h=Array.isArray(arguments[0])?arguments[0]:arguments;for(var g=0;g<h.length;g++)h[g]instanceof SVG.MergeNode?this.put(h[g]):this.put(new SVG.MergeNode(h[g]))}},componentTransfer:function(h){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(g){this[g]=new SVG["Func"+g.toUpperCase()]("identity"),this.rgb.add(this[g]),this.node.appendChild(this[g].node)}.bind(this)),h)for(var f in h.rgb&&(["r","g","b"].forEach(function(g){this[g].attr(h.rgb)}.bind(this)),delete h.rgb),h)this[f].attr(h[f])},diffuseLighting:function(h,f,g){this.attr({surfaceScale:h,diffuseConstant:f,kernelUnitLength:g})},specularLighting:function(h,f,g,v){this.attr({surfaceScale:h,diffuseConstant:f,specularExponent:g,kernelUnitLength:v})}},s={distantLight:function(h,f){this.attr({azimuth:h,elevation:f})},pointLight:function(h,f,g){this.attr({x:h,y:f,z:g})},spotLight:function(h,f,g,v,S,C){this.attr({x:h,y:f,z:g,pointsAtX:v,pointsAtY:S,pointsAtZ:C})},mergeNode:function(h){this.attr("in",h)}};function l(h){return Array.isArray(h)&&(h=new SVG.Array(h)),h.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function u(){var h=function(){};for(var f in typeof arguments[arguments.length-1]=="function"&&(h=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var g in arguments[f])h(arguments[f][g],g,arguments[f])}["r","g","b","a"].forEach(function(h){s["Func"+h.toUpperCase()]=function(f){switch(this.attr("type",f),f){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),u(n,function(h,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),h.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),u(i,function(h,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),h.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),u(s,function(h,f){var g=f.charAt(0).toUpperCase()+f.slice(1);SVG[g]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+g)),h.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(h){return h instanceof SVG.MergeNode?this.add(h,0):this.add(new SVG.MergeNode(h),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(h){return h==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",h)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function Y(u,h,f,g,v,S,C){for(var O=u.slice(h,f||C),L=g.slice(v,S||C),_=0,B={pos:[0,0],start:[0,0]},H={pos:[0,0],start:[0,0]};O[_]=n.call(B,O[_]),L[_]=n.call(H,L[_]),O[_][0]!=L[_][0]||O[_][0]=="M"||O[_][0]=="A"&&(O[_][4]!=L[_][4]||O[_][5]!=L[_][5])?(Array.prototype.splice.apply(O,[_,1].concat(s.call(B,O[_]))),Array.prototype.splice.apply(L,[_,1].concat(s.call(H,L[_])))):(O[_]=i.call(B,O[_]),L[_]=i.call(H,L[_])),!(++_==O.length&&_==L.length);)_==O.length&&O.push(["C",B.pos[0],B.pos[1],B.pos[0],B.pos[1],B.pos[0],B.pos[1]]),_==L.length&&L.push(["C",H.pos[0],H.pos[1],H.pos[0],H.pos[1],H.pos[0],H.pos[1]]);return{start:O,dest:L}}function n(u){switch(u[0]){case"z":case"Z":u[0]="L",u[1]=this.start[0],u[2]=this.start[1];break;case"H":u[0]="L",u[2]=this.pos[1];break;case"V":u[0]="L",u[2]=u[1],u[1]=this.pos[0];break;case"T":u[0]="Q",u[3]=u[1],u[4]=u[2],u[1]=this.reflection[1],u[2]=this.reflection[0];break;case"S":u[0]="C",u[6]=u[4],u[5]=u[3],u[4]=u[2],u[3]=u[1],u[2]=this.reflection[1],u[1]=this.reflection[0]}return u}function i(u){var h=u.length;return this.pos=[u[h-2],u[h-1]],"SCQT".indexOf(u[0])!=-1&&(this.reflection=[2*this.pos[0]-u[h-4],2*this.pos[1]-u[h-3]]),u}function s(u){var h=[u];switch(u[0]){case"M":return this.pos=this.start=[u[1],u[2]],h;case"L":u[5]=u[3]=u[1],u[6]=u[4]=u[2],u[1]=this.pos[0],u[2]=this.pos[1];break;case"Q":u[6]=u[4],u[5]=u[3],u[4]=1*u[4]/3+2*u[2]/3,u[3]=1*u[3]/3+2*u[1]/3,u[2]=1*this.pos[1]/3+2*u[2]/3,u[1]=1*this.pos[0]/3+2*u[1]/3;break;case"A":h=function(f,g){var v,S,C,O,L,_,B,H,$,J,y,M,z,V,Q,ee,ue,he,ke,Ce,Te,Ne,Ge,nt,rt,st,St=Math.abs(g[1]),yt=Math.abs(g[2]),Tt=g[3]%360,xi=g[4],Zn=g[5],Pa=g[6],La=g[7],Vt=new SVG.Point(f),Nt=new SVG.Point(Pa,La),co=[];if(St===0||yt===0||Vt.x===Nt.x&&Vt.y===Nt.y)return[["C",Vt.x,Vt.y,Nt.x,Nt.y,Nt.x,Nt.y]];for(v=new SVG.Point((Vt.x-Nt.x)/2,(Vt.y-Nt.y)/2).transform(new SVG.Matrix().rotate(Tt)),(S=v.x*v.x/(St*St)+v.y*v.y/(yt*yt))>1&&(St*=S=Math.sqrt(S),yt*=S),C=new SVG.Matrix().rotate(Tt).scale(1/St,1/yt).rotate(-Tt),Vt=Vt.transform(C),Nt=Nt.transform(C),O=[Nt.x-Vt.x,Nt.y-Vt.y],_=O[0]*O[0]+O[1]*O[1],L=Math.sqrt(_),O[0]/=L,O[1]/=L,B=_<4?Math.sqrt(1-_/4):0,xi===Zn&&(B*=-1),H=new SVG.Point((Nt.x+Vt.x)/2+B*-O[1],(Nt.y+Vt.y)/2+B*O[0]),$=new SVG.Point(Vt.x-H.x,Vt.y-H.y),J=new SVG.Point(Nt.x-H.x,Nt.y-H.y),y=Math.acos($.x/Math.sqrt($.x*$.x+$.y*$.y)),$.y<0&&(y*=-1),M=Math.acos(J.x/Math.sqrt(J.x*J.x+J.y*J.y)),J.y<0&&(M*=-1),Zn&&y>M&&(M+=2*Math.PI),!Zn&&y<M&&(M-=2*Math.PI),V=Math.ceil(2*Math.abs(y-M)/Math.PI),ee=[],ue=y,z=(M-y)/V,Q=4*Math.tan(z/4)/3,Te=0;Te<=V;Te++)ke=Math.cos(ue),he=Math.sin(ue),Ce=new SVG.Point(H.x+ke,H.y+he),ee[Te]=[new SVG.Point(Ce.x+Q*he,Ce.y-Q*ke),Ce,new SVG.Point(Ce.x-Q*he,Ce.y+Q*ke)],ue+=z;for(ee[0][0]=ee[0][1].clone(),ee[ee.length-1][2]=ee[ee.length-1][1].clone(),C=new SVG.Matrix().rotate(Tt).scale(St,yt).rotate(-Tt),Te=0,Ne=ee.length;Te<Ne;Te++)ee[Te][0]=ee[Te][0].transform(C),ee[Te][1]=ee[Te][1].transform(C),ee[Te][2]=ee[Te][2].transform(C);for(Te=1,Ne=ee.length;Te<Ne;Te++)Ge=(Ce=ee[Te-1][2]).x,nt=Ce.y,rt=(Ce=ee[Te][0]).x,st=Ce.y,Pa=(Ce=ee[Te][1]).x,La=Ce.y,co.push(["C",Ge,nt,rt,st,Pa,La]);return co}(this.pos,u),u=h[0]}return u[0]="C",this.pos=[u[5],u[6]],this.reflection=[2*u[5]-u[3],2*u[6]-u[4]],h}function l(u,h){if(h===!1)return!1;for(var f=h,g=u.length;f<g;++f)if(u[f][0]=="M")return f;return!1}SVG.extend(SVG.PathArray,{morph:function(u){for(var h=this.value,f=this.parse(u),g=0,v=0,S=!1,C=!1;g!==!1||v!==!1;){var O;S=l(h,g!==!1&&g+1),C=l(f,v!==!1&&v+1),g===!1&&(g=(O=new SVG.PathArray(L.start).bbox()).height==0||O.width==0?h.push(h[0])-1:h.push(["M",O.x+O.width/2,O.y+O.height/2])-1),v===!1&&(v=(O=new SVG.PathArray(L.dest).bbox()).height==0||O.width==0?f.push(f[0])-1:f.push(["M",O.x+O.width/2,O.y+O.height/2])-1);var L=Y(h,g,S,f,v,C);h=h.slice(0,g).concat(L.start,S===!1?[]:h.slice(S)),f=f.slice(0,v).concat(L.dest,C===!1?[]:f.slice(C)),g=S!==!1&&g+L.start.length,v=C!==!1&&v+L.dest.length}return this.value=h,this.destination=new SVG.PathArray,this.destination.value=f,this}})}(),function(){function Y(n){n.remember("_draggable",this),this.el=n}Y.prototype.init=function(n,i){var s=this;this.constraint=n,this.value=i,this.el.on("mousedown.drag",function(l){s.start(l)}),this.el.on("touchstart.drag",function(l){s.start(l)})},Y.prototype.transformPoint=function(n,i){var s=(n=n||window.event).changedTouches&&n.changedTouches[0]||n;return this.p.x=s.clientX-(i||0),this.p.y=s.clientY,this.p.matrixTransform(this.m)},Y.prototype.getBBox=function(){var n=this.el.bbox();return this.el instanceof SVG.Nested&&(n=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(n.x=this.el.x(),n.y=this.el.y()),n},Y.prototype.start=function(n){if(n.type!="click"&&n.type!="mousedown"&&n.type!="mousemove"||(n.which||n.buttons)==1){var i=this;if(this.el.fire("beforedrag",{event:n,handler:this}),!this.el.event().defaultPrevented){n.preventDefault(),n.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var s,l=this.getBBox();if(this.el instanceof SVG.Text)switch(s=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":s/=2;break;case"start":s=0}this.startPoints={point:this.transformPoint(n,s),box:l,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(u){i.drag(u)}),SVG.on(window,"touchmove.drag",function(u){i.drag(u)}),SVG.on(window,"mouseup.drag",function(u){i.end(u)}),SVG.on(window,"touchend.drag",function(u){i.end(u)}),this.el.fire("dragstart",{event:n,p:this.startPoints.point,m:this.m,handler:this})}}},Y.prototype.drag=function(n){var i=this.getBBox(),s=this.transformPoint(n),l=this.startPoints.box.x+s.x-this.startPoints.point.x,u=this.startPoints.box.y+s.y-this.startPoints.point.y,h=this.constraint,f=s.x-this.startPoints.point.x,g=s.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:n,p:s,m:this.m,handler:this}),this.el.event().defaultPrevented)return s;if(typeof h=="function"){var v=h.call(this.el,l,u,this.m);typeof v=="boolean"&&(v={x:v,y:v}),v.x===!0?this.el.x(l):v.x!==!1&&this.el.x(v.x),v.y===!0?this.el.y(u):v.y!==!1&&this.el.y(v.y)}else typeof h=="object"&&(h.minX!=null&&l<h.minX?f=(l=h.minX)-this.startPoints.box.x:h.maxX!=null&&l>h.maxX-i.width&&(f=(l=h.maxX-i.width)-this.startPoints.box.x),h.minY!=null&&u<h.minY?g=(u=h.minY)-this.startPoints.box.y:h.maxY!=null&&u>h.maxY-i.height&&(g=(u=h.maxY-i.height)-this.startPoints.box.y),h.snapToGrid!=null&&(l-=l%h.snapToGrid,u-=u%h.snapToGrid,f-=f%h.snapToGrid,g-=g%h.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:f,y:g},!0):this.el.move(l,u));return s},Y.prototype.end=function(n){var i=this.drag(n);this.el.fire("dragend",{event:n,p:i,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(n,i){typeof n!="function"&&typeof n!="object"||(i=n,n=!0);var s=this.remember("_draggable")||new Y(this);return(n=n===void 0||n)?s.init(i||{},n):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function Y(n){this.el=n,n.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(i,s,l){var u=typeof i!="string"?i:s[i];return l?u/2:u},this.pointCoords=function(i,s){var l=this.pointsList[i];return{x:this.pointCoord(l[0],s,i==="t"||i==="b"),y:this.pointCoord(l[1],s,i==="r"||i==="l")}}}Y.prototype.init=function(n,i){var s=this.el.bbox();this.options={};var l=this.el.selectize.defaults.points;for(var u in this.el.selectize.defaults)this.options[u]=this.el.selectize.defaults[u],i[u]!==void 0&&(this.options[u]=i[u]);var h=["points","pointsExclude"];for(var u in h){var f=this.options[h[u]];typeof f=="string"?f=f.length>0?f.split(/\s*,\s*/i):[]:typeof f=="boolean"&&h[u]==="points"&&(f=f?l:[]),this.options[h[u]]=f}this.options.points=[l,this.options.points].reduce(function(g,v){return g.filter(function(S){return v.indexOf(S)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(g,v){return g.filter(function(S){return v.indexOf(S)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(s.x,s.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(n):this.selectRect(n),this.observe(),this.cleanup()},Y.prototype.selectPoints=function(n){return this.pointSelection.isSelected=n,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},Y.prototype.getPointArray=function(){var n=this.el.bbox();return this.el.array().valueOf().map(function(i){return[i[0]-n.x,i[1]-n.y]})},Y.prototype.drawPoints=function(){for(var n=this,i=this.getPointArray(),s=0,l=i.length;s<l;++s){var u=function(f){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var v=g.pageX||g.touches[0].pageX,S=g.pageY||g.touches[0].pageY;n.el.fire("point",{x:v,y:S,i:f,event:g})}}(s),h=this.drawPoint(i[s][0],i[s][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",u).on("mousedown",u);this.pointSelection.set.add(h)}},Y.prototype.drawPoint=function(n,i){var s=this.options.pointType;switch(s){case"circle":return this.drawCircle(n,i);case"rect":return this.drawRect(n,i);default:if(typeof s=="function")return s.call(this,n,i);throw new Error("Unknown "+s+" point type!")}},Y.prototype.drawCircle=function(n,i){return this.nested.circle(this.options.pointSize).center(n,i)},Y.prototype.drawRect=function(n,i){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(n,i)},Y.prototype.updatePointSelection=function(){var n=this.getPointArray();this.pointSelection.set.each(function(i){this.cx()===n[i][0]&&this.cy()===n[i][1]||this.center(n[i][0],n[i][1])})},Y.prototype.updateRectSelection=function(){var n=this,i=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:i.width,height:i.height}),this.options.points.length&&this.options.points.map(function(l,u){var h=n.pointCoords(l,i);n.rectSelection.set.get(u+1).center(h.x,h.y)}),this.options.rotationPoint){var s=this.rectSelection.set.length();this.rectSelection.set.get(s-1).center(i.width/2,20)}},Y.prototype.selectRect=function(n){var i=this,s=this.el.bbox();function l(f){return function(g){(g=g||window.event).preventDefault?g.preventDefault():g.returnValue=!1,g.stopPropagation();var v=g.pageX||g.touches[0].pageX,S=g.pageY||g.touches[0].pageY;i.el.fire(f,{x:v,y:S,event:g})}}if(this.rectSelection.isSelected=n,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(s.width,s.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(f,g){var v=i.pointCoords(f,s),S=i.drawPoint(v.x,v.y).attr("class",i.options.classPoints+"_"+f).on("mousedown",l(f)).on("touchstart",l(f));i.rectSelection.set.add(S)}),this.rectSelection.set.each(function(){this.addClass(i.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var u=function(f){(f=f||window.event).preventDefault?f.preventDefault():f.returnValue=!1,f.stopPropagation();var g=f.pageX||f.touches[0].pageX,v=f.pageY||f.touches[0].pageY;i.el.fire("rot",{x:g,y:v,event:f})},h=this.drawPoint(s.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",u).on("mousedown",u);this.rectSelection.set.add(h)}},Y.prototype.handler=function(){var n=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},Y.prototype.observe=function(){var n=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){n.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){n.handler()})},Y.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(n,i){return typeof n=="object"&&(i=n,n=!0),(this.remember("_selectHandler")||new Y(this)).init(n===void 0||n,i||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function Y(n){n.remember("_resizeHandler",this),this.el=n,this.parameters={},this.lastUpdateCall=null,this.p=n.doc().node.createSVGPoint()}Y.prototype.transformPoint=function(n,i,s){return this.p.x=n-(this.offset.x-window.pageXOffset),this.p.y=i-(this.offset.y-window.pageYOffset),this.p.matrixTransform(s||this.m)},Y.prototype._extractPosition=function(n){return{x:n.clientX!=null?n.clientX:n.touches[0].clientX,y:n.clientY!=null?n.clientY:n.touches[0].clientY}},Y.prototype.init=function(n){var i=this;if(this.stop(),n!=="stop"){for(var s in this.options={},this.el.resize.defaults)this.options[s]=this.el.resize.defaults[s],n[s]!==void 0&&(this.options[s]=n[s]);this.el.on("lt.resize",function(l){i.resize(l||window.event)}),this.el.on("rt.resize",function(l){i.resize(l||window.event)}),this.el.on("rb.resize",function(l){i.resize(l||window.event)}),this.el.on("lb.resize",function(l){i.resize(l||window.event)}),this.el.on("t.resize",function(l){i.resize(l||window.event)}),this.el.on("r.resize",function(l){i.resize(l||window.event)}),this.el.on("b.resize",function(l){i.resize(l||window.event)}),this.el.on("l.resize",function(l){i.resize(l||window.event)}),this.el.on("rot.resize",function(l){i.resize(l||window.event)}),this.el.on("point.resize",function(l){i.resize(l||window.event)}),this.update()}},Y.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},Y.prototype.resize=function(n){var i=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var s=this._extractPosition(n.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(s.x,s.y),x:n.detail.x,y:n.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),n.detail.i!==void 0){var l=this.el.array().valueOf();this.parameters.i=n.detail.i,this.parameters.pointCoords=[l[n.detail.i][0],l[n.detail.i][1]]}switch(n.type){case"lt":this.calc=function(u,h){var f=this.snapToGrid(u,h);if(this.parameters.box.width-f[0]>0&&this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-f[0]);f=this.checkAspectRatio(f),this.el.move(this.parameters.box.x+f[0],this.parameters.box.y+f[1]).size(this.parameters.box.width-f[0],this.parameters.box.height-f[1])}};break;case"rt":this.calc=function(u,h){var f=this.snapToGrid(u,h,2);if(this.parameters.box.width+f[0]>0&&this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+f[0]);f=this.checkAspectRatio(f,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+f[1]).size(this.parameters.box.width+f[0],this.parameters.box.height-f[1])}};break;case"rb":this.calc=function(u,h){var f=this.snapToGrid(u,h,0);if(this.parameters.box.width+f[0]>0&&this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+f[0]);f=this.checkAspectRatio(f),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+f[0],this.parameters.box.height+f[1])}};break;case"lb":this.calc=function(u,h){var f=this.snapToGrid(u,h,1);if(this.parameters.box.width-f[0]>0&&this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+f[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-f[0]);f=this.checkAspectRatio(f,!0),this.el.move(this.parameters.box.x+f[0],this.parameters.box.y).size(this.parameters.box.width-f[0],this.parameters.box.height+f[1])}};break;case"t":this.calc=function(u,h){var f=this.snapToGrid(u,h,2);if(this.parameters.box.height-f[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+f[1]).height(this.parameters.box.height-f[1])}};break;case"r":this.calc=function(u,h){var f=this.snapToGrid(u,h,0);if(this.parameters.box.width+f[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+f[0])}};break;case"b":this.calc=function(u,h){var f=this.snapToGrid(u,h,0);if(this.parameters.box.height+f[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+f[1])}};break;case"l":this.calc=function(u,h){var f=this.snapToGrid(u,h,1);if(this.parameters.box.width-f[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+f[0],this.parameters.box.y).width(this.parameters.box.width-f[0])}};break;case"rot":this.calc=function(u,h){var f=u+this.parameters.p.x,g=h+this.parameters.p.y,v=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),S=Math.atan2(g-this.parameters.box.y-this.parameters.box.height/2,f-this.parameters.box.x-this.parameters.box.width/2),C=this.parameters.rotation+180*(S-v)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(C-C%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(u,h){var f=this.snapToGrid(u,h,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),g=this.el.array().valueOf();g[this.parameters.i][0]=this.parameters.pointCoords[0]+f[0],g[this.parameters.i][1]=this.parameters.pointCoords[1]+f[1],this.el.plot(g)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:n}),SVG.on(window,"touchmove.resize",function(u){i.update(u||window.event)}),SVG.on(window,"touchend.resize",function(){i.done()}),SVG.on(window,"mousemove.resize",function(u){i.update(u||window.event)}),SVG.on(window,"mouseup.resize",function(){i.done()})},Y.prototype.update=function(n){if(n){var i=this._extractPosition(n),s=this.transformPoint(i.x,i.y),l=s.x-this.parameters.p.x,u=s.y-this.parameters.p.y;this.lastUpdateCall=[l,u],this.calc(l,u),this.el.fire("resizing",{dx:l,dy:u,event:n})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},Y.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},Y.prototype.snapToGrid=function(n,i,s,l){var u;return l!==void 0?u=[(s+n)%this.options.snapToGrid,(l+i)%this.options.snapToGrid]:(s=s==null?3:s,u=[(this.parameters.box.x+n+(1&s?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+i+(2&s?0:this.parameters.box.height))%this.options.snapToGrid]),n<0&&(u[0]-=this.options.snapToGrid),i<0&&(u[1]-=this.options.snapToGrid),n-=Math.abs(u[0])<this.options.snapToGrid/2?u[0]:u[0]-(n<0?-this.options.snapToGrid:this.options.snapToGrid),i-=Math.abs(u[1])<this.options.snapToGrid/2?u[1]:u[1]-(i<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(n,i,s,l)},Y.prototype.constraintToBox=function(n,i,s,l){var u,h,f=this.options.constraint||{};return l!==void 0?(u=s,h=l):(u=this.parameters.box.x+(1&s?0:this.parameters.box.width),h=this.parameters.box.y+(2&s?0:this.parameters.box.height)),f.minX!==void 0&&u+n<f.minX&&(n=f.minX-u),f.maxX!==void 0&&u+n>f.maxX&&(n=f.maxX-u),f.minY!==void 0&&h+i<f.minY&&(i=f.minY-h),f.maxY!==void 0&&h+i>f.maxY&&(i=f.maxY-h),[n,i]},Y.prototype.checkAspectRatio=function(n,i){if(!this.options.saveAspectRatio)return n;var s=n.slice(),l=this.parameters.box.width/this.parameters.box.height,u=this.parameters.box.width+n[0],h=this.parameters.box.height-n[1],f=u/h;return f<l?(s[1]=u/l-this.parameters.box.height,i&&(s[1]=-s[1])):f>l&&(s[0]=this.parameters.box.width-h*l,i&&(s[0]=-s[0])),s},SVG.extend(SVG.Element,{resize:function(n){return(this.remember("_resizeHandler")||new Y(this)).init(n||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var En=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new F(this.ctx),this.ctx.axes=new dt(this.ctx),this.ctx.core=new Ft(this.ctx.el,this.ctx),this.ctx.config=new fe({}),this.ctx.data=new de(this.ctx),this.ctx.grid=new ze(this.ctx),this.ctx.graphics=new R(this.ctx),this.ctx.coreUtils=new G(this.ctx),this.ctx.crosshairs=new Se(this.ctx),this.ctx.events=new at(this.ctx),this.ctx.exports=new be(this.ctx),this.ctx.localization=new kt(this.ctx),this.ctx.options=new j,this.ctx.responsive=new Ae(this.ctx),this.ctx.series=new re(this.ctx),this.ctx.theme=new Ie(this.ctx),this.ctx.formatters=new oe(this.ctx),this.ctx.titleSubtitle=new Re(this.ctx),this.ctx.legend=new ut(this.ctx),this.ctx.toolbar=new Un(this.ctx),this.ctx.tooltip=new yi(this.ctx),this.ctx.dimensions=new bt(this.ctx),this.ctx.updateHelpers=new $n(this.ctx),this.ctx.zoomPanSelection=new ft(this.ctx),this.ctx.w.globals.tooltip=new yi(this.ctx)}}]),Y}(),br=function(){function Y(n){c(this,Y),this.ctx=n,this.w=n.w}return p(Y,[{key:"clear",value:function(n){var i=n.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:i})}},{key:"killSVG",value:function(n){n.each(function(i,s){this.removeClass("*"),this.off(),this.stop()},!0),n.ungroup(),n.clear()}},{key:"clearDomElements",value:function(n){var i=this,s=n.isUpdating,l=this.w.globals.dom.Paper.node;l.parentNode&&l.parentNode.parentNode&&!s&&(l.parentNode.parentNode.style.minHeight="unset");var u=this.w.globals.dom.baseEl;u&&this.ctx.eventList.forEach(function(f){u.removeEventListener(f,i.ctx.events.documentEvent)});var h=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(h.Paper),h.Paper.remove(),h.elWrap=null,h.elGraphical=null,h.elLegendWrap=null,h.elLegendForeign=null,h.baseEl=null,h.elGridRect=null,h.elGridRectMask=null,h.elGridRectMarkerMask=null,h.elForecastMask=null,h.elNonForecastMask=null,h.elDefs=null}}]),Y}(),Kn=new WeakMap,Ta=function(){function Y(n,i){c(this,Y),this.opts=i,this.ctx=this,this.w=new K(i).init(),this.el=n,this.w.globals.cuid=E.randomId(),this.w.globals.chartID=this.w.config.chart.id?E.escapeString(this.w.config.chart.id):this.w.globals.cuid,new En(this).initModules(),this.create=E.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return p(Y,[{key:"render",value:function(){var n=this;return new Promise(function(i,s){if(n.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),n.w.config.chart.id&&Apex._chartInstances.push({id:n.w.globals.chartID,group:n.w.config.chart.group,chart:n}),n.setLocale(n.w.config.chart.defaultLocale);var l=n.w.config.chart.events.beforeMount;if(typeof l=="function"&&l(n,n.w),n.events.fireEvent("beforeMount",[n,n.w]),window.addEventListener("resize",n.windowResizeHandler),function(S,C){var O=!1;if(S.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var L=S.getBoundingClientRect();S.style.display!=="none"&&L.width!==0||(O=!0)}var _=new ResizeObserver(function(B){O&&C.call(S,B),O=!0});S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(S.children).forEach(function(B){return _.observe(B)}):_.observe(S),Kn.set(C,_)}(n.el.parentNode,n.parentResizeHandler),!n.css){var u=n.el.getRootNode&&n.el.getRootNode(),h=E.is("ShadowRoot",u),f=n.el.ownerDocument,g=f.getElementById("apexcharts-css");!h&&g||(n.css=document.createElement("style"),n.css.id="apexcharts-css",n.css.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  opacity: 0
}

.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}
`,h?u.prepend(n.css):f.head.appendChild(n.css))}var v=n.create(n.w.config.series,{});if(!v)return i(n);n.mount(v).then(function(){typeof n.w.config.chart.events.mounted=="function"&&n.w.config.chart.events.mounted(n,n.w),n.events.fireEvent("mounted",[n,n.w]),i(v)}).catch(function(S){s(S)})}else s(new Error("Element not found"))})}},{key:"create",value:function(n,i){var s=this.w;new En(this).initModules();var l=this.w.globals;if(l.noData=!1,l.animationEnded=!1,this.responsive.checkResponsiveConfig(i),s.config.xaxis.convertedCatToNumeric&&new Ee(s.config).convertCatToNumericXaxis(s.config,this.ctx),this.el===null||(this.core.setupElements(),s.config.chart.type==="treemap"&&(s.config.grid.show=!1,s.config.yaxis[0].show=!1),l.svgWidth===0))return l.animationEnded=!0,null;var u=G.checkComboSeries(n);l.comboCharts=u.comboCharts,l.comboBarCount=u.comboBarCount;var h=n.every(function(S){return S.data&&S.data.length===0});(n.length===0||h)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(n),this.theme.init(),new le(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),l.noData&&l.collapsedSeries.length!==l.series.length&&!s.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),l.axisCharts&&(this.core.coreCalculations(),s.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=s.globals.minX,this.ctx.toolbar.maxX=s.globals.maxX),this.formatters.heatmapLabelFormatters(),new G(this).getLargestMarkerSize(),this.dimensions.plotCoords();var f=this.core.xySettings();this.grid.createGridMask();var g=this.core.plotChartType(n,f),v=new pe(this);return v.bringForward(),s.config.dataLabels.background.enabled&&v.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:g,xyRatios:f,dimensions:{plot:{left:s.globals.translateX,top:s.globals.translateY,width:s.globals.gridWidth,height:s.globals.gridHeight}}}}},{key:"mount",value:function(){var n=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,s=this,l=s.w;return new Promise(function(u,h){if(s.el===null)return h(new Error("Not enough data to display or target element not found"));(i===null||l.globals.allSeriesCollapsed)&&s.series.handleNoData(),s.grid=new ze(s);var f=s.grid.drawGrid();if(s.annotations=new Z(s),s.annotations.drawImageAnnos(),s.annotations.drawTextAnnos(),l.config.grid.position==="back"&&f&&l.globals.dom.elGraphical.add(f.el),Array.isArray(i.elGraph))for(var g=0;g<i.elGraph.length;g++)l.globals.dom.elGraphical.add(i.elGraph[g]);else l.globals.dom.elGraphical.add(i.elGraph);l.config.grid.position==="front"&&f&&l.globals.dom.elGraphical.add(f.el),f&&f.elGridBorders&&f.elGridBorders.node&&l.globals.dom.elGraphical.add(f.elGridBorders),l.config.xaxis.crosshairs.position==="front"&&s.crosshairs.drawXCrosshairs(),l.config.yaxis[0].crosshairs.position==="front"&&s.crosshairs.drawYCrosshairs(),l.config.chart.type!=="treemap"&&s.axes.drawAxis(l.config.chart.type,f);var v=new Oe(n.ctx,f),S=new Qe(n.ctx,f);if(f!==null&&(v.xAxisLabelCorrections(f.xAxisTickWidth),S.setYAxisTextAlignments(),l.config.yaxis.map(function(O,L){l.globals.ignoreYAxisIndexes.indexOf(L)===-1&&S.yAxisTitleRotate(L,O.opposite)})),s.annotations.drawAxesAnnotations(),!l.globals.noData){if(l.config.tooltip.enabled&&!l.globals.noData&&s.w.globals.tooltip.drawTooltip(i.xyRatios),l.globals.axisCharts&&(l.globals.isXNumeric||l.config.xaxis.convertedCatToNumeric||l.globals.isRangeBar))(l.config.chart.zoom.enabled||l.config.chart.selection&&l.config.chart.selection.enabled||l.config.chart.pan&&l.config.chart.pan.enabled)&&s.zoomPanSelection.init({xyRatios:i.xyRatios});else{var C=l.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(O){C[O]=!1})}l.config.chart.toolbar.show&&!l.globals.allSeriesCollapsed&&s.toolbar.createToolbar()}l.globals.memory.methodsToExec.length>0&&l.globals.memory.methodsToExec.forEach(function(O){O.method(O.params,!1,O.context)}),l.globals.axisCharts||l.globals.noData||s.core.resizeNonAxisCharts(),u(s)})}},{key:"destroy",value:function(){var n,i;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,n=this.parentResizeHandler,(i=Kn.get(n))&&(i.disconnect(),Kn.delete(n));var s=this.w.config.chart.id;s&&Apex._chartInstances.forEach(function(l,u){l.id===E.escapeString(s)&&Apex._chartInstances.splice(u,1)}),new br(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(n){var i=this,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],f=this.w;return f.globals.selection=void 0,n.series&&(this.series.resetSeries(!1,!0,!1),n.series.length&&n.series[0].data&&(n.series=n.series.map(function(g,v){return i.updateHelpers._extendSeries(g,v)})),this.updateHelpers.revertDefaultAxisMinMax()),n.xaxis&&(n=this.updateHelpers.forceXAxisUpdate(n)),n.yaxis&&(n=this.updateHelpers.forceYAxisUpdate(n)),f.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),n.theme&&(n=this.theme.updateThemeOptions(n)),this.updateHelpers._updateOptions(n,s,l,u,h)}},{key:"updateSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(n,i,s)}},{key:"appendSeries",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],l=this.w.config.series.slice();return l.push(n),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(l,i,s)}},{key:"appendData",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=this;s.w.globals.dataChanged=!0,s.series.getPreviousPaths();for(var l=s.w.config.series.slice(),u=0;u<l.length;u++)if(n[u]!==null&&n[u]!==void 0)for(var h=0;h<n[u].data.length;h++)l[u].data.push(n[u].data[h]);return s.w.config.series=l,i&&(s.w.globals.initialSeries=E.clone(s.w.config.series)),this.update()}},{key:"update",value:function(n){var i=this;return new Promise(function(s,l){new br(i.ctx).clear({isUpdating:!0});var u=i.create(i.w.config.series,n);if(!u)return s(i);i.mount(u).then(function(){typeof i.w.config.chart.events.updated=="function"&&i.w.config.chart.events.updated(i,i.w),i.events.fireEvent("updated",[i,i.w]),i.w.globals.isDirty=!0,s(i)}).catch(function(h){l(h)})})}},{key:"getSyncedCharts",value:function(){var n=this.getGroupedCharts(),i=[this];return n.length&&(i=[],n.forEach(function(s){i.push(s)})),i}},{key:"getGroupedCharts",value:function(){var n=this;return Apex._chartInstances.filter(function(i){if(i.group)return!0}).map(function(i){return n.w.config.chart.group===i.group?i.chart:n})}},{key:"toggleSeries",value:function(n){return this.series.toggleSeries(n)}},{key:"highlightSeriesOnLegendHover",value:function(n,i){return this.series.toggleSeriesOnHover(n,i)}},{key:"showSeries",value:function(n){this.series.showSeries(n)}},{key:"hideSeries",value:function(n){this.series.hideSeries(n)}},{key:"resetSeries",value:function(){var n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(n,i)}},{key:"addEventListener",value:function(n,i){this.events.addEventListener(n,i)}},{key:"removeEventListener",value:function(n,i){this.events.removeEventListener(n,i)}},{key:"addXaxisAnnotation",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,l=this;s&&(l=s),l.annotations.addXaxisAnnotationExternal(n,i,l)}},{key:"addYaxisAnnotation",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,l=this;s&&(l=s),l.annotations.addYaxisAnnotationExternal(n,i,l)}},{key:"addPointAnnotation",value:function(n){var i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,l=this;s&&(l=s),l.annotations.addPointAnnotationExternal(n,i,l)}},{key:"clearAnnotations",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=this;n&&(i=n),i.annotations.clearAnnotations(i)}},{key:"removeAnnotation",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,s=this;i&&(s=i),s.annotations.removeAnnotation(s,n)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(n,i){return this.coreUtils.getSeriesTotalsXRange(n,i)}},{key:"getHighestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new qe(this.ctx).getMinYMaxY(n).highestY}},{key:"getLowestValueInSeries",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new qe(this.ctx).getMinYMaxY(n).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(n,i){return this.updateHelpers.toggleDataPointSelection(n,i)}},{key:"zoomX",value:function(n,i){this.ctx.toolbar.zoomUpdateOptions(n,i)}},{key:"setLocale",value:function(n){this.localization.setCurrentLocaleValues(n)}},{key:"dataURI",value:function(n){return new be(this.ctx).dataURI(n)}},{key:"exportToCSV",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new be(this.ctx).exportToCSV(n)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var n=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){n.w.globals.resized=!0,n.w.globals.dataChanged=!1,n.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var n=this.w.config.chart.redrawOnWindowResize;typeof n=="function"&&(n=n()),n&&this._windowResize()}}],[{key:"getChartByID",value:function(n){var i=E.escapeString(n),s=Apex._chartInstances.filter(function(l){return l.id===i})[0];return s&&s.chart}},{key:"initOnLoad",value:function(){for(var n=document.querySelectorAll("[data-apexcharts]"),i=0;i<n.length;i++)new Y(n[i],JSON.parse(n[i].getAttribute("data-options"))).render()}},{key:"exec",value:function(n,i){var s=this.getChartByID(n);if(s){s.w.globals.isExecCalled=!0;var l=null;if(s.publicMethods.indexOf(i)!==-1){for(var u=arguments.length,h=new Array(u>2?u-2:0),f=2;f<u;f++)h[f-2]=arguments[f];l=s[i].apply(s,h)}return l}}},{key:"merge",value:function(n,i){return E.extend(n,i)}}]),Y}();a.exports=Ta})(hs,hs.exports);const ku=hs.exports;window.ApexCharts=ku;var Na=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Pi={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(a){return typeof console<"u"&&console.warn(a)},getWeek:function(a){var t=new Date(a.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},or={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(a){var t=a%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},qt=function(a,t){return t===void 0&&(t=2),("000"+a).slice(t*-1)},rn=function(a){return a===!0?1:0};function uo(a,t){var e;return function(){var r=this,o=arguments;clearTimeout(e),e=setTimeout(function(){return a.apply(r,o)},t)}}var Da=function(a){return a instanceof Array?a:[a]};function Bt(a,t,e){if(e===!0)return a.classList.add(t);a.classList.remove(t)}function ot(a,t,e){var r=window.document.createElement(a);return t=t||"",e=e||"",r.className=t,e!==void 0&&(r.textContent=e),r}function wr(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Nl(a,t){if(t(a))return a;if(a.parentNode)return Nl(a.parentNode,t)}function kr(a,t){var e=ot("div","numInputWrapper"),r=ot("input","numInput "+a),o=ot("span","arrowUp"),c=ot("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),t!==void 0)for(var d in t)r.setAttribute(d,t[d]);return e.appendChild(r),e.appendChild(o),e.appendChild(c),e}function Zt(a){try{if(typeof a.composedPath=="function"){var t=a.composedPath();return t[0]}return a.target}catch{return a.target}}var Ia=function(){},Rr=function(a,t,e){return e.months[t?"shorthand":"longhand"][a]},Su={D:Ia,F:function(a,t,e){a.setMonth(e.months.longhand.indexOf(t))},G:function(a,t){a.setHours((a.getHours()>=12?12:0)+parseFloat(t))},H:function(a,t){a.setHours(parseFloat(t))},J:function(a,t){a.setDate(parseFloat(t))},K:function(a,t,e){a.setHours(a.getHours()%12+12*rn(new RegExp(e.amPM[1],"i").test(t)))},M:function(a,t,e){a.setMonth(e.months.shorthand.indexOf(t))},S:function(a,t){a.setSeconds(parseFloat(t))},U:function(a,t){return new Date(parseFloat(t)*1e3)},W:function(a,t,e){var r=parseInt(t),o=new Date(a.getFullYear(),0,2+(r-1)*7,0,0,0,0);return o.setDate(o.getDate()-o.getDay()+e.firstDayOfWeek),o},Y:function(a,t){a.setFullYear(parseFloat(t))},Z:function(a,t){return new Date(t)},d:function(a,t){a.setDate(parseFloat(t))},h:function(a,t){a.setHours((a.getHours()>=12?12:0)+parseFloat(t))},i:function(a,t){a.setMinutes(parseFloat(t))},j:function(a,t){a.setDate(parseFloat(t))},l:Ia,m:function(a,t){a.setMonth(parseFloat(t)-1)},n:function(a,t){a.setMonth(parseFloat(t)-1)},s:function(a,t){a.setSeconds(parseFloat(t))},u:function(a,t){return new Date(parseFloat(t))},w:Ia,y:function(a,t){a.setFullYear(2e3+parseFloat(t))}},Qn={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Ji={Z:function(a){return a.toISOString()},D:function(a,t,e){return t.weekdays.shorthand[Ji.w(a,t,e)]},F:function(a,t,e){return Rr(Ji.n(a,t,e)-1,!1,t)},G:function(a,t,e){return qt(Ji.h(a,t,e))},H:function(a){return qt(a.getHours())},J:function(a,t){return t.ordinal!==void 0?a.getDate()+t.ordinal(a.getDate()):a.getDate()},K:function(a,t){return t.amPM[rn(a.getHours()>11)]},M:function(a,t){return Rr(a.getMonth(),!0,t)},S:function(a){return qt(a.getSeconds())},U:function(a){return a.getTime()/1e3},W:function(a,t,e){return e.getWeek(a)},Y:function(a){return qt(a.getFullYear(),4)},d:function(a){return qt(a.getDate())},h:function(a){return a.getHours()%12?a.getHours()%12:12},i:function(a){return qt(a.getMinutes())},j:function(a){return a.getDate()},l:function(a,t){return t.weekdays.longhand[a.getDay()]},m:function(a){return qt(a.getMonth()+1)},n:function(a){return a.getMonth()+1},s:function(a){return a.getSeconds()},u:function(a){return a.getTime()},w:function(a){return a.getDay()},y:function(a){return String(a.getFullYear()).substring(2)}},Dl=function(a){var t=a.config,e=t===void 0?Pi:t,r=a.l10n,o=r===void 0?or:r,c=a.isMobile,d=c===void 0?!1:c;return function(p,m,b){var x=b||o;return e.formatDate!==void 0&&!d?e.formatDate(p,m,x):m.split("").map(function(w,k,A){return Ji[w]&&A[k-1]!=="\\"?Ji[w](p,x,e):w!=="\\"?w:""}).join("")}},ds=function(a){var t=a.config,e=t===void 0?Pi:t,r=a.l10n,o=r===void 0?or:r;return function(c,d,p,m){if(!(c!==0&&!c)){var b=m||o,x,w=c;if(c instanceof Date)x=new Date(c.getTime());else if(typeof c!="string"&&c.toFixed!==void 0)x=new Date(c);else if(typeof c=="string"){var k=d||(e||Pi).dateFormat,A=String(c).trim();if(A==="today")x=new Date,p=!0;else if(e&&e.parseDate)x=e.parseDate(c,k);else if(/Z$/.test(A)||/GMT$/.test(A))x=new Date(c);else{for(var T=void 0,P=[],I=0,N=0,E="";I<k.length;I++){var F=k[I],D=F==="\\",R=k[I-1]==="\\"||D;if(Qn[F]&&!R){E+=Qn[F];var G=new RegExp(E).exec(c);G&&(T=!0)&&P[F!=="Y"?"push":"unshift"]({fn:Su[F],val:G[++N]})}else D||(E+=".")}x=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),P.forEach(function(q){var W=q.fn,te=q.val;return x=W(x,te,b)||x}),x=T?x:void 0}}if(!(x instanceof Date&&!isNaN(x.getTime()))){e.errorHandler(new Error("Invalid date provided: "+w));return}return p===!0&&x.setHours(0,0,0,0),x}}};function Jt(a,t,e){return e===void 0&&(e=!0),e!==!1?new Date(a.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):a.getTime()-t.getTime()}var Au=function(a,t,e){return a>Math.min(t,e)&&a<Math.max(t,e)},Ra=function(a,t,e){return a*3600+t*60+e},Cu=function(a){var t=Math.floor(a/3600),e=(a-t*3600)/60;return[t,e,a-t*3600-e*60]},Eu={DAY:864e5};function _a(a){var t=a.defaultHour,e=a.defaultMinute,r=a.defaultSeconds;if(a.minDate!==void 0){var o=a.minDate.getHours(),c=a.minDate.getMinutes(),d=a.minDate.getSeconds();t<o&&(t=o),t===o&&e<c&&(e=c),t===o&&e===c&&r<d&&(r=a.minDate.getSeconds())}if(a.maxDate!==void 0){var p=a.maxDate.getHours(),m=a.maxDate.getMinutes();t=Math.min(t,p),t===p&&(e=Math.min(m,e)),t===p&&e===m&&(r=a.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(a){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!a)throw TypeError("Cannot convert undefined or null to object");for(var r=function(p){p&&Object.keys(p).forEach(function(m){return a[m]=p[m]})},o=0,c=t;o<c.length;o++){var d=c[o];r(d)}return a});var It=globalThis&&globalThis.__assign||function(){return It=Object.assign||function(a){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},It.apply(this,arguments)},ho=globalThis&&globalThis.__spreadArrays||function(){for(var a=0,t=0,e=arguments.length;t<e;t++)a+=arguments[t].length;for(var r=Array(a),o=0,t=0;t<e;t++)for(var c=arguments[t],d=0,p=c.length;d<p;d++,o++)r[o]=c[d];return r},Ou=300;function Mu(a,t){var e={config:It(It({},Pi),vt.defaultConfig),l10n:or};e.parseDate=ds({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=P,e._setHoursFromDate=k,e._positionCalendar=Ae,e.changeMonth=K,e.changeYear=de,e.clear=ae,e.close=le,e.onMouseOver=We,e._createElement=ot,e.createDay=G,e.destroy=ve,e.isEnabled=xe,e.jumpToDate=E,e.updateValue=en,e.open=Qe,e.redraw=Me,e.set=bt,e.setDate=ut,e.toggle=Oa;function r(){e.utils={getDaysInMonth:function(ne,se){return ne===void 0&&(ne=e.currentMonth),se===void 0&&(se=e.currentYear),ne===1&&(se%4===0&&se%100!==0||se%400===0)?29:e.l10n.daysInMonth[ne]}}}function o(){e.element=e.input=a,e.isOpen=!1,kt(),Se(),Kt(),ft(),r(),e.isMobile||R(),N(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&k(e.config.noCalendar?e.latestSelectedDateObj:void 0),en(!1)),p();var ne=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&ne&&Ae(),ht("onReady")}function c(){var ne;return((ne=e.calendarContainer)===null||ne===void 0?void 0:ne.getRootNode()).activeElement||document.activeElement}function d(ne){return ne.bind(e)}function p(){var ne=e.config;ne.weekNumbers===!1&&ne.showMonths===1||ne.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var se=(e.days.offsetWidth+1)*ne.showMonths;e.daysContainer.style.width=se+"px",e.calendarContainer.style.width=se+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function m(ne){if(e.selectedDates.length===0){var se=e.config.minDate===void 0||Jt(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),ge=_a(e.config);se.setHours(ge.hours,ge.minutes,ge.seconds,se.getMilliseconds()),e.selectedDates=[se],e.latestSelectedDateObj=se}ne!==void 0&&ne.type!=="blur"&&xr(ne);var we=e._input.value;w(),en(),e._input.value!==we&&e._debouncedChange()}function b(ne,se){return ne%12+12*rn(se===e.l10n.amPM[1])}function x(ne){switch(ne%24){case 0:case 12:return 12;default:return ne%12}}function w(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var ne=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,se=(parseInt(e.minuteElement.value,10)||0)%60,ge=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(ne=b(ne,e.amPM.textContent));var we=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&Jt(e.latestSelectedDateObj,e.config.minDate,!0)===0,De=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&Jt(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var _e=Ra(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),Je=Ra(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),He=Ra(ne,se,ge);if(He>Je&&He<_e){var Ue=Cu(_e);ne=Ue[0],se=Ue[1],ge=Ue[2]}}else{if(De){var Be=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;ne=Math.min(ne,Be.getHours()),ne===Be.getHours()&&(se=Math.min(se,Be.getMinutes())),se===Be.getMinutes()&&(ge=Math.min(ge,Be.getSeconds()))}if(we){var je=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;ne=Math.max(ne,je.getHours()),ne===je.getHours()&&se<je.getMinutes()&&(se=je.getMinutes()),se===je.getMinutes()&&(ge=Math.max(ge,je.getSeconds()))}}A(ne,se,ge)}}function k(ne){var se=ne||e.latestSelectedDateObj;se&&se instanceof Date&&A(se.getHours(),se.getMinutes(),se.getSeconds())}function A(ne,se,ge){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(ne%24,se,ge||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=qt(e.config.time_24hr?ne:(12+ne)%12+12*rn(ne%12===0)),e.minuteElement.value=qt(se),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[rn(ne>=12)]),e.secondElement!==void 0&&(e.secondElement.value=qt(ge)))}function T(ne){var se=Zt(ne),ge=parseInt(se.value)+(ne.delta||0);(ge/1e3>1||ne.key==="Enter"&&!/[^\d]/.test(ge.toString()))&&de(ge)}function P(ne,se,ge,we){if(se instanceof Array)return se.forEach(function(De){return P(ne,De,ge,we)});if(ne instanceof Array)return ne.forEach(function(De){return P(De,se,ge,we)});ne.addEventListener(se,ge,we),e._handlers.push({remove:function(){return ne.removeEventListener(se,ge,we)}})}function I(){ht("onChange")}function N(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(ge){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+ge+"]"),function(we){return P(we,"click",e[ge])})}),e.isMobile){vr();return}var ne=uo(qe,50);if(e._debouncedChange=uo(I,Ou),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&P(e.daysContainer,"mouseover",function(ge){e.config.mode==="range"&&We(Zt(ge))}),P(e._input,"keydown",ze),e.calendarContainer!==void 0&&P(e.calendarContainer,"keydown",ze),!e.config.inline&&!e.config.static&&P(window,"resize",ne),window.ontouchstart!==void 0?P(window.document,"touchstart",re):P(window.document,"mousedown",re),P(window.document,"focus",re,{capture:!0}),e.config.clickOpens===!0&&(P(e._input,"focus",e.open),P(e._input,"click",e.open)),e.daysContainer!==void 0&&(P(e.monthNav,"click",qi),P(e.monthNav,["keyup","increment"],T),P(e.daysContainer,"click",Ze)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var se=function(ge){return Zt(ge).select()};P(e.timeContainer,["increment"],m),P(e.timeContainer,"blur",m,{capture:!0}),P(e.timeContainer,"click",F),P([e.hourElement,e.minuteElement],["focus","click"],se),e.secondElement!==void 0&&P(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&P(e.amPM,"click",function(ge){m(ge)})}e.config.allowInput&&P(e._input,"blur",Oe)}function E(ne,se){var ge=ne!==void 0?e.parseDate(ne):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),we=e.currentYear,De=e.currentMonth;try{ge!==void 0&&(e.currentYear=ge.getFullYear(),e.currentMonth=ge.getMonth())}catch(_e){_e.message="Invalid date supplied: "+ge,e.config.errorHandler(_e)}se&&e.currentYear!==we&&(ht("onYearChange"),Z()),se&&(e.currentYear!==we||e.currentMonth!==De)&&ht("onMonthChange"),e.redraw()}function F(ne){var se=Zt(ne);~se.className.indexOf("arrow")&&D(ne,se.classList.contains("arrowUp")?1:-1)}function D(ne,se,ge){var we=ne&&Zt(ne),De=ge||we&&we.parentNode&&we.parentNode.firstChild,_e=Vi("increment");_e.delta=se,De&&De.dispatchEvent(_e)}function R(){var ne=window.document.createDocumentFragment();if(e.calendarContainer=ot("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(ne.appendChild(me()),e.innerContainer=ot("div","flatpickr-innerContainer"),e.config.weekNumbers){var se=ce(),ge=se.weekWrapper,we=se.weekNumbers;e.innerContainer.appendChild(ge),e.weekNumbers=we,e.weekWrapper=ge}e.rContainer=ot("div","flatpickr-rContainer"),e.rContainer.appendChild(Ee()),e.daysContainer||(e.daysContainer=ot("div","flatpickr-days"),e.daysContainer.tabIndex=-1),j(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),ne.appendChild(e.innerContainer)}e.config.enableTime&&ne.appendChild(ye()),Bt(e.calendarContainer,"rangeMode",e.config.mode==="range"),Bt(e.calendarContainer,"animate",e.config.animate===!0),Bt(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(ne);var De=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!De&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var _e=ot("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(_e,e.element),_e.appendChild(e.element),e.altInput&&_e.appendChild(e.altInput),_e.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function G(ne,se,ge,we){var De=xe(se,!0),_e=ot("span",ne,se.getDate().toString());return _e.dateObj=se,_e.$i=we,_e.setAttribute("aria-label",e.formatDate(se,e.config.ariaDateFormat)),ne.indexOf("hidden")===-1&&Jt(se,e.now)===0&&(e.todayDateElem=_e,_e.classList.add("today"),_e.setAttribute("aria-current","date")),De?(_e.tabIndex=-1,yi(se)&&(_e.classList.add("selected"),e.selectedDateElem=_e,e.config.mode==="range"&&(Bt(_e,"startRange",e.selectedDates[0]&&Jt(se,e.selectedDates[0],!0)===0),Bt(_e,"endRange",e.selectedDates[1]&&Jt(se,e.selectedDates[1],!0)===0),ne==="nextMonthDay"&&_e.classList.add("inRange")))):_e.classList.add("flatpickr-disabled"),e.config.mode==="range"&&Ma(se)&&!yi(se)&&_e.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&ne!=="prevMonthDay"&&we%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(se)+"</span>"),ht("onDayCreate",_e),_e}function q(ne){ne.focus(),e.config.mode==="range"&&We(ne)}function W(ne){for(var se=ne>0?0:e.config.showMonths-1,ge=ne>0?e.config.showMonths:-1,we=se;we!=ge;we+=ne)for(var De=e.daysContainer.children[we],_e=ne>0?0:De.children.length-1,Je=ne>0?De.children.length:-1,He=_e;He!=Je;He+=ne){var Ue=De.children[He];if(Ue.className.indexOf("hidden")===-1&&xe(Ue.dateObj))return Ue}}function te(ne,se){for(var ge=ne.className.indexOf("Month")===-1?ne.dateObj.getMonth():e.currentMonth,we=se>0?e.config.showMonths:-1,De=se>0?1:-1,_e=ge-e.currentMonth;_e!=we;_e+=De)for(var Je=e.daysContainer.children[_e],He=ge-e.currentMonth===_e?ne.$i+se:se<0?Je.children.length-1:0,Ue=Je.children.length,Be=He;Be>=0&&Be<Ue&&Be!=(se>0?Ue:-1);Be+=De){var je=Je.children[Be];if(je.className.indexOf("hidden")===-1&&xe(je.dateObj)&&Math.abs(ne.$i-Be)>=Math.abs(se))return q(je)}e.changeMonth(De),U(W(De),0)}function U(ne,se){var ge=c(),we=be(ge||document.body),De=ne!==void 0?ne:we?ge:e.selectedDateElem!==void 0&&be(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&be(e.todayDateElem)?e.todayDateElem:W(se>0?1:-1);De===void 0?e._input.focus():we?te(De,se):q(De)}function X(ne,se){for(var ge=(new Date(ne,se,1).getDay()-e.l10n.firstDayOfWeek+7)%7,we=e.utils.getDaysInMonth((se-1+12)%12,ne),De=e.utils.getDaysInMonth(se,ne),_e=window.document.createDocumentFragment(),Je=e.config.showMonths>1,He=Je?"prevMonthDay hidden":"prevMonthDay",Ue=Je?"nextMonthDay hidden":"nextMonthDay",Be=we+1-ge,je=0;Be<=we;Be++,je++)_e.appendChild(G("flatpickr-day "+He,new Date(ne,se-1,Be),Be,je));for(Be=1;Be<=De;Be++,je++)_e.appendChild(G("flatpickr-day",new Date(ne,se,Be),Be,je));for(var ct=De+1;ct<=42-ge&&(e.config.showMonths===1||je%7!==0);ct++,je++)_e.appendChild(G("flatpickr-day "+Ue,new Date(ne,se+1,ct%De),ct,je));var tn=ot("div","dayContainer");return tn.appendChild(_e),tn}function j(){if(e.daysContainer!==void 0){wr(e.daysContainer),e.weekNumbers&&wr(e.weekNumbers);for(var ne=document.createDocumentFragment(),se=0;se<e.config.showMonths;se++){var ge=new Date(e.currentYear,e.currentMonth,1);ge.setMonth(e.currentMonth+se),ne.appendChild(X(ge.getFullYear(),ge.getMonth()))}e.daysContainer.appendChild(ne),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&We()}}function Z(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var ne=function(we){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&we<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&we>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var se=0;se<12;se++)if(!!ne(se)){var ge=ot("option","flatpickr-monthDropdown-month");ge.value=new Date(e.currentYear,se).getMonth().toString(),ge.textContent=Rr(se,e.config.shorthandCurrentMonth,e.l10n),ge.tabIndex=-1,e.currentMonth===se&&(ge.selected=!0),e.monthsDropdownContainer.appendChild(ge)}}}function ie(){var ne=ot("div","flatpickr-month"),se=window.document.createDocumentFragment(),ge;e.config.showMonths>1||e.config.monthSelectorType==="static"?ge=ot("span","cur-month"):(e.monthsDropdownContainer=ot("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),P(e.monthsDropdownContainer,"change",function(Je){var He=Zt(Je),Ue=parseInt(He.value,10);e.changeMonth(Ue-e.currentMonth),ht("onMonthChange")}),Z(),ge=e.monthsDropdownContainer);var we=kr("cur-year",{tabindex:"-1"}),De=we.getElementsByTagName("input")[0];De.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&De.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(De.setAttribute("max",e.config.maxDate.getFullYear().toString()),De.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var _e=ot("div","flatpickr-current-month");return _e.appendChild(ge),_e.appendChild(we),se.appendChild(_e),ne.appendChild(se),{container:ne,yearElement:De,monthElement:ge}}function oe(){wr(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var ne=e.config.showMonths;ne--;){var se=ie();e.yearElements.push(se.yearElement),e.monthElements.push(se.monthElement),e.monthNav.appendChild(se.container)}e.monthNav.appendChild(e.nextMonthNav)}function me(){return e.monthNav=ot("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=ot("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=ot("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,oe(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(ne){e.__hidePrevMonthArrow!==ne&&(Bt(e.prevMonthNav,"flatpickr-disabled",ne),e.__hidePrevMonthArrow=ne)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(ne){e.__hideNextMonthArrow!==ne&&(Bt(e.nextMonthNav,"flatpickr-disabled",ne),e.__hideNextMonthArrow=ne)}}),e.currentYearElement=e.yearElements[0],vi(),e.monthNav}function ye(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var ne=_a(e.config);e.timeContainer=ot("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var se=ot("span","flatpickr-time-separator",":"),ge=kr("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=ge.getElementsByTagName("input")[0];var we=kr("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=we.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=qt(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?ne.hours:x(ne.hours)),e.minuteElement.value=qt(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():ne.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(ge),e.timeContainer.appendChild(se),e.timeContainer.appendChild(we),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var De=kr("flatpickr-second");e.secondElement=De.getElementsByTagName("input")[0],e.secondElement.value=qt(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():ne.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(ot("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(De)}return e.config.time_24hr||(e.amPM=ot("span","flatpickr-am-pm",e.l10n.amPM[rn((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function Ee(){e.weekdayContainer?wr(e.weekdayContainer):e.weekdayContainer=ot("div","flatpickr-weekdays");for(var ne=e.config.showMonths;ne--;){var se=ot("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(se)}return fe(),e.weekdayContainer}function fe(){if(!!e.weekdayContainer){var ne=e.l10n.firstDayOfWeek,se=ho(e.l10n.weekdays.shorthand);ne>0&&ne<se.length&&(se=ho(se.splice(ne,se.length),se.splice(0,ne)));for(var ge=e.config.showMonths;ge--;)e.weekdayContainer.children[ge].innerHTML=`
      <span class='flatpickr-weekday'>
        `+se.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function ce(){e.calendarContainer.classList.add("hasWeeks");var ne=ot("div","flatpickr-weekwrapper");ne.appendChild(ot("span","flatpickr-weekday",e.l10n.weekAbbreviation));var se=ot("div","flatpickr-weeks");return ne.appendChild(se),{weekWrapper:ne,weekNumbers:se}}function K(ne,se){se===void 0&&(se=!0);var ge=se?ne:ne-e.currentMonth;ge<0&&e._hidePrevMonthArrow===!0||ge>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=ge,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,ht("onYearChange"),Z()),j(),ht("onMonthChange"),vi())}function ae(ne,se){if(ne===void 0&&(ne=!0),se===void 0&&(se=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,se===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var ge=_a(e.config),we=ge.hours,De=ge.minutes,_e=ge.seconds;A(we,De,_e)}e.redraw(),ne&&ht("onChange")}function le(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),ht("onClose")}function ve(){e.config!==void 0&&ht("onDestroy");for(var ne=e._handlers.length;ne--;)e._handlers[ne].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var se=e.calendarContainer.parentNode;if(se.lastChild&&se.removeChild(se.lastChild),se.parentNode){for(;se.firstChild;)se.parentNode.insertBefore(se.firstChild,se);se.parentNode.removeChild(se)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(ge){try{delete e[ge]}catch{}})}function pe(ne){return e.calendarContainer.contains(ne)}function re(ne){if(e.isOpen&&!e.config.inline){var se=Zt(ne),ge=pe(se),we=se===e.input||se===e.altInput||e.element.contains(se)||ne.path&&ne.path.indexOf&&(~ne.path.indexOf(e.input)||~ne.path.indexOf(e.altInput)),De=!we&&!ge&&!pe(ne.relatedTarget),_e=!e.config.ignoredFocusElements.some(function(Je){return Je.contains(se)});De&&_e&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&m(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function de(ne){if(!(!ne||e.config.minDate&&ne<e.config.minDate.getFullYear()||e.config.maxDate&&ne>e.config.maxDate.getFullYear())){var se=ne,ge=e.currentYear!==se;e.currentYear=se||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),ge&&(e.redraw(),ht("onYearChange"),Z())}}function xe(ne,se){var ge;se===void 0&&(se=!0);var we=e.parseDate(ne,void 0,se);if(e.config.minDate&&we&&Jt(we,e.config.minDate,se!==void 0?se:!e.minDateHasTime)<0||e.config.maxDate&&we&&Jt(we,e.config.maxDate,se!==void 0?se:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(we===void 0)return!1;for(var De=!!e.config.enable,_e=(ge=e.config.enable)!==null&&ge!==void 0?ge:e.config.disable,Je=0,He=void 0;Je<_e.length;Je++){if(He=_e[Je],typeof He=="function"&&He(we))return De;if(He instanceof Date&&we!==void 0&&He.getTime()===we.getTime())return De;if(typeof He=="string"){var Ue=e.parseDate(He,void 0,!0);return Ue&&Ue.getTime()===we.getTime()?De:!De}else if(typeof He=="object"&&we!==void 0&&He.from&&He.to&&we.getTime()>=He.from.getTime()&&we.getTime()<=He.to.getTime())return De}return!De}function be(ne){return e.daysContainer!==void 0?ne.className.indexOf("hidden")===-1&&ne.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(ne):!1}function Oe(ne){var se=ne.target===e._input,ge=e._input.value.trimEnd()!==gn();se&&ge&&!(ne.relatedTarget&&pe(ne.relatedTarget))&&e.setDate(e._input.value,!0,ne.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function ze(ne){var se=Zt(ne),ge=e.config.wrap?a.contains(se):se===e._input,we=e.config.allowInput,De=e.isOpen&&(!we||!ge),_e=e.config.inline&&ge&&!we;if(ne.keyCode===13&&ge){if(we)return e.setDate(e._input.value,!0,se===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),se.blur();e.open()}else if(pe(se)||De||_e){var Je=!!e.timeContainer&&e.timeContainer.contains(se);switch(ne.keyCode){case 13:Je?(ne.preventDefault(),m(),$e()):Ze(ne);break;case 27:ne.preventDefault(),$e();break;case 8:case 46:ge&&!e.config.allowInput&&(ne.preventDefault(),e.clear());break;case 37:case 39:if(!Je&&!ge){ne.preventDefault();var He=c();if(e.daysContainer!==void 0&&(we===!1||He&&be(He))){var Ue=ne.keyCode===39?1:-1;ne.ctrlKey?(ne.stopPropagation(),K(Ue),U(W(1),0)):U(void 0,Ue)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:ne.preventDefault();var Be=ne.keyCode===40?1:-1;e.daysContainer&&se.$i!==void 0||se===e.input||se===e.altInput?ne.ctrlKey?(ne.stopPropagation(),de(e.currentYear-Be),U(W(1),0)):Je||U(void 0,Be*7):se===e.currentYearElement?de(e.currentYear-Be):e.config.enableTime&&(!Je&&e.hourElement&&e.hourElement.focus(),m(ne),e._debouncedChange());break;case 9:if(Je){var je=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(Ft){return Ft}),ct=je.indexOf(se);if(ct!==-1){var tn=je[ct+(ne.shiftKey?-1:1)];ne.preventDefault(),(tn||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(se)&&ne.shiftKey&&(ne.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&se===e.amPM)switch(ne.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],w(),en();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],w(),en();break}(ge||pe(se))&&ht("onKeyDown",ne)}function We(ne,se){if(se===void 0&&(se="flatpickr-day"),!(e.selectedDates.length!==1||ne&&(!ne.classList.contains(se)||ne.classList.contains("flatpickr-disabled")))){for(var ge=ne?ne.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),we=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),De=Math.min(ge,e.selectedDates[0].getTime()),_e=Math.max(ge,e.selectedDates[0].getTime()),Je=!1,He=0,Ue=0,Be=De;Be<_e;Be+=Eu.DAY)xe(new Date(Be),!0)||(Je=Je||Be>De&&Be<_e,Be<we&&(!He||Be>He)?He=Be:Be>we&&(!Ue||Be<Ue)&&(Ue=Be));var je=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+se));je.forEach(function(ct){var tn=ct.dateObj,Ft=tn.getTime(),$n=He>0&&Ft<He||Ue>0&&Ft>Ue;if($n){ct.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(En){ct.classList.remove(En)});return}else if(Je&&!$n)return;["startRange","inRange","endRange","notAllowed"].forEach(function(En){ct.classList.remove(En)}),ne!==void 0&&(ne.classList.add(ge<=e.selectedDates[0].getTime()?"startRange":"endRange"),we<ge&&Ft===we?ct.classList.add("startRange"):we>ge&&Ft===we&&ct.classList.add("endRange"),Ft>=He&&(Ue===0||Ft<=Ue)&&Au(Ft,we,ge)&&ct.classList.add("inRange"))})}}function qe(){e.isOpen&&!e.config.static&&!e.config.inline&&Ae()}function Qe(ne,se){if(se===void 0&&(se=e._positionElement),e.isMobile===!0){if(ne){ne.preventDefault();var ge=Zt(ne);ge&&ge.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),ht("onOpen");return}else if(e._input.disabled||e.config.inline)return;var we=e.isOpen;e.isOpen=!0,we||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),ht("onOpen"),Ae(se)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(ne===void 0||!e.timeContainer.contains(ne.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function at(ne){return function(se){var ge=e.config["_"+ne+"Date"]=e.parseDate(se,e.config.dateFormat),we=e.config["_"+(ne==="min"?"max":"min")+"Date"];ge!==void 0&&(e[ne==="min"?"minDateHasTime":"maxDateHasTime"]=ge.getHours()>0||ge.getMinutes()>0||ge.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(De){return xe(De)}),!e.selectedDates.length&&ne==="min"&&k(ge),en()),e.daysContainer&&(Me(),ge!==void 0?e.currentYearElement[ne]=ge.getFullYear().toString():e.currentYearElement.removeAttribute(ne),e.currentYearElement.disabled=!!we&&ge!==void 0&&we.getFullYear()===ge.getFullYear())}}function kt(){var ne=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],se=It(It({},JSON.parse(JSON.stringify(a.dataset||{}))),t),ge={};e.config.parseDate=se.parseDate,e.config.formatDate=se.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(je){e.config._enable=Un(je)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(je){e.config._disable=Un(je)}});var we=se.mode==="time";if(!se.dateFormat&&(se.enableTime||we)){var De=vt.defaultConfig.dateFormat||Pi.dateFormat;ge.dateFormat=se.noCalendar||we?"H:i"+(se.enableSeconds?":S":""):De+" H:i"+(se.enableSeconds?":S":"")}if(se.altInput&&(se.enableTime||we)&&!se.altFormat){var _e=vt.defaultConfig.altFormat||Pi.altFormat;ge.altFormat=se.noCalendar||we?"h:i"+(se.enableSeconds?":S K":" K"):_e+(" h:i"+(se.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:at("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:at("max")});var Je=function(je){return function(ct){e.config[je==="min"?"_minTime":"_maxTime"]=e.parseDate(ct,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:Je("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:Je("max")}),se.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,ge,se);for(var He=0;He<ne.length;He++)e.config[ne[He]]=e.config[ne[He]]===!0||e.config[ne[He]]==="true";Na.filter(function(je){return e.config[je]!==void 0}).forEach(function(je){e.config[je]=Da(e.config[je]||[]).map(d)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var He=0;He<e.config.plugins.length;He++){var Ue=e.config.plugins[He](e)||{};for(var Be in Ue)Na.indexOf(Be)>-1?e.config[Be]=Da(Ue[Be]).map(d).concat(e.config[Be]):typeof se[Be]>"u"&&(e.config[Be]=Ue[Be])}se.altInputClass||(e.config.altInputClass=dt().className+" "+e.config.altInputClass),ht("onParseConfig")}function dt(){return e.config.wrap?a.querySelector("[data-input]"):a}function Se(){typeof e.config.locale!="object"&&typeof vt.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=It(It({},vt.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?vt.l10ns[e.config.locale]:void 0),Qn.D="("+e.l10n.weekdays.shorthand.join("|")+")",Qn.l="("+e.l10n.weekdays.longhand.join("|")+")",Qn.M="("+e.l10n.months.shorthand.join("|")+")",Qn.F="("+e.l10n.months.longhand.join("|")+")",Qn.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var ne=It(It({},t),JSON.parse(JSON.stringify(a.dataset||{})));ne.time_24hr===void 0&&vt.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Dl(e),e.parseDate=ds({config:e.config,l10n:e.l10n})}function Ae(ne){if(typeof e.config.position=="function")return void e.config.position(e,ne);if(e.calendarContainer!==void 0){ht("onPreCalendarPosition");var se=ne||e._positionElement,ge=Array.prototype.reduce.call(e.calendarContainer.children,function(u,h){return u+h.offsetHeight},0),we=e.calendarContainer.offsetWidth,De=e.config.position.split(" "),_e=De[0],Je=De.length>1?De[1]:null,He=se.getBoundingClientRect(),Ue=window.innerHeight-He.bottom,Be=_e==="above"||_e!=="below"&&Ue<ge&&He.top>ge,je=window.pageYOffset+He.top+(Be?-ge-2:se.offsetHeight+2);if(Bt(e.calendarContainer,"arrowTop",!Be),Bt(e.calendarContainer,"arrowBottom",Be),!e.config.inline){var ct=window.pageXOffset+He.left,tn=!1,Ft=!1;Je==="center"?(ct-=(we-He.width)/2,tn=!0):Je==="right"&&(ct-=we-He.width,Ft=!0),Bt(e.calendarContainer,"arrowLeft",!tn&&!Ft),Bt(e.calendarContainer,"arrowCenter",tn),Bt(e.calendarContainer,"arrowRight",Ft);var $n=window.document.body.offsetWidth-(window.pageXOffset+He.right),En=ct+we>window.document.body.offsetWidth,br=$n+we>window.document.body.offsetWidth;if(Bt(e.calendarContainer,"rightMost",En),!e.config.static)if(e.calendarContainer.style.top=je+"px",!En)e.calendarContainer.style.left=ct+"px",e.calendarContainer.style.right="auto";else if(!br)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=$n+"px";else{var Kn=Ie();if(Kn===void 0)return;var Ta=window.document.body.offsetWidth,Y=Math.max(0,Ta/2-we/2),n=".flatpickr-calendar.centerMost:before",i=".flatpickr-calendar.centerMost:after",s=Kn.cssRules.length,l="{left:"+He.left+"px;right:auto;}";Bt(e.calendarContainer,"rightMost",!1),Bt(e.calendarContainer,"centerMost",!0),Kn.insertRule(n+","+i+l,s),e.calendarContainer.style.left=Y+"px",e.calendarContainer.style.right="auto"}}}}function Ie(){for(var ne=null,se=0;se<document.styleSheets.length;se++){var ge=document.styleSheets[se];if(!!ge.cssRules){try{ge.cssRules}catch{continue}ne=ge;break}}return ne!=null?ne:Re()}function Re(){var ne=document.createElement("style");return document.head.appendChild(ne),ne.sheet}function Me(){e.config.noCalendar||e.isMobile||(Z(),vi(),j())}function $e(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Ze(ne){ne.preventDefault(),ne.stopPropagation();var se=function(je){return je.classList&&je.classList.contains("flatpickr-day")&&!je.classList.contains("flatpickr-disabled")&&!je.classList.contains("notAllowed")},ge=Nl(Zt(ne),se);if(ge!==void 0){var we=ge,De=e.latestSelectedDateObj=new Date(we.dateObj.getTime()),_e=(De.getMonth()<e.currentMonth||De.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=we,e.config.mode==="single")e.selectedDates=[De];else if(e.config.mode==="multiple"){var Je=yi(De);Je?e.selectedDates.splice(parseInt(Je),1):e.selectedDates.push(De)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=De,e.selectedDates.push(De),Jt(De,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(je,ct){return je.getTime()-ct.getTime()}));if(w(),_e){var He=e.currentYear!==De.getFullYear();e.currentYear=De.getFullYear(),e.currentMonth=De.getMonth(),He&&(ht("onYearChange"),Z()),ht("onMonthChange")}if(vi(),j(),en(),!_e&&e.config.mode!=="range"&&e.config.showMonths===1?q(we):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var Ue=e.config.mode==="single"&&!e.config.enableTime,Be=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(Ue||Be)&&$e()}I()}}var Ke={locale:[Se,fe],showMonths:[oe,p,Ee],minDate:[E],maxDate:[E],positionElement:[yr],clickOpens:[function(){e.config.clickOpens===!0?(P(e._input,"focus",e.open),P(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function bt(ne,se){if(ne!==null&&typeof ne=="object"){Object.assign(e.config,ne);for(var ge in ne)Ke[ge]!==void 0&&Ke[ge].forEach(function(we){return we()})}else e.config[ne]=se,Ke[ne]!==void 0?Ke[ne].forEach(function(we){return we()}):Na.indexOf(ne)>-1&&(e.config[ne]=Da(se));e.redraw(),en(!0)}function jt(ne,se){var ge=[];if(ne instanceof Array)ge=ne.map(function(we){return e.parseDate(we,se)});else if(ne instanceof Date||typeof ne=="number")ge=[e.parseDate(ne,se)];else if(typeof ne=="string")switch(e.config.mode){case"single":case"time":ge=[e.parseDate(ne,se)];break;case"multiple":ge=ne.split(e.config.conjunction).map(function(we){return e.parseDate(we,se)});break;case"range":ge=ne.split(e.l10n.rangeSeparator).map(function(we){return e.parseDate(we,se)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(ne)));e.selectedDates=e.config.allowInvalidPreload?ge:ge.filter(function(we){return we instanceof Date&&xe(we,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(we,De){return we.getTime()-De.getTime()})}function ut(ne,se,ge){if(se===void 0&&(se=!1),ge===void 0&&(ge=e.config.dateFormat),ne!==0&&!ne||ne instanceof Array&&ne.length===0)return e.clear(se);jt(ne,ge),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),E(void 0,se),k(),e.selectedDates.length===0&&e.clear(!1),en(se),se&&ht("onChange")}function Un(ne){return ne.slice().map(function(se){return typeof se=="string"||typeof se=="number"||se instanceof Date?e.parseDate(se,void 0,!0):se&&typeof se=="object"&&se.from&&se.to?{from:e.parseDate(se.from,void 0),to:e.parseDate(se.to,void 0)}:se}).filter(function(se){return se})}function ft(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var ne=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);ne&&jt(ne,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function Kt(){if(e.input=dt(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=ot(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),yr()}function yr(){e._positionElement=e.config.positionElement||e._input}function vr(){var ne=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=ot("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=ne,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=ne==="datetime-local"?"Y-m-d\\TH:i:S":ne==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}P(e.mobileInput,"change",function(se){e.setDate(Zt(se).value,!1,e.mobileFormatStr),ht("onChange"),ht("onClose")})}function Oa(ne){if(e.isOpen===!0)return e.close();e.open(ne)}function ht(ne,se){if(e.config!==void 0){var ge=e.config[ne];if(ge!==void 0&&ge.length>0)for(var we=0;ge[we]&&we<ge.length;we++)ge[we](e.selectedDates,e.input.value,e,se);ne==="onChange"&&(e.input.dispatchEvent(Vi("change")),e.input.dispatchEvent(Vi("input")))}}function Vi(ne){var se=document.createEvent("Event");return se.initEvent(ne,!0,!0),se}function yi(ne){for(var se=0;se<e.selectedDates.length;se++){var ge=e.selectedDates[se];if(ge instanceof Date&&Jt(ge,ne)===0)return""+se}return!1}function Ma(ne){return e.config.mode!=="range"||e.selectedDates.length<2?!1:Jt(ne,e.selectedDates[0])>=0&&Jt(ne,e.selectedDates[1])<=0}function vi(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(ne,se){var ge=new Date(e.currentYear,e.currentMonth,1);ge.setMonth(e.currentMonth+se),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[se].textContent=Rr(ge.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=ge.getMonth().toString(),ne.value=ge.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function gn(ne){var se=ne||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(ge){return e.formatDate(ge,se)}).filter(function(ge,we,De){return e.config.mode!=="range"||e.config.enableTime||De.indexOf(ge)===we}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function en(ne){ne===void 0&&(ne=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=gn(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=gn(e.config.altFormat)),ne!==!1&&ht("onValueUpdate")}function qi(ne){var se=Zt(ne),ge=e.prevMonthNav.contains(se),we=e.nextMonthNav.contains(se);ge||we?K(ge?-1:1):e.yearElements.indexOf(se)>=0?se.select():se.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):se.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function xr(ne){ne.preventDefault();var se=ne.type==="keydown",ge=Zt(ne),we=ge;e.amPM!==void 0&&ge===e.amPM&&(e.amPM.textContent=e.l10n.amPM[rn(e.amPM.textContent===e.l10n.amPM[0])]);var De=parseFloat(we.getAttribute("min")),_e=parseFloat(we.getAttribute("max")),Je=parseFloat(we.getAttribute("step")),He=parseInt(we.value,10),Ue=ne.delta||(se?ne.which===38?1:-1:0),Be=He+Je*Ue;if(typeof we.value<"u"&&we.value.length===2){var je=we===e.hourElement,ct=we===e.minuteElement;Be<De?(Be=_e+Be+rn(!je)+(rn(je)&&rn(!e.amPM)),ct&&D(void 0,-1,e.hourElement)):Be>_e&&(Be=we===e.hourElement?Be-_e-rn(!e.amPM):De,ct&&D(void 0,1,e.hourElement)),e.amPM&&je&&(Je===1?Be+He===23:Math.abs(Be-He)>Je)&&(e.amPM.textContent=e.l10n.amPM[rn(e.amPM.textContent===e.l10n.amPM[0])]),we.value=qt(Be)}}return o(),e}function Li(a,t){for(var e=Array.prototype.slice.call(a).filter(function(d){return d instanceof HTMLElement}),r=[],o=0;o<e.length;o++){var c=e[o];try{if(c.getAttribute("data-fp-omit")!==null)continue;c._flatpickr!==void 0&&(c._flatpickr.destroy(),c._flatpickr=void 0),c._flatpickr=Mu(c,t||{}),r.push(c._flatpickr)}catch(d){console.error(d)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(a){return Li(this,a)},HTMLElement.prototype.flatpickr=function(a){return Li([this],a)});var vt=function(a,t){return typeof a=="string"?Li(window.document.querySelectorAll(a),t):a instanceof Node?Li([a],t):Li(a,t)};vt.defaultConfig={};vt.l10ns={en:It({},or),default:It({},or)};vt.localize=function(a){vt.l10ns.default=It(It({},vt.l10ns.default),a)};vt.setDefaults=function(a){vt.defaultConfig=It(It({},vt.defaultConfig),a)};vt.parseDate=ds({});vt.formatDate=Dl({});vt.compareDates=Jt;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(a){return Li(this,a)});Date.prototype.fp_incr=function(a){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof a=="string"?parseInt(a,10):a))};typeof window<"u"&&(window.flatpickr=vt);var Il={exports:{}};(function(a,t){(function(e,r){a.exports=r()})(Ll,function(){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation.

	    Permission to use, copy, modify, and/or distribute this software for any
	    purpose with or without fee is hereby granted.

	    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	    PERFORMANCE OF THIS SOFTWARE.
	    ***************************************************************************** */var e=function(){return e=Object.assign||function(p){for(var m,b=1,x=arguments.length;b<x;b++){m=arguments[b];for(var w in m)Object.prototype.hasOwnProperty.call(m,w)&&(p[w]=m[w])}return p},e.apply(this,arguments)};function r(d){try{if(typeof d.composedPath=="function"){var p=d.composedPath();return p[0]}return d.target}catch{return d.target}}var o={confirmIcon:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='17' height='17' viewBox='0 0 17 17'> <g> </g> <path d='M15.418 1.774l-8.833 13.485-4.918-4.386 0.666-0.746 4.051 3.614 8.198-12.515 0.836 0.548z' fill='#000000' /> </svg>",confirmText:"OK ",showAlways:!1,theme:"light"};function c(d){var p=e(e({},o),d),m,b="flatpickr-confirm";return function(x){return x.config.noCalendar||x.isMobile?{}:e({onKeyDown:function(w,k,A,T){var P=r(T),I=!x.config.time_24hr&&P===x.amPM||x.config.time_24hr&&(x.config.enableSeconds&&P===x.secondElement||!x.config.enableSeconds&&P===x.minuteElement);x.config.enableTime&&T.key==="Tab"&&I?(T.preventDefault(),m.focus()):T.key==="Enter"&&P===m&&x.close()},onReady:function(){m=x._createElement("div",b+" "+(p.showAlways?"visible":"")+" "+p.theme+"Theme",p.confirmText),m.tabIndex=-1,m.innerHTML+=p.confirmIcon,m.addEventListener("click",x.close),x.calendarContainer.appendChild(m),x.loadedPlugins.push("confirmDate")}},p.showAlways?{}:{onChange:function(w,k){var A=x.config.enableTime||x.config.mode==="multiple"||x.loadedPlugins.indexOf("monthSelect")!==-1,T=x.calendarContainer.querySelector("."+b);if(!!T){if(k&&!x.config.inline&&A&&T)return T.classList.add("visible");T.classList.remove("visible")}}})}}return c})})(Il);const Tu=Il.exports;window.flatpickr=vt;window.confirmDatePlugin=Tu;var Rl={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(a,t){(function(r,o){a.exports=o()})(typeof self<"u"?self:Ll,function(){return function(e){var r={};function o(c){if(r[c])return r[c].exports;var d=r[c]={i:c,l:!1,exports:{}};return e[c].call(d.exports,d,d.exports,o),d.l=!0,d.exports}return o.m=e,o.c=r,o.d=function(c,d,p){o.o(c,d)||Object.defineProperty(c,d,{configurable:!1,enumerable:!0,get:p})},o.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(d,"a",d),d},o.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)},o.p="",o(o.s=109)}([function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(17),d=o(18),p=o(19),m=o(45),b=o(46),x=o(47),w=o(48),k=o(49),A=o(12),T=o(32),P=o(33),I=o(31),N=o(1),E={Scope:N.Scope,create:N.create,find:N.find,query:N.query,register:N.register,Container:c.default,Format:d.default,Leaf:p.default,Embed:w.default,Scroll:m.default,Block:x.default,Inline:b.default,Text:k.default,Attributor:{Attribute:A.default,Class:T.default,Style:P.default,Store:I.default}};r.default=E},function(e,r,o){var c=this&&this.__extends||function(){var I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,E){N.__proto__=E}||function(N,E){for(var F in E)E.hasOwnProperty(F)&&(N[F]=E[F])};return function(N,E){I(N,E);function F(){this.constructor=N}N.prototype=E===null?Object.create(E):(F.prototype=E.prototype,new F)}}();Object.defineProperty(r,"__esModule",{value:!0});var d=function(I){c(N,I);function N(E){var F=this;return E="[Parchment] "+E,F=I.call(this,E)||this,F.message=E,F.name=F.constructor.name,F}return N}(Error);r.ParchmentError=d;var p={},m={},b={},x={};r.DATA_KEY="__blot";var w;(function(I){I[I.TYPE=3]="TYPE",I[I.LEVEL=12]="LEVEL",I[I.ATTRIBUTE=13]="ATTRIBUTE",I[I.BLOT=14]="BLOT",I[I.INLINE=7]="INLINE",I[I.BLOCK=11]="BLOCK",I[I.BLOCK_BLOT=10]="BLOCK_BLOT",I[I.INLINE_BLOT=6]="INLINE_BLOT",I[I.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",I[I.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",I[I.ANY=15]="ANY"})(w=r.Scope||(r.Scope={}));function k(I,N){var E=T(I);if(E==null)throw new d("Unable to create "+I+" blot");var F=E,D=I instanceof Node||I.nodeType===Node.TEXT_NODE?I:F.create(N);return new F(D,N)}r.create=k;function A(I,N){return N===void 0&&(N=!1),I==null?null:I[r.DATA_KEY]!=null?I[r.DATA_KEY].blot:N?A(I.parentNode,N):null}r.find=A;function T(I,N){N===void 0&&(N=w.ANY);var E;if(typeof I=="string")E=x[I]||p[I];else if(I instanceof Text||I.nodeType===Node.TEXT_NODE)E=x.text;else if(typeof I=="number")I&w.LEVEL&w.BLOCK?E=x.block:I&w.LEVEL&w.INLINE&&(E=x.inline);else if(I instanceof HTMLElement){var F=(I.getAttribute("class")||"").split(/\s+/);for(var D in F)if(E=m[F[D]],E)break;E=E||b[I.tagName]}return E==null?null:N&w.LEVEL&E.scope&&N&w.TYPE&E.scope?E:null}r.query=T;function P(){for(var I=[],N=0;N<arguments.length;N++)I[N]=arguments[N];if(I.length>1)return I.map(function(D){return P(D)});var E=I[0];if(typeof E.blotName!="string"&&typeof E.attrName!="string")throw new d("Invalid definition");if(E.blotName==="abstract")throw new d("Cannot register abstract class");if(x[E.blotName||E.attrName]=E,typeof E.keyName=="string")p[E.keyName]=E;else if(E.className!=null&&(m[E.className]=E),E.tagName!=null){Array.isArray(E.tagName)?E.tagName=E.tagName.map(function(D){return D.toUpperCase()}):E.tagName=E.tagName.toUpperCase();var F=Array.isArray(E.tagName)?E.tagName:[E.tagName];F.forEach(function(D){(b[D]==null||E.className==null)&&(b[D]=E)})}return E}r.register=P},function(e,r,o){var c=o(51),d=o(11),p=o(3),m=o(20),b=String.fromCharCode(0),x=function(w){Array.isArray(w)?this.ops=w:w!=null&&Array.isArray(w.ops)?this.ops=w.ops:this.ops=[]};x.prototype.insert=function(w,k){var A={};return w.length===0?this:(A.insert=w,k!=null&&typeof k=="object"&&Object.keys(k).length>0&&(A.attributes=k),this.push(A))},x.prototype.delete=function(w){return w<=0?this:this.push({delete:w})},x.prototype.retain=function(w,k){if(w<=0)return this;var A={retain:w};return k!=null&&typeof k=="object"&&Object.keys(k).length>0&&(A.attributes=k),this.push(A)},x.prototype.push=function(w){var k=this.ops.length,A=this.ops[k-1];if(w=p(!0,{},w),typeof A=="object"){if(typeof w.delete=="number"&&typeof A.delete=="number")return this.ops[k-1]={delete:A.delete+w.delete},this;if(typeof A.delete=="number"&&w.insert!=null&&(k-=1,A=this.ops[k-1],typeof A!="object"))return this.ops.unshift(w),this;if(d(w.attributes,A.attributes)){if(typeof w.insert=="string"&&typeof A.insert=="string")return this.ops[k-1]={insert:A.insert+w.insert},typeof w.attributes=="object"&&(this.ops[k-1].attributes=w.attributes),this;if(typeof w.retain=="number"&&typeof A.retain=="number")return this.ops[k-1]={retain:A.retain+w.retain},typeof w.attributes=="object"&&(this.ops[k-1].attributes=w.attributes),this}}return k===this.ops.length?this.ops.push(w):this.ops.splice(k,0,w),this},x.prototype.chop=function(){var w=this.ops[this.ops.length-1];return w&&w.retain&&!w.attributes&&this.ops.pop(),this},x.prototype.filter=function(w){return this.ops.filter(w)},x.prototype.forEach=function(w){this.ops.forEach(w)},x.prototype.map=function(w){return this.ops.map(w)},x.prototype.partition=function(w){var k=[],A=[];return this.forEach(function(T){var P=w(T)?k:A;P.push(T)}),[k,A]},x.prototype.reduce=function(w,k){return this.ops.reduce(w,k)},x.prototype.changeLength=function(){return this.reduce(function(w,k){return k.insert?w+m.length(k):k.delete?w-k.delete:w},0)},x.prototype.length=function(){return this.reduce(function(w,k){return w+m.length(k)},0)},x.prototype.slice=function(w,k){w=w||0,typeof k!="number"&&(k=1/0);for(var A=[],T=m.iterator(this.ops),P=0;P<k&&T.hasNext();){var I;P<w?I=T.next(w-P):(I=T.next(k-P),A.push(I)),P+=m.length(I)}return new x(A)},x.prototype.compose=function(w){var k=m.iterator(this.ops),A=m.iterator(w.ops),T=[],P=A.peek();if(P!=null&&typeof P.retain=="number"&&P.attributes==null){for(var I=P.retain;k.peekType()==="insert"&&k.peekLength()<=I;)I-=k.peekLength(),T.push(k.next());P.retain-I>0&&A.next(P.retain-I)}for(var N=new x(T);k.hasNext()||A.hasNext();)if(A.peekType()==="insert")N.push(A.next());else if(k.peekType()==="delete")N.push(k.next());else{var E=Math.min(k.peekLength(),A.peekLength()),F=k.next(E),D=A.next(E);if(typeof D.retain=="number"){var R={};typeof F.retain=="number"?R.retain=E:R.insert=F.insert;var G=m.attributes.compose(F.attributes,D.attributes,typeof F.retain=="number");if(G&&(R.attributes=G),N.push(R),!A.hasNext()&&d(N.ops[N.ops.length-1],R)){var q=new x(k.rest());return N.concat(q).chop()}}else typeof D.delete=="number"&&typeof F.retain=="number"&&N.push(D)}return N.chop()},x.prototype.concat=function(w){var k=new x(this.ops.slice());return w.ops.length>0&&(k.push(w.ops[0]),k.ops=k.ops.concat(w.ops.slice(1))),k},x.prototype.diff=function(w,k){if(this.ops===w.ops)return new x;var A=[this,w].map(function(E){return E.map(function(F){if(F.insert!=null)return typeof F.insert=="string"?F.insert:b;var D=E===w?"on":"with";throw new Error("diff() called "+D+" non-document")}).join("")}),T=new x,P=c(A[0],A[1],k),I=m.iterator(this.ops),N=m.iterator(w.ops);return P.forEach(function(E){for(var F=E[1].length;F>0;){var D=0;switch(E[0]){case c.INSERT:D=Math.min(N.peekLength(),F),T.push(N.next(D));break;case c.DELETE:D=Math.min(F,I.peekLength()),I.next(D),T.delete(D);break;case c.EQUAL:D=Math.min(I.peekLength(),N.peekLength(),F);var R=I.next(D),G=N.next(D);d(R.insert,G.insert)?T.retain(D,m.attributes.diff(R.attributes,G.attributes)):T.push(G).delete(D);break}F-=D}}),T.chop()},x.prototype.eachLine=function(w,k){k=k||`
`;for(var A=m.iterator(this.ops),T=new x,P=0;A.hasNext();){if(A.peekType()!=="insert")return;var I=A.peek(),N=m.length(I)-A.peekLength(),E=typeof I.insert=="string"?I.insert.indexOf(k,N)-N:-1;if(E<0)T.push(A.next());else if(E>0)T.push(A.next(E));else{if(w(T,A.next(1).attributes||{},P)===!1)return;P+=1,T=new x}}T.length()>0&&w(T,{},P)},x.prototype.transform=function(w,k){if(k=!!k,typeof w=="number")return this.transformPosition(w,k);for(var A=m.iterator(this.ops),T=m.iterator(w.ops),P=new x;A.hasNext()||T.hasNext();)if(A.peekType()==="insert"&&(k||T.peekType()!=="insert"))P.retain(m.length(A.next()));else if(T.peekType()==="insert")P.push(T.next());else{var I=Math.min(A.peekLength(),T.peekLength()),N=A.next(I),E=T.next(I);if(N.delete)continue;E.delete?P.push(E):P.retain(I,m.attributes.transform(N.attributes,E.attributes,k))}return P.chop()},x.prototype.transformPosition=function(w,k){k=!!k;for(var A=m.iterator(this.ops),T=0;A.hasNext()&&T<=w;){var P=A.peekLength(),I=A.peekType();if(A.next(),I==="delete"){w-=Math.min(P,w-T);continue}else I==="insert"&&(T<w||!k)&&(w+=P);T+=P}return w},e.exports=x},function(e,r){var o=Object.prototype.hasOwnProperty,c=Object.prototype.toString,d=Object.defineProperty,p=Object.getOwnPropertyDescriptor,m=function(A){return typeof Array.isArray=="function"?Array.isArray(A):c.call(A)==="[object Array]"},b=function(A){if(!A||c.call(A)!=="[object Object]")return!1;var T=o.call(A,"constructor"),P=A.constructor&&A.constructor.prototype&&o.call(A.constructor.prototype,"isPrototypeOf");if(A.constructor&&!T&&!P)return!1;var I;for(I in A);return typeof I>"u"||o.call(A,I)},x=function(A,T){d&&T.name==="__proto__"?d(A,T.name,{enumerable:!0,configurable:!0,value:T.newValue,writable:!0}):A[T.name]=T.newValue},w=function(A,T){if(T==="__proto__")if(o.call(A,T)){if(p)return p(A,T).value}else return;return A[T]};e.exports=function k(){var A,T,P,I,N,E,F=arguments[0],D=1,R=arguments.length,G=!1;for(typeof F=="boolean"&&(G=F,F=arguments[1]||{},D=2),(F==null||typeof F!="object"&&typeof F!="function")&&(F={});D<R;++D)if(A=arguments[D],A!=null)for(T in A)P=w(F,T),I=w(A,T),F!==I&&(G&&I&&(b(I)||(N=m(I)))?(N?(N=!1,E=P&&m(P)?P:[]):E=P&&b(P)?P:{},x(F,{name:T,newValue:k(G,E,I)})):typeof I<"u"&&x(F,{name:T,newValue:I}));return F}},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var c=function(){function X(j,Z){for(var ie=0;ie<Z.length;ie++){var oe=Z[ie];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(j,oe.key,oe)}}return function(j,Z,ie){return Z&&X(j.prototype,Z),ie&&X(j,ie),j}}(),d=function X(j,Z,ie){j===null&&(j=Function.prototype);var oe=Object.getOwnPropertyDescriptor(j,Z);if(oe===void 0){var me=Object.getPrototypeOf(j);return me===null?void 0:X(me,Z,ie)}else{if("value"in oe)return oe.value;var ye=oe.get;return ye===void 0?void 0:ye.call(ie)}},p=o(3),m=F(p),b=o(2),x=F(b),w=o(0),k=F(w),A=o(16),T=F(A),P=o(6),I=F(P),N=o(7),E=F(N);function F(X){return X&&X.__esModule?X:{default:X}}function D(X,j){if(!(X instanceof j))throw new TypeError("Cannot call a class as a function")}function R(X,j){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:X}function G(X,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);X.prototype=Object.create(j&&j.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(X,j):X.__proto__=j)}var q=1,W=function(X){G(j,X);function j(){return D(this,j),R(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return c(j,[{key:"attach",value:function(){d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"attach",this).call(this),this.attributes=new k.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new x.default().insert(this.value(),(0,m.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(ie,oe){var me=k.default.query(ie,k.default.Scope.BLOCK_ATTRIBUTE);me!=null&&this.attributes.attribute(me,oe)}},{key:"formatAt",value:function(ie,oe,me,ye){this.format(me,ye)}},{key:"insertAt",value:function(ie,oe,me){if(typeof oe=="string"&&oe.endsWith(`
`)){var ye=k.default.create(te.blotName);this.parent.insertBefore(ye,ie===0?this:this.next),ye.insertAt(0,oe.slice(0,-1))}else d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertAt",this).call(this,ie,oe,me)}}]),j}(k.default.Embed);W.scope=k.default.Scope.BLOCK_BLOT;var te=function(X){G(j,X);function j(Z){D(this,j);var ie=R(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,Z));return ie.cache={},ie}return c(j,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(k.default.Leaf).reduce(function(ie,oe){return oe.length()===0?ie:ie.insert(oe.value(),U(oe))},new x.default).insert(`
`,U(this))),this.cache.delta}},{key:"deleteAt",value:function(ie,oe){d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"deleteAt",this).call(this,ie,oe),this.cache={}}},{key:"formatAt",value:function(ie,oe,me,ye){oe<=0||(k.default.query(me,k.default.Scope.BLOCK)?ie+oe===this.length()&&this.format(me,ye):d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"formatAt",this).call(this,ie,Math.min(oe,this.length()-ie-1),me,ye),this.cache={})}},{key:"insertAt",value:function(ie,oe,me){if(me!=null)return d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertAt",this).call(this,ie,oe,me);if(oe.length!==0){var ye=oe.split(`
`),Ee=ye.shift();Ee.length>0&&(ie<this.length()-1||this.children.tail==null?d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertAt",this).call(this,Math.min(ie,this.length()-1),Ee):this.children.tail.insertAt(this.children.tail.length(),Ee),this.cache={});var fe=this;ye.reduce(function(ce,K){return fe=fe.split(ce,!0),fe.insertAt(0,K),K.length},ie+Ee.length)}}},{key:"insertBefore",value:function(ie,oe){var me=this.children.head;d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,ie,oe),me instanceof T.default&&me.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"length",this).call(this)+q),this.cache.length}},{key:"moveChildren",value:function(ie,oe){d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"moveChildren",this).call(this,ie,oe),this.cache={}}},{key:"optimize",value:function(ie){d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,ie),this.cache={}}},{key:"path",value:function(ie){return d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"path",this).call(this,ie,!0)}},{key:"removeChild",value:function(ie){d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"removeChild",this).call(this,ie),this.cache={}}},{key:"split",value:function(ie){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(oe&&(ie===0||ie>=this.length()-q)){var me=this.clone();return ie===0?(this.parent.insertBefore(me,this),this):(this.parent.insertBefore(me,this.next),me)}else{var ye=d(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"split",this).call(this,ie,oe);return this.cache={},ye}}}]),j}(k.default.Block);te.blotName="block",te.tagName="P",te.defaultChild="break",te.allowedChildren=[I.default,k.default.Embed,E.default];function U(X){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return X==null||(typeof X.formats=="function"&&(j=(0,m.default)(j,X.formats())),X.parent==null||X.parent.blotName=="scroll"||X.parent.statics.scope!==X.statics.scope)?j:U(X.parent,j)}r.bubbleFormats=U,r.BlockEmbed=W,r.default=te},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},d=function(){function fe(ce,K){var ae=[],le=!0,ve=!1,pe=void 0;try{for(var re=ce[Symbol.iterator](),de;!(le=(de=re.next()).done)&&(ae.push(de.value),!(K&&ae.length===K));le=!0);}catch(xe){ve=!0,pe=xe}finally{try{!le&&re.return&&re.return()}finally{if(ve)throw pe}}return ae}return function(ce,K){if(Array.isArray(ce))return ce;if(Symbol.iterator in Object(ce))return fe(ce,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function fe(ce,K){for(var ae=0;ae<K.length;ae++){var le=K[ae];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(ce,le.key,le)}}return function(ce,K,ae){return K&&fe(ce.prototype,K),ae&&fe(ce,ae),ce}}();o(50);var m=o(2),b=U(m),x=o(14),w=U(x),k=o(8),A=U(k),T=o(9),P=U(T),I=o(0),N=U(I),E=o(15),F=U(E),D=o(3),R=U(D),G=o(10),q=U(G),W=o(34),te=U(W);function U(fe){return fe&&fe.__esModule?fe:{default:fe}}function X(fe,ce,K){return ce in fe?Object.defineProperty(fe,ce,{value:K,enumerable:!0,configurable:!0,writable:!0}):fe[ce]=K,fe}function j(fe,ce){if(!(fe instanceof ce))throw new TypeError("Cannot call a class as a function")}var Z=(0,q.default)("quill"),ie=function(){p(fe,null,[{key:"debug",value:function(K){K===!0&&(K="log"),q.default.level(K)}},{key:"find",value:function(K){return K.__quill||N.default.find(K)}},{key:"import",value:function(K){return this.imports[K]==null&&Z.error("Cannot import "+K+". Are you sure it was registered?"),this.imports[K]}},{key:"register",value:function(K,ae){var le=this,ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof K!="string"){var pe=K.attrName||K.blotName;typeof pe=="string"?this.register("formats/"+pe,K,ae):Object.keys(K).forEach(function(re){le.register(re,K[re],ae)})}else this.imports[K]!=null&&!ve&&Z.warn("Overwriting "+K+" with",ae),this.imports[K]=ae,(K.startsWith("blots/")||K.startsWith("formats/"))&&ae.blotName!=="abstract"?N.default.register(ae):K.startsWith("modules")&&typeof ae.register=="function"&&ae.register()}}]);function fe(ce){var K=this,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(j(this,fe),this.options=oe(ce,ae),this.container=this.options.container,this.container==null)return Z.error("Invalid Quill container",ce);this.options.debug&&fe.debug(this.options.debug);var le=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new A.default,this.scroll=N.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new w.default(this.scroll),this.selection=new F.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(A.default.events.EDITOR_CHANGE,function(pe){pe===A.default.events.TEXT_CHANGE&&K.root.classList.toggle("ql-blank",K.editor.isBlank())}),this.emitter.on(A.default.events.SCROLL_UPDATE,function(pe,re){var de=K.selection.lastRange,xe=de&&de.length===0?de.index:void 0;me.call(K,function(){return K.editor.update(null,re,xe)},pe)});var ve=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+le+"<p><br></p></div>");this.setContents(ve),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return p(fe,[{key:"addContainer",value:function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof K=="string"){var le=K;K=document.createElement("div"),K.classList.add(le)}return this.container.insertBefore(K,ae),K}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(K,ae,le){var ve=this,pe=ye(K,ae,le),re=d(pe,4);return K=re[0],ae=re[1],le=re[3],me.call(this,function(){return ve.editor.deleteText(K,ae)},le,K,-1*ae)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(K),this.container.classList.toggle("ql-disabled",!K)}},{key:"focus",value:function(){var K=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=K,this.scrollIntoView()}},{key:"format",value:function(K,ae){var le=this,ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.default.sources.API;return me.call(this,function(){var pe=le.getSelection(!0),re=new b.default;if(pe==null)return re;if(N.default.query(K,N.default.Scope.BLOCK))re=le.editor.formatLine(pe.index,pe.length,X({},K,ae));else{if(pe.length===0)return le.selection.format(K,ae),re;re=le.editor.formatText(pe.index,pe.length,X({},K,ae))}return le.setSelection(pe,A.default.sources.SILENT),re},ve)}},{key:"formatLine",value:function(K,ae,le,ve,pe){var re=this,de=void 0,xe=ye(K,ae,le,ve,pe),be=d(xe,4);return K=be[0],ae=be[1],de=be[2],pe=be[3],me.call(this,function(){return re.editor.formatLine(K,ae,de)},pe,K,0)}},{key:"formatText",value:function(K,ae,le,ve,pe){var re=this,de=void 0,xe=ye(K,ae,le,ve,pe),be=d(xe,4);return K=be[0],ae=be[1],de=be[2],pe=be[3],me.call(this,function(){return re.editor.formatText(K,ae,de)},pe,K,0)}},{key:"getBounds",value:function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,le=void 0;typeof K=="number"?le=this.selection.getBounds(K,ae):le=this.selection.getBounds(K.index,K.length);var ve=this.container.getBoundingClientRect();return{bottom:le.bottom-ve.top,height:le.height,left:le.left-ve.left,right:le.right-ve.left,top:le.top-ve.top,width:le.width}}},{key:"getContents",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-K,le=ye(K,ae),ve=d(le,2);return K=ve[0],ae=ve[1],this.editor.getContents(K,ae)}},{key:"getFormat",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof K=="number"?this.editor.getFormat(K,ae):this.editor.getFormat(K.index,K.length)}},{key:"getIndex",value:function(K){return K.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(K){return this.scroll.leaf(K)}},{key:"getLine",value:function(K){return this.scroll.line(K)}},{key:"getLines",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof K!="number"?this.scroll.lines(K.index,K.length):this.scroll.lines(K,ae)}},{key:"getModule",value:function(K){return this.theme.modules[K]}},{key:"getSelection",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return K&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-K,le=ye(K,ae),ve=d(le,2);return K=ve[0],ae=ve[1],this.editor.getText(K,ae)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(K,ae,le){var ve=this,pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:fe.sources.API;return me.call(this,function(){return ve.editor.insertEmbed(K,ae,le)},pe,K)}},{key:"insertText",value:function(K,ae,le,ve,pe){var re=this,de=void 0,xe=ye(K,0,le,ve,pe),be=d(xe,4);return K=be[0],de=be[2],pe=be[3],me.call(this,function(){return re.editor.insertText(K,ae,de)},pe,K,ae.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(K,ae,le){this.clipboard.dangerouslyPasteHTML(K,ae,le)}},{key:"removeFormat",value:function(K,ae,le){var ve=this,pe=ye(K,ae,le),re=d(pe,4);return K=re[0],ae=re[1],le=re[3],me.call(this,function(){return ve.editor.removeFormat(K,ae)},le,K)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(K){var ae=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.default.sources.API;return me.call(this,function(){K=new b.default(K);var ve=ae.getLength(),pe=ae.editor.deleteText(0,ve),re=ae.editor.applyDelta(K),de=re.ops[re.ops.length-1];de!=null&&typeof de.insert=="string"&&de.insert[de.insert.length-1]===`
`&&(ae.editor.deleteText(ae.getLength()-1,1),re.delete(1));var xe=pe.compose(re);return xe},le)}},{key:"setSelection",value:function(K,ae,le){if(K==null)this.selection.setRange(null,ae||fe.sources.API);else{var ve=ye(K,ae,le),pe=d(ve,4);K=pe[0],ae=pe[1],le=pe[3],this.selection.setRange(new E.Range(K,ae),le),le!==A.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.default.sources.API,le=new b.default().insert(K);return this.setContents(le,ae)}},{key:"update",value:function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.default.sources.USER,ae=this.scroll.update(K);return this.selection.update(K),ae}},{key:"updateContents",value:function(K){var ae=this,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.default.sources.API;return me.call(this,function(){return K=new b.default(K),ae.editor.applyDelta(K,le)},le,!0)}}]),fe}();ie.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},ie.events=A.default.events,ie.sources=A.default.sources,ie.version="1.3.7",ie.imports={delta:b.default,parchment:N.default,"core/module":P.default,"core/theme":te.default};function oe(fe,ce){if(ce=(0,R.default)(!0,{container:fe,modules:{clipboard:!0,keyboard:!0,history:!0}},ce),!ce.theme||ce.theme===ie.DEFAULTS.theme)ce.theme=te.default;else if(ce.theme=ie.import("themes/"+ce.theme),ce.theme==null)throw new Error("Invalid theme "+ce.theme+". Did you register it?");var K=(0,R.default)(!0,{},ce.theme.DEFAULTS);[K,ce].forEach(function(ve){ve.modules=ve.modules||{},Object.keys(ve.modules).forEach(function(pe){ve.modules[pe]===!0&&(ve.modules[pe]={})})});var ae=Object.keys(K.modules).concat(Object.keys(ce.modules)),le=ae.reduce(function(ve,pe){var re=ie.import("modules/"+pe);return re==null?Z.error("Cannot load "+pe+" module. Are you sure you registered it?"):ve[pe]=re.DEFAULTS||{},ve},{});return ce.modules!=null&&ce.modules.toolbar&&ce.modules.toolbar.constructor!==Object&&(ce.modules.toolbar={container:ce.modules.toolbar}),ce=(0,R.default)(!0,{},ie.DEFAULTS,{modules:le},K,ce),["bounds","container","scrollingContainer"].forEach(function(ve){typeof ce[ve]=="string"&&(ce[ve]=document.querySelector(ce[ve]))}),ce.modules=Object.keys(ce.modules).reduce(function(ve,pe){return ce.modules[pe]&&(ve[pe]=ce.modules[pe]),ve},{}),ce}function me(fe,ce,K,ae){if(this.options.strict&&!this.isEnabled()&&ce===A.default.sources.USER)return new b.default;var le=K==null?null:this.getSelection(),ve=this.editor.delta,pe=fe();if(le!=null&&(K===!0&&(K=le.index),ae==null?le=Ee(le,pe,ce):ae!==0&&(le=Ee(le,K,ae,ce)),this.setSelection(le,A.default.sources.SILENT)),pe.length()>0){var re,de=[A.default.events.TEXT_CHANGE,pe,ve,ce];if((re=this.emitter).emit.apply(re,[A.default.events.EDITOR_CHANGE].concat(de)),ce!==A.default.sources.SILENT){var xe;(xe=this.emitter).emit.apply(xe,de)}}return pe}function ye(fe,ce,K,ae,le){var ve={};return typeof fe.index=="number"&&typeof fe.length=="number"?typeof ce!="number"?(le=ae,ae=K,K=ce,ce=fe.length,fe=fe.index):(ce=fe.length,fe=fe.index):typeof ce!="number"&&(le=ae,ae=K,K=ce,ce=0),(typeof K>"u"?"undefined":c(K))==="object"?(ve=K,le=ae):typeof K=="string"&&(ae!=null?ve[K]=ae:le=K),le=le||A.default.sources.API,[fe,ce,ve,le]}function Ee(fe,ce,K,ae){if(fe==null)return null;var le=void 0,ve=void 0;if(ce instanceof b.default){var pe=[fe.index,fe.index+fe.length].map(function(be){return ce.transformPosition(be,ae!==A.default.sources.USER)}),re=d(pe,2);le=re[0],ve=re[1]}else{var de=[fe.index,fe.index+fe.length].map(function(be){return be<ce||be===ce&&ae===A.default.sources.USER?be:K>=0?be+K:Math.max(ce,be+K)}),xe=d(de,2);le=xe[0],ve=xe[1]}return new E.Range(le,ve-le)}r.expandConfig=oe,r.overload=ye,r.default=ie},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function I(N,E){for(var F=0;F<E.length;F++){var D=E[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,E,F){return E&&I(N.prototype,E),F&&I(N,F),N}}(),d=function I(N,E,F){N===null&&(N=Function.prototype);var D=Object.getOwnPropertyDescriptor(N,E);if(D===void 0){var R=Object.getPrototypeOf(N);return R===null?void 0:I(R,E,F)}else{if("value"in D)return D.value;var G=D.get;return G===void 0?void 0:G.call(F)}},p=o(7),m=w(p),b=o(0),x=w(b);function w(I){return I&&I.__esModule?I:{default:I}}function k(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function A(I,N){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:I}function T(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(I,N):I.__proto__=N)}var P=function(I){T(N,I);function N(){return k(this,N),A(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return c(N,[{key:"formatAt",value:function(F,D,R,G){if(N.compare(this.statics.blotName,R)<0&&x.default.query(R,x.default.Scope.BLOT)){var q=this.isolate(F,D);G&&q.wrap(R,G)}else d(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,F,D,R,G)}},{key:"optimize",value:function(F){if(d(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,F),this.parent instanceof N&&N.compare(this.statics.blotName,this.parent.statics.blotName)>0){var D=this.parent.isolate(this.offset(),this.length());this.moveChildren(D),D.wrap(this)}}}],[{key:"compare",value:function(F,D){var R=N.order.indexOf(F),G=N.order.indexOf(D);return R>=0||G>=0?R-G:F===D?0:F<D?-1:1}}]),N}(x.default.Inline);P.allowedChildren=[P,x.default.Embed,m.default],P.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=P},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(0),d=p(c);function p(k){return k&&k.__esModule?k:{default:k}}function m(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function b(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var w=function(k){x(A,k);function A(){return m(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(d.default.Text);r.default=w},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function E(F,D){for(var R=0;R<D.length;R++){var G=D[R];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(F,G.key,G)}}return function(F,D,R){return D&&E(F.prototype,D),R&&E(F,R),F}}(),d=function E(F,D,R){F===null&&(F=Function.prototype);var G=Object.getOwnPropertyDescriptor(F,D);if(G===void 0){var q=Object.getPrototypeOf(F);return q===null?void 0:E(q,D,R)}else{if("value"in G)return G.value;var W=G.get;return W===void 0?void 0:W.call(R)}},p=o(54),m=w(p),b=o(10),x=w(b);function w(E){return E&&E.__esModule?E:{default:E}}function k(E,F){if(!(E instanceof F))throw new TypeError("Cannot call a class as a function")}function A(E,F){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:E}function T(E,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);E.prototype=Object.create(F&&F.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(E,F):E.__proto__=F)}var P=(0,x.default)("quill:events"),I=["selectionchange","mousedown","mouseup","click"];I.forEach(function(E){document.addEventListener(E,function(){for(var F=arguments.length,D=Array(F),R=0;R<F;R++)D[R]=arguments[R];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(G){if(G.__quill&&G.__quill.emitter){var q;(q=G.__quill.emitter).handleDOM.apply(q,D)}})})});var N=function(E){T(F,E);function F(){k(this,F);var D=A(this,(F.__proto__||Object.getPrototypeOf(F)).call(this));return D.listeners={},D.on("error",P.error),D}return c(F,[{key:"emit",value:function(){P.log.apply(P,arguments),d(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(R){for(var G=arguments.length,q=Array(G>1?G-1:0),W=1;W<G;W++)q[W-1]=arguments[W];(this.listeners[R.type]||[]).forEach(function(te){var U=te.node,X=te.handler;(R.target===U||U.contains(R.target))&&X.apply(void 0,[R].concat(q))})}},{key:"listenDOM",value:function(R,G,q){this.listeners[R]||(this.listeners[R]=[]),this.listeners[R].push({node:G,handler:q})}}]),F}(m.default);N.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},N.sources={API:"api",SILENT:"silent",USER:"user"},r.default=N},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}var d=function p(m){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c(this,p),this.quill=m,this.options=b};d.DEFAULTS={},r.default=d},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=["error","warn","log","info"],d="warn";function p(b){if(c.indexOf(b)<=c.indexOf(d)){for(var x,w=arguments.length,k=Array(w>1?w-1:0),A=1;A<w;A++)k[A-1]=arguments[A];(x=console)[b].apply(x,k)}}function m(b){return c.reduce(function(x,w){return x[w]=p.bind(console,w,b),x},{})}p.level=m.level=function(b){d=b},r.default=m},function(e,r,o){var c=Array.prototype.slice,d=o(52),p=o(53),m=e.exports=function(k,A,T){return T||(T={}),k===A?!0:k instanceof Date&&A instanceof Date?k.getTime()===A.getTime():!k||!A||typeof k!="object"&&typeof A!="object"?T.strict?k===A:k==A:w(k,A,T)};function b(k){return k==null}function x(k){return!(!k||typeof k!="object"||typeof k.length!="number"||typeof k.copy!="function"||typeof k.slice!="function"||k.length>0&&typeof k[0]!="number")}function w(k,A,T){var P,I;if(b(k)||b(A)||k.prototype!==A.prototype)return!1;if(p(k))return p(A)?(k=c.call(k),A=c.call(A),m(k,A,T)):!1;if(x(k)){if(!x(A)||k.length!==A.length)return!1;for(P=0;P<k.length;P++)if(k[P]!==A[P])return!1;return!0}try{var N=d(k),E=d(A)}catch{return!1}if(N.length!=E.length)return!1;for(N.sort(),E.sort(),P=N.length-1;P>=0;P--)if(N[P]!=E[P])return!1;for(P=N.length-1;P>=0;P--)if(I=N[P],!m(k[I],A[I],T))return!1;return typeof k==typeof A}},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(1),d=function(){function p(m,b,x){x===void 0&&(x={}),this.attrName=m,this.keyName=b;var w=c.Scope.TYPE&c.Scope.ATTRIBUTE;x.scope!=null?this.scope=x.scope&c.Scope.LEVEL|w:this.scope=c.Scope.ATTRIBUTE,x.whitelist!=null&&(this.whitelist=x.whitelist)}return p.keys=function(m){return[].map.call(m.attributes,function(b){return b.name})},p.prototype.add=function(m,b){return this.canAdd(m,b)?(m.setAttribute(this.keyName,b),!0):!1},p.prototype.canAdd=function(m,b){var x=c.query(m,c.Scope.BLOT&(this.scope|c.Scope.TYPE));return x==null?!1:this.whitelist==null?!0:typeof b=="string"?this.whitelist.indexOf(b.replace(/["']/g,""))>-1:this.whitelist.indexOf(b)>-1},p.prototype.remove=function(m){m.removeAttribute(this.keyName)},p.prototype.value=function(m){var b=m.getAttribute(this.keyName);return this.canAdd(m,b)&&b?b:""},p}();r.default=d},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var c=function(){function W(te,U){var X=[],j=!0,Z=!1,ie=void 0;try{for(var oe=te[Symbol.iterator](),me;!(j=(me=oe.next()).done)&&(X.push(me.value),!(U&&X.length===U));j=!0);}catch(ye){Z=!0,ie=ye}finally{try{!j&&oe.return&&oe.return()}finally{if(Z)throw ie}}return X}return function(te,U){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return W(te,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function W(te,U){for(var X=0;X<U.length;X++){var j=U[X];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(te,j.key,j)}}return function(te,U,X){return U&&W(te.prototype,U),X&&W(te,X),te}}(),p=function W(te,U,X){te===null&&(te=Function.prototype);var j=Object.getOwnPropertyDescriptor(te,U);if(j===void 0){var Z=Object.getPrototypeOf(te);return Z===null?void 0:W(Z,U,X)}else{if("value"in j)return j.value;var ie=j.get;return ie===void 0?void 0:ie.call(X)}},m=o(2),b=E(m),x=o(0),w=E(x),k=o(4),A=E(k),T=o(6),P=E(T),I=o(7),N=E(I);function E(W){return W&&W.__esModule?W:{default:W}}function F(W,te){if(!(W instanceof te))throw new TypeError("Cannot call a class as a function")}function D(W,te){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:W}function R(W,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);W.prototype=Object.create(te&&te.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(W,te):W.__proto__=te)}var G=function(W){R(te,W);function te(){return F(this,te),D(this,(te.__proto__||Object.getPrototypeOf(te)).apply(this,arguments))}return te}(P.default);G.blotName="code",G.tagName="CODE";var q=function(W){R(te,W);function te(){return F(this,te),D(this,(te.__proto__||Object.getPrototypeOf(te)).apply(this,arguments))}return d(te,[{key:"delta",value:function(){var X=this,j=this.domNode.textContent;return j.endsWith(`
`)&&(j=j.slice(0,-1)),j.split(`
`).reduce(function(Z,ie){return Z.insert(ie).insert(`
`,X.formats())},new b.default)}},{key:"format",value:function(X,j){if(!(X===this.statics.blotName&&j)){var Z=this.descendant(N.default,this.length()-1),ie=c(Z,1),oe=ie[0];oe!=null&&oe.deleteAt(oe.length()-1,1),p(te.prototype.__proto__||Object.getPrototypeOf(te.prototype),"format",this).call(this,X,j)}}},{key:"formatAt",value:function(X,j,Z,ie){if(j!==0&&!(w.default.query(Z,w.default.Scope.BLOCK)==null||Z===this.statics.blotName&&ie===this.statics.formats(this.domNode))){var oe=this.newlineIndex(X);if(!(oe<0||oe>=X+j)){var me=this.newlineIndex(X,!0)+1,ye=oe-me+1,Ee=this.isolate(me,ye),fe=Ee.next;Ee.format(Z,ie),fe instanceof te&&fe.formatAt(0,X-me+j-ye,Z,ie)}}}},{key:"insertAt",value:function(X,j,Z){if(Z==null){var ie=this.descendant(N.default,X),oe=c(ie,2),me=oe[0],ye=oe[1];me.insertAt(ye,j)}}},{key:"length",value:function(){var X=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?X:X+1}},{key:"newlineIndex",value:function(X){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(j)return this.domNode.textContent.slice(0,X).lastIndexOf(`
`);var Z=this.domNode.textContent.slice(X).indexOf(`
`);return Z>-1?X+Z:-1}},{key:"optimize",value:function(X){this.domNode.textContent.endsWith(`
`)||this.appendChild(w.default.create("text",`
`)),p(te.prototype.__proto__||Object.getPrototypeOf(te.prototype),"optimize",this).call(this,X);var j=this.next;j!=null&&j.prev===this&&j.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===j.statics.formats(j.domNode)&&(j.optimize(X),j.moveChildren(this),j.remove())}},{key:"replace",value:function(X){p(te.prototype.__proto__||Object.getPrototypeOf(te.prototype),"replace",this).call(this,X),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(j){var Z=w.default.find(j);Z==null?j.parentNode.removeChild(j):Z instanceof w.default.Embed?Z.remove():Z.unwrap()})}}],[{key:"create",value:function(X){var j=p(te.__proto__||Object.getPrototypeOf(te),"create",this).call(this,X);return j.setAttribute("spellcheck",!1),j}},{key:"formats",value:function(){return!0}}]),te}(A.default);q.blotName="code-block",q.tagName="PRE",q.TAB="  ",r.Code=G,r.default=q},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},d=function(){function fe(ce,K){var ae=[],le=!0,ve=!1,pe=void 0;try{for(var re=ce[Symbol.iterator](),de;!(le=(de=re.next()).done)&&(ae.push(de.value),!(K&&ae.length===K));le=!0);}catch(xe){ve=!0,pe=xe}finally{try{!le&&re.return&&re.return()}finally{if(ve)throw pe}}return ae}return function(ce,K){if(Array.isArray(ce))return ce;if(Symbol.iterator in Object(ce))return fe(ce,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function fe(ce,K){for(var ae=0;ae<K.length;ae++){var le=K[ae];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(ce,le.key,le)}}return function(ce,K,ae){return K&&fe(ce.prototype,K),ae&&fe(ce,ae),ce}}(),m=o(2),b=j(m),x=o(20),w=j(x),k=o(0),A=j(k),T=o(13),P=j(T),I=o(24),N=j(I),E=o(4),F=j(E),D=o(16),R=j(D),G=o(21),q=j(G),W=o(11),te=j(W),U=o(3),X=j(U);function j(fe){return fe&&fe.__esModule?fe:{default:fe}}function Z(fe,ce,K){return ce in fe?Object.defineProperty(fe,ce,{value:K,enumerable:!0,configurable:!0,writable:!0}):fe[ce]=K,fe}function ie(fe,ce){if(!(fe instanceof ce))throw new TypeError("Cannot call a class as a function")}var oe=/^[ -~]*$/,me=function(){function fe(ce){ie(this,fe),this.scroll=ce,this.delta=this.getDelta()}return p(fe,[{key:"applyDelta",value:function(K){var ae=this,le=!1;this.scroll.update();var ve=this.scroll.length();return this.scroll.batchStart(),K=Ee(K),K.reduce(function(pe,re){var de=re.retain||re.delete||re.insert.length||1,xe=re.attributes||{};if(re.insert!=null){if(typeof re.insert=="string"){var be=re.insert;be.endsWith(`
`)&&le&&(le=!1,be=be.slice(0,-1)),pe>=ve&&!be.endsWith(`
`)&&(le=!0),ae.scroll.insertAt(pe,be);var Oe=ae.scroll.line(pe),ze=d(Oe,2),We=ze[0],qe=ze[1],Qe=(0,X.default)({},(0,E.bubbleFormats)(We));if(We instanceof F.default){var at=We.descendant(A.default.Leaf,qe),kt=d(at,1),dt=kt[0];Qe=(0,X.default)(Qe,(0,E.bubbleFormats)(dt))}xe=w.default.attributes.diff(Qe,xe)||{}}else if(c(re.insert)==="object"){var Se=Object.keys(re.insert)[0];if(Se==null)return pe;ae.scroll.insertAt(pe,Se,re.insert[Se])}ve+=de}return Object.keys(xe).forEach(function(Ae){ae.scroll.formatAt(pe,de,Ae,xe[Ae])}),pe+de},0),K.reduce(function(pe,re){return typeof re.delete=="number"?(ae.scroll.deleteAt(pe,re.delete),pe):pe+(re.retain||re.insert.length||1)},0),this.scroll.batchEnd(),this.update(K)}},{key:"deleteText",value:function(K,ae){return this.scroll.deleteAt(K,ae),this.update(new b.default().retain(K).delete(ae))}},{key:"formatLine",value:function(K,ae){var le=this,ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ve).forEach(function(pe){if(!(le.scroll.whitelist!=null&&!le.scroll.whitelist[pe])){var re=le.scroll.lines(K,Math.max(ae,1)),de=ae;re.forEach(function(xe){var be=xe.length();if(!(xe instanceof P.default))xe.format(pe,ve[pe]);else{var Oe=K-xe.offset(le.scroll),ze=xe.newlineIndex(Oe+de)-Oe+1;xe.formatAt(Oe,ze,pe,ve[pe])}de-=be})}}),this.scroll.optimize(),this.update(new b.default().retain(K).retain(ae,(0,q.default)(ve)))}},{key:"formatText",value:function(K,ae){var le=this,ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ve).forEach(function(pe){le.scroll.formatAt(K,ae,pe,ve[pe])}),this.update(new b.default().retain(K).retain(ae,(0,q.default)(ve)))}},{key:"getContents",value:function(K,ae){return this.delta.slice(K,K+ae)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(K,ae){return K.concat(ae.delta())},new b.default)}},{key:"getFormat",value:function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,le=[],ve=[];ae===0?this.scroll.path(K).forEach(function(re){var de=d(re,1),xe=de[0];xe instanceof F.default?le.push(xe):xe instanceof A.default.Leaf&&ve.push(xe)}):(le=this.scroll.lines(K,ae),ve=this.scroll.descendants(A.default.Leaf,K,ae));var pe=[le,ve].map(function(re){if(re.length===0)return{};for(var de=(0,E.bubbleFormats)(re.shift());Object.keys(de).length>0;){var xe=re.shift();if(xe==null)return de;de=ye((0,E.bubbleFormats)(xe),de)}return de});return X.default.apply(X.default,pe)}},{key:"getText",value:function(K,ae){return this.getContents(K,ae).filter(function(le){return typeof le.insert=="string"}).map(function(le){return le.insert}).join("")}},{key:"insertEmbed",value:function(K,ae,le){return this.scroll.insertAt(K,ae,le),this.update(new b.default().retain(K).insert(Z({},ae,le)))}},{key:"insertText",value:function(K,ae){var le=this,ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ae=ae.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(K,ae),Object.keys(ve).forEach(function(pe){le.scroll.formatAt(K,ae.length,pe,ve[pe])}),this.update(new b.default().retain(K).insert(ae,(0,q.default)(ve)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var K=this.scroll.children.head;return K.statics.blotName!==F.default.blotName||K.children.length>1?!1:K.children.head instanceof R.default}},{key:"removeFormat",value:function(K,ae){var le=this.getText(K,ae),ve=this.scroll.line(K+ae),pe=d(ve,2),re=pe[0],de=pe[1],xe=0,be=new b.default;re!=null&&(re instanceof P.default?xe=re.newlineIndex(de)-de+1:xe=re.length()-de,be=re.delta().slice(de,de+xe-1).insert(`
`));var Oe=this.getContents(K,ae+xe),ze=Oe.diff(new b.default().insert(le).concat(be)),We=new b.default().retain(K).concat(ze);return this.applyDelta(We)}},{key:"update",value:function(K){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ve=this.delta;if(ae.length===1&&ae[0].type==="characterData"&&ae[0].target.data.match(oe)&&A.default.find(ae[0].target)){var pe=A.default.find(ae[0].target),re=(0,E.bubbleFormats)(pe),de=pe.offset(this.scroll),xe=ae[0].oldValue.replace(N.default.CONTENTS,""),be=new b.default().insert(xe),Oe=new b.default().insert(pe.value()),ze=new b.default().retain(de).concat(be.diff(Oe,le));K=ze.reduce(function(We,qe){return qe.insert?We.insert(qe.insert,re):We.push(qe)},new b.default),this.delta=ve.compose(K)}else this.delta=this.getDelta(),(!K||!(0,te.default)(ve.compose(K),this.delta))&&(K=ve.diff(this.delta,le));return K}}]),fe}();function ye(fe,ce){return Object.keys(ce).reduce(function(K,ae){return fe[ae]==null||(ce[ae]===fe[ae]?K[ae]=ce[ae]:Array.isArray(ce[ae])?ce[ae].indexOf(fe[ae])<0&&(K[ae]=ce[ae].concat([fe[ae]])):K[ae]=[ce[ae],fe[ae]]),K},{})}function Ee(fe){return fe.reduce(function(ce,K){if(K.insert===1){var ae=(0,q.default)(K.attributes);return delete ae.image,ce.insert({image:K.attributes.image},ae)}if(K.attributes!=null&&(K.attributes.list===!0||K.attributes.bullet===!0)&&(K=(0,q.default)(K),K.attributes.list?K.attributes.list="ordered":(K.attributes.list="bullet",delete K.attributes.bullet)),typeof K.insert=="string"){var le=K.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return ce.insert(le,K.attributes)}return ce.push(K)},new b.default)}r.default=me},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var c=function(){function W(te,U){var X=[],j=!0,Z=!1,ie=void 0;try{for(var oe=te[Symbol.iterator](),me;!(j=(me=oe.next()).done)&&(X.push(me.value),!(U&&X.length===U));j=!0);}catch(ye){Z=!0,ie=ye}finally{try{!j&&oe.return&&oe.return()}finally{if(Z)throw ie}}return X}return function(te,U){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return W(te,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function W(te,U){for(var X=0;X<U.length;X++){var j=U[X];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(te,j.key,j)}}return function(te,U,X){return U&&W(te.prototype,U),X&&W(te,X),te}}(),p=o(0),m=N(p),b=o(21),x=N(b),w=o(11),k=N(w),A=o(8),T=N(A),P=o(10),I=N(P);function N(W){return W&&W.__esModule?W:{default:W}}function E(W){if(Array.isArray(W)){for(var te=0,U=Array(W.length);te<W.length;te++)U[te]=W[te];return U}else return Array.from(W)}function F(W,te){if(!(W instanceof te))throw new TypeError("Cannot call a class as a function")}var D=(0,I.default)("quill:selection"),R=function W(te){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;F(this,W),this.index=te,this.length=U},G=function(){function W(te,U){var X=this;F(this,W),this.emitter=U,this.scroll=te,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=m.default.create("cursor",this),this.lastRange=this.savedRange=new R(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){X.mouseDown||setTimeout(X.update.bind(X,T.default.sources.USER),1)}),this.emitter.on(T.default.events.EDITOR_CHANGE,function(j,Z){j===T.default.events.TEXT_CHANGE&&Z.length()>0&&X.update(T.default.sources.SILENT)}),this.emitter.on(T.default.events.SCROLL_BEFORE_UPDATE,function(){if(!!X.hasFocus()){var j=X.getNativeRange();j!=null&&j.start.node!==X.cursor.textNode&&X.emitter.once(T.default.events.SCROLL_UPDATE,function(){try{X.setNativeRange(j.start.node,j.start.offset,j.end.node,j.end.offset)}catch{}})}}),this.emitter.on(T.default.events.SCROLL_OPTIMIZE,function(j,Z){if(Z.range){var ie=Z.range,oe=ie.startNode,me=ie.startOffset,ye=ie.endNode,Ee=ie.endOffset;X.setNativeRange(oe,me,ye,Ee)}}),this.update(T.default.sources.SILENT)}return d(W,[{key:"handleComposition",value:function(){var U=this;this.root.addEventListener("compositionstart",function(){U.composing=!0}),this.root.addEventListener("compositionend",function(){if(U.composing=!1,U.cursor.parent){var X=U.cursor.restore();if(!X)return;setTimeout(function(){U.setNativeRange(X.startNode,X.startOffset,X.endNode,X.endOffset)},1)}})}},{key:"handleDragging",value:function(){var U=this;this.emitter.listenDOM("mousedown",document.body,function(){U.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){U.mouseDown=!1,U.update(T.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(U,X){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[U])){this.scroll.update();var j=this.getNativeRange();if(!(j==null||!j.native.collapsed||m.default.query(U,m.default.Scope.BLOCK))){if(j.start.node!==this.cursor.textNode){var Z=m.default.find(j.start.node,!1);if(Z==null)return;if(Z instanceof m.default.Leaf){var ie=Z.split(j.start.offset);Z.parent.insertBefore(this.cursor,ie)}else Z.insertBefore(this.cursor,j.start.node);this.cursor.attach()}this.cursor.format(U,X),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(U){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,j=this.scroll.length();U=Math.min(U,j-1),X=Math.min(U+X,j-1)-U;var Z=void 0,ie=this.scroll.leaf(U),oe=c(ie,2),me=oe[0],ye=oe[1];if(me==null)return null;var Ee=me.position(ye,!0),fe=c(Ee,2);Z=fe[0],ye=fe[1];var ce=document.createRange();if(X>0){ce.setStart(Z,ye);var K=this.scroll.leaf(U+X),ae=c(K,2);if(me=ae[0],ye=ae[1],me==null)return null;var le=me.position(ye,!0),ve=c(le,2);return Z=ve[0],ye=ve[1],ce.setEnd(Z,ye),ce.getBoundingClientRect()}else{var pe="left",re=void 0;return Z instanceof Text?(ye<Z.data.length?(ce.setStart(Z,ye),ce.setEnd(Z,ye+1)):(ce.setStart(Z,ye-1),ce.setEnd(Z,ye),pe="right"),re=ce.getBoundingClientRect()):(re=me.domNode.getBoundingClientRect(),ye>0&&(pe="right")),{bottom:re.top+re.height,height:re.height,left:re[pe],right:re[pe],top:re.top,width:0}}}},{key:"getNativeRange",value:function(){var U=document.getSelection();if(U==null||U.rangeCount<=0)return null;var X=U.getRangeAt(0);if(X==null)return null;var j=this.normalizeNative(X);return D.info("getNativeRange",j),j}},{key:"getRange",value:function(){var U=this.getNativeRange();if(U==null)return[null,null];var X=this.normalizedToRange(U);return[X,U]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(U){var X=this,j=[[U.start.node,U.start.offset]];U.native.collapsed||j.push([U.end.node,U.end.offset]);var Z=j.map(function(me){var ye=c(me,2),Ee=ye[0],fe=ye[1],ce=m.default.find(Ee,!0),K=ce.offset(X.scroll);return fe===0?K:ce instanceof m.default.Container?K+ce.length():K+ce.index(Ee,fe)}),ie=Math.min(Math.max.apply(Math,E(Z)),this.scroll.length()-1),oe=Math.min.apply(Math,[ie].concat(E(Z)));return new R(oe,ie-oe)}},{key:"normalizeNative",value:function(U){if(!q(this.root,U.startContainer)||!U.collapsed&&!q(this.root,U.endContainer))return null;var X={start:{node:U.startContainer,offset:U.startOffset},end:{node:U.endContainer,offset:U.endOffset},native:U};return[X.start,X.end].forEach(function(j){for(var Z=j.node,ie=j.offset;!(Z instanceof Text)&&Z.childNodes.length>0;)if(Z.childNodes.length>ie)Z=Z.childNodes[ie],ie=0;else if(Z.childNodes.length===ie)Z=Z.lastChild,ie=Z instanceof Text?Z.data.length:Z.childNodes.length+1;else break;j.node=Z,j.offset=ie}),X}},{key:"rangeToNative",value:function(U){var X=this,j=U.collapsed?[U.index]:[U.index,U.index+U.length],Z=[],ie=this.scroll.length();return j.forEach(function(oe,me){oe=Math.min(ie-1,oe);var ye=void 0,Ee=X.scroll.leaf(oe),fe=c(Ee,2),ce=fe[0],K=fe[1],ae=ce.position(K,me!==0),le=c(ae,2);ye=le[0],K=le[1],Z.push(ye,K)}),Z.length<2&&(Z=Z.concat(Z)),Z}},{key:"scrollIntoView",value:function(U){var X=this.lastRange;if(X!=null){var j=this.getBounds(X.index,X.length);if(j!=null){var Z=this.scroll.length()-1,ie=this.scroll.line(Math.min(X.index,Z)),oe=c(ie,1),me=oe[0],ye=me;if(X.length>0){var Ee=this.scroll.line(Math.min(X.index+X.length,Z)),fe=c(Ee,1);ye=fe[0]}if(!(me==null||ye==null)){var ce=U.getBoundingClientRect();j.top<ce.top?U.scrollTop-=ce.top-j.top:j.bottom>ce.bottom&&(U.scrollTop+=j.bottom-ce.bottom)}}}}},{key:"setNativeRange",value:function(U,X){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X,ie=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(D.info("setNativeRange",U,X,j,Z),!(U!=null&&(this.root.parentNode==null||U.parentNode==null||j.parentNode==null))){var oe=document.getSelection();if(oe!=null)if(U!=null){this.hasFocus()||this.root.focus();var me=(this.getNativeRange()||{}).native;if(me==null||ie||U!==me.startContainer||X!==me.startOffset||j!==me.endContainer||Z!==me.endOffset){U.tagName=="BR"&&(X=[].indexOf.call(U.parentNode.childNodes,U),U=U.parentNode),j.tagName=="BR"&&(Z=[].indexOf.call(j.parentNode.childNodes,j),j=j.parentNode);var ye=document.createRange();ye.setStart(U,X),ye.setEnd(j,Z),oe.removeAllRanges(),oe.addRange(ye)}}else oe.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(U){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.default.sources.API;if(typeof X=="string"&&(j=X,X=!1),D.info("setRange",U),U!=null){var Z=this.rangeToNative(U);this.setNativeRange.apply(this,E(Z).concat([X]))}else this.setNativeRange(null);this.update(j)}},{key:"update",value:function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T.default.sources.USER,X=this.lastRange,j=this.getRange(),Z=c(j,2),ie=Z[0],oe=Z[1];if(this.lastRange=ie,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,k.default)(X,this.lastRange)){var me;!this.composing&&oe!=null&&oe.native.collapsed&&oe.start.node!==this.cursor.textNode&&this.cursor.restore();var ye=[T.default.events.SELECTION_CHANGE,(0,x.default)(this.lastRange),(0,x.default)(X),U];if((me=this.emitter).emit.apply(me,[T.default.events.EDITOR_CHANGE].concat(ye)),U!==T.default.sources.SILENT){var Ee;(Ee=this.emitter).emit.apply(Ee,ye)}}}}]),W}();function q(W,te){try{te.parentNode}catch{return!1}return te instanceof Text&&(te=te.parentNode),W.contains(te)}r.Range=R,r.default=G},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function T(P,I){for(var N=0;N<I.length;N++){var E=I[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,E.key,E)}}return function(P,I,N){return I&&T(P.prototype,I),N&&T(P,N),P}}(),d=function T(P,I,N){P===null&&(P=Function.prototype);var E=Object.getOwnPropertyDescriptor(P,I);if(E===void 0){var F=Object.getPrototypeOf(P);return F===null?void 0:T(F,I,N)}else{if("value"in E)return E.value;var D=E.get;return D===void 0?void 0:D.call(N)}},p=o(0),m=b(p);function b(T){return T&&T.__esModule?T:{default:T}}function x(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function w(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function k(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var A=function(T){k(P,T);function P(){return x(this,P),w(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return c(P,[{key:"insertInto",value:function(N,E){N.children.length===0?d(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertInto",this).call(this,N,E):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),P}(m.default.Embed);A.blotName="break",A.tagName="BR",r.default=A},function(e,r,o){var c=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,A){k.__proto__=A}||function(k,A){for(var T in A)A.hasOwnProperty(T)&&(k[T]=A[T])};return function(k,A){w(k,A);function T(){this.constructor=k}k.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)}}();Object.defineProperty(r,"__esModule",{value:!0});var d=o(44),p=o(30),m=o(1),b=function(w){c(k,w);function k(A){var T=w.call(this,A)||this;return T.build(),T}return k.prototype.appendChild=function(A){this.insertBefore(A)},k.prototype.attach=function(){w.prototype.attach.call(this),this.children.forEach(function(A){A.attach()})},k.prototype.build=function(){var A=this;this.children=new d.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(T){try{var P=x(T);A.insertBefore(P,A.children.head||void 0)}catch(I){if(I instanceof m.ParchmentError)return;throw I}})},k.prototype.deleteAt=function(A,T){if(A===0&&T===this.length())return this.remove();this.children.forEachAt(A,T,function(P,I,N){P.deleteAt(I,N)})},k.prototype.descendant=function(A,T){var P=this.children.find(T),I=P[0],N=P[1];return A.blotName==null&&A(I)||A.blotName!=null&&I instanceof A?[I,N]:I instanceof k?I.descendant(A,N):[null,-1]},k.prototype.descendants=function(A,T,P){T===void 0&&(T=0),P===void 0&&(P=Number.MAX_VALUE);var I=[],N=P;return this.children.forEachAt(T,P,function(E,F,D){(A.blotName==null&&A(E)||A.blotName!=null&&E instanceof A)&&I.push(E),E instanceof k&&(I=I.concat(E.descendants(A,F,N))),N-=D}),I},k.prototype.detach=function(){this.children.forEach(function(A){A.detach()}),w.prototype.detach.call(this)},k.prototype.formatAt=function(A,T,P,I){this.children.forEachAt(A,T,function(N,E,F){N.formatAt(E,F,P,I)})},k.prototype.insertAt=function(A,T,P){var I=this.children.find(A),N=I[0],E=I[1];if(N)N.insertAt(E,T,P);else{var F=P==null?m.create("text",T):m.create(T,P);this.appendChild(F)}},k.prototype.insertBefore=function(A,T){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(P){return A instanceof P}))throw new m.ParchmentError("Cannot insert "+A.statics.blotName+" into "+this.statics.blotName);A.insertInto(this,T)},k.prototype.length=function(){return this.children.reduce(function(A,T){return A+T.length()},0)},k.prototype.moveChildren=function(A,T){this.children.forEach(function(P){A.insertBefore(P,T)})},k.prototype.optimize=function(A){if(w.prototype.optimize.call(this,A),this.children.length===0)if(this.statics.defaultChild!=null){var T=m.create(this.statics.defaultChild);this.appendChild(T),T.optimize(A)}else this.remove()},k.prototype.path=function(A,T){T===void 0&&(T=!1);var P=this.children.find(A,T),I=P[0],N=P[1],E=[[this,A]];return I instanceof k?E.concat(I.path(N,T)):(I!=null&&E.push([I,N]),E)},k.prototype.removeChild=function(A){this.children.remove(A)},k.prototype.replace=function(A){A instanceof k&&A.moveChildren(this),w.prototype.replace.call(this,A)},k.prototype.split=function(A,T){if(T===void 0&&(T=!1),!T){if(A===0)return this;if(A===this.length())return this.next}var P=this.clone();return this.parent.insertBefore(P,this.next),this.children.forEachAt(A,this.length(),function(I,N,E){I=I.split(N,T),P.appendChild(I)}),P},k.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},k.prototype.update=function(A,T){var P=this,I=[],N=[];A.forEach(function(E){E.target===P.domNode&&E.type==="childList"&&(I.push.apply(I,E.addedNodes),N.push.apply(N,E.removedNodes))}),N.forEach(function(E){if(!(E.parentNode!=null&&E.tagName!=="IFRAME"&&document.body.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var F=m.find(E);F!=null&&(F.domNode.parentNode==null||F.domNode.parentNode===P.domNode)&&F.detach()}}),I.filter(function(E){return E.parentNode==P.domNode}).sort(function(E,F){return E===F?0:E.compareDocumentPosition(F)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(E){var F=null;E.nextSibling!=null&&(F=m.find(E.nextSibling));var D=x(E);(D.next!=F||D.next==null)&&(D.parent!=null&&D.parent.removeChild(P),P.insertBefore(D,F||void 0))})},k}(p.default);function x(w){var k=m.find(w);if(k==null)try{k=m.create(w)}catch{k=m.create(m.Scope.INLINE),[].slice.call(w.childNodes).forEach(function(T){k.domNode.appendChild(T)}),w.parentNode&&w.parentNode.replaceChild(k.domNode,w),k.attach()}return k}r.default=b},function(e,r,o){var c=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,A){k.__proto__=A}||function(k,A){for(var T in A)A.hasOwnProperty(T)&&(k[T]=A[T])};return function(k,A){w(k,A);function T(){this.constructor=k}k.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)}}();Object.defineProperty(r,"__esModule",{value:!0});var d=o(12),p=o(31),m=o(17),b=o(1),x=function(w){c(k,w);function k(A){var T=w.call(this,A)||this;return T.attributes=new p.default(T.domNode),T}return k.formats=function(A){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return A.tagName.toLowerCase()},k.prototype.format=function(A,T){var P=b.query(A);P instanceof d.default?this.attributes.attribute(P,T):T&&P!=null&&(A!==this.statics.blotName||this.formats()[A]!==T)&&this.replaceWith(A,T)},k.prototype.formats=function(){var A=this.attributes.values(),T=this.statics.formats(this.domNode);return T!=null&&(A[this.statics.blotName]=T),A},k.prototype.replaceWith=function(A,T){var P=w.prototype.replaceWith.call(this,A,T);return this.attributes.copy(P),P},k.prototype.update=function(A,T){var P=this;w.prototype.update.call(this,A,T),A.some(function(I){return I.target===P.domNode&&I.type==="attributes"})&&this.attributes.build()},k.prototype.wrap=function(A,T){var P=w.prototype.wrap.call(this,A,T);return P instanceof k&&P.statics.scope===this.statics.scope&&this.attributes.move(P),P},k}(m.default);r.default=x},function(e,r,o){var c=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var k in w)w.hasOwnProperty(k)&&(x[k]=w[k])};return function(x,w){b(x,w);function k(){this.constructor=x}x.prototype=w===null?Object.create(w):(k.prototype=w.prototype,new k)}}();Object.defineProperty(r,"__esModule",{value:!0});var d=o(30),p=o(1),m=function(b){c(x,b);function x(){return b!==null&&b.apply(this,arguments)||this}return x.value=function(w){return!0},x.prototype.index=function(w,k){return this.domNode===w||this.domNode.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(k,1):-1},x.prototype.position=function(w,k){var A=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return w>0&&(A+=1),[this.parent.domNode,A]},x.prototype.value=function(){var w;return w={},w[this.statics.blotName]=this.statics.value(this.domNode)||!0,w},x.scope=p.Scope.INLINE_BLOT,x}(d.default);r.default=m},function(e,r,o){var c=o(11),d=o(3),p={attributes:{compose:function(b,x,w){typeof b!="object"&&(b={}),typeof x!="object"&&(x={});var k=d(!0,{},x);w||(k=Object.keys(k).reduce(function(T,P){return k[P]!=null&&(T[P]=k[P]),T},{}));for(var A in b)b[A]!==void 0&&x[A]===void 0&&(k[A]=b[A]);return Object.keys(k).length>0?k:void 0},diff:function(b,x){typeof b!="object"&&(b={}),typeof x!="object"&&(x={});var w=Object.keys(b).concat(Object.keys(x)).reduce(function(k,A){return c(b[A],x[A])||(k[A]=x[A]===void 0?null:x[A]),k},{});return Object.keys(w).length>0?w:void 0},transform:function(b,x,w){if(typeof b!="object")return x;if(typeof x=="object"){if(!w)return x;var k=Object.keys(x).reduce(function(A,T){return b[T]===void 0&&(A[T]=x[T]),A},{});return Object.keys(k).length>0?k:void 0}}},iterator:function(b){return new m(b)},length:function(b){return typeof b.delete=="number"?b.delete:typeof b.retain=="number"?b.retain:typeof b.insert=="string"?b.insert.length:1}};function m(b){this.ops=b,this.index=0,this.offset=0}m.prototype.hasNext=function(){return this.peekLength()<1/0},m.prototype.next=function(b){b||(b=1/0);var x=this.ops[this.index];if(x){var w=this.offset,k=p.length(x);if(b>=k-w?(b=k-w,this.index+=1,this.offset=0):this.offset+=b,typeof x.delete=="number")return{delete:b};var A={};return x.attributes&&(A.attributes=x.attributes),typeof x.retain=="number"?A.retain=b:typeof x.insert=="string"?A.insert=x.insert.substr(w,b):A.insert=x.insert,A}else return{retain:1/0}},m.prototype.peek=function(){return this.ops[this.index]},m.prototype.peekLength=function(){return this.ops[this.index]?p.length(this.ops[this.index])-this.offset:1/0},m.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},m.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var b=this.offset,x=this.index,w=this.next(),k=this.ops.slice(this.index);return this.offset=b,this.index=x,[w].concat(k)}else return[]},e.exports=p},function(e,r){var o=function(){function c(P,I){return I!=null&&P instanceof I}var d;try{d=Map}catch{d=function(){}}var p;try{p=Set}catch{p=function(){}}var m;try{m=Promise}catch{m=function(){}}function b(P,I,N,E,F){typeof I=="object"&&(N=I.depth,E=I.prototype,F=I.includeNonEnumerable,I=I.circular);var D=[],R=[],G=typeof Buffer<"u";typeof I>"u"&&(I=!0),typeof N>"u"&&(N=1/0);function q(W,te){if(W===null)return null;if(te===0)return W;var U,X;if(typeof W!="object")return W;if(c(W,d))U=new d;else if(c(W,p))U=new p;else if(c(W,m))U=new m(function(ce,K){W.then(function(ae){ce(q(ae,te-1))},function(ae){K(q(ae,te-1))})});else if(b.__isArray(W))U=[];else if(b.__isRegExp(W))U=new RegExp(W.source,T(W)),W.lastIndex&&(U.lastIndex=W.lastIndex);else if(b.__isDate(W))U=new Date(W.getTime());else{if(G&&Buffer.isBuffer(W))return Buffer.allocUnsafe?U=Buffer.allocUnsafe(W.length):U=new Buffer(W.length),W.copy(U),U;c(W,Error)?U=Object.create(W):typeof E>"u"?(X=Object.getPrototypeOf(W),U=Object.create(X)):(U=Object.create(E),X=E)}if(I){var j=D.indexOf(W);if(j!=-1)return R[j];D.push(W),R.push(U)}c(W,d)&&W.forEach(function(ce,K){var ae=q(K,te-1),le=q(ce,te-1);U.set(ae,le)}),c(W,p)&&W.forEach(function(ce){var K=q(ce,te-1);U.add(K)});for(var Z in W){var ie;X&&(ie=Object.getOwnPropertyDescriptor(X,Z)),!(ie&&ie.set==null)&&(U[Z]=q(W[Z],te-1))}if(Object.getOwnPropertySymbols)for(var oe=Object.getOwnPropertySymbols(W),Z=0;Z<oe.length;Z++){var me=oe[Z],ye=Object.getOwnPropertyDescriptor(W,me);ye&&!ye.enumerable&&!F||(U[me]=q(W[me],te-1),ye.enumerable||Object.defineProperty(U,me,{enumerable:!1}))}if(F)for(var Ee=Object.getOwnPropertyNames(W),Z=0;Z<Ee.length;Z++){var fe=Ee[Z],ye=Object.getOwnPropertyDescriptor(W,fe);ye&&ye.enumerable||(U[fe]=q(W[fe],te-1),Object.defineProperty(U,fe,{enumerable:!1}))}return U}return q(P,N)}b.clonePrototype=function(I){if(I===null)return null;var N=function(){};return N.prototype=I,new N};function x(P){return Object.prototype.toString.call(P)}b.__objToStr=x;function w(P){return typeof P=="object"&&x(P)==="[object Date]"}b.__isDate=w;function k(P){return typeof P=="object"&&x(P)==="[object Array]"}b.__isArray=k;function A(P){return typeof P=="object"&&x(P)==="[object RegExp]"}b.__isRegExp=A;function T(P){var I="";return P.global&&(I+="g"),P.ignoreCase&&(I+="i"),P.multiline&&(I+="m"),I}return b.__getRegExpFlags=T,b}();typeof e=="object"&&e.exports&&(e.exports=o)},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function U(X,j){var Z=[],ie=!0,oe=!1,me=void 0;try{for(var ye=X[Symbol.iterator](),Ee;!(ie=(Ee=ye.next()).done)&&(Z.push(Ee.value),!(j&&Z.length===j));ie=!0);}catch(fe){oe=!0,me=fe}finally{try{!ie&&ye.return&&ye.return()}finally{if(oe)throw me}}return Z}return function(X,j){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return U(X,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function U(X,j){for(var Z=0;Z<j.length;Z++){var ie=j[Z];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(X,ie.key,ie)}}return function(X,j,Z){return j&&U(X.prototype,j),Z&&U(X,Z),X}}(),p=function U(X,j,Z){X===null&&(X=Function.prototype);var ie=Object.getOwnPropertyDescriptor(X,j);if(ie===void 0){var oe=Object.getPrototypeOf(X);return oe===null?void 0:U(oe,j,Z)}else{if("value"in ie)return ie.value;var me=ie.get;return me===void 0?void 0:me.call(Z)}},m=o(0),b=D(m),x=o(8),w=D(x),k=o(4),A=D(k),T=o(16),P=D(T),I=o(13),N=D(I),E=o(25),F=D(E);function D(U){return U&&U.__esModule?U:{default:U}}function R(U,X){if(!(U instanceof X))throw new TypeError("Cannot call a class as a function")}function G(U,X){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:U}function q(U,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);U.prototype=Object.create(X&&X.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(U,X):U.__proto__=X)}function W(U){return U instanceof A.default||U instanceof k.BlockEmbed}var te=function(U){q(X,U);function X(j,Z){R(this,X);var ie=G(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,j));return ie.emitter=Z.emitter,Array.isArray(Z.whitelist)&&(ie.whitelist=Z.whitelist.reduce(function(oe,me){return oe[me]=!0,oe},{})),ie.domNode.addEventListener("DOMNodeInserted",function(){}),ie.optimize(),ie.enable(),ie}return d(X,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(Z,ie){var oe=this.line(Z),me=c(oe,2),ye=me[0],Ee=me[1],fe=this.line(Z+ie),ce=c(fe,1),K=ce[0];if(p(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"deleteAt",this).call(this,Z,ie),K!=null&&ye!==K&&Ee>0){if(ye instanceof k.BlockEmbed||K instanceof k.BlockEmbed){this.optimize();return}if(ye instanceof N.default){var ae=ye.newlineIndex(ye.length(),!0);if(ae>-1&&(ye=ye.split(ae+1),ye===K)){this.optimize();return}}else if(K instanceof N.default){var le=K.newlineIndex(0);le>-1&&K.split(le+1)}var ve=K.children.head instanceof P.default?null:K.children.head;ye.moveChildren(K,ve),ye.remove()}this.optimize()}},{key:"enable",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",Z)}},{key:"formatAt",value:function(Z,ie,oe,me){this.whitelist!=null&&!this.whitelist[oe]||(p(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"formatAt",this).call(this,Z,ie,oe,me),this.optimize())}},{key:"insertAt",value:function(Z,ie,oe){if(!(oe!=null&&this.whitelist!=null&&!this.whitelist[ie])){if(Z>=this.length())if(oe==null||b.default.query(ie,b.default.Scope.BLOCK)==null){var me=b.default.create(this.statics.defaultChild);this.appendChild(me),oe==null&&ie.endsWith(`
`)&&(ie=ie.slice(0,-1)),me.insertAt(0,ie,oe)}else{var ye=b.default.create(ie,oe);this.appendChild(ye)}else p(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"insertAt",this).call(this,Z,ie,oe);this.optimize()}}},{key:"insertBefore",value:function(Z,ie){if(Z.statics.scope===b.default.Scope.INLINE_BLOT){var oe=b.default.create(this.statics.defaultChild);oe.appendChild(Z),Z=oe}p(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"insertBefore",this).call(this,Z,ie)}},{key:"leaf",value:function(Z){return this.path(Z).pop()||[null,-1]}},{key:"line",value:function(Z){return Z===this.length()?this.line(Z-1):this.descendant(W,Z)}},{key:"lines",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,oe=function me(ye,Ee,fe){var ce=[],K=fe;return ye.children.forEachAt(Ee,fe,function(ae,le,ve){W(ae)?ce.push(ae):ae instanceof b.default.Container&&(ce=ce.concat(me(ae,le,K))),K-=ve}),ce};return oe(this,Z,ie)}},{key:"optimize",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(p(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"optimize",this).call(this,Z,ie),Z.length>0&&this.emitter.emit(w.default.events.SCROLL_OPTIMIZE,Z,ie))}},{key:"path",value:function(Z){return p(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"path",this).call(this,Z).slice(1)}},{key:"update",value:function(Z){if(this.batch!==!0){var ie=w.default.sources.USER;typeof Z=="string"&&(ie=Z),Array.isArray(Z)||(Z=this.observer.takeRecords()),Z.length>0&&this.emitter.emit(w.default.events.SCROLL_BEFORE_UPDATE,ie,Z),p(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"update",this).call(this,Z.concat([])),Z.length>0&&this.emitter.emit(w.default.events.SCROLL_UPDATE,ie,Z)}}}]),X}(b.default.Scroll);te.blotName="scroll",te.className="ql-editor",te.tagName="DIV",te.defaultChild="block",te.allowedChildren=[A.default,k.BlockEmbed,F.default],r.default=te},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},d=function(){function re(de,xe){var be=[],Oe=!0,ze=!1,We=void 0;try{for(var qe=de[Symbol.iterator](),Qe;!(Oe=(Qe=qe.next()).done)&&(be.push(Qe.value),!(xe&&be.length===xe));Oe=!0);}catch(at){ze=!0,We=at}finally{try{!Oe&&qe.return&&qe.return()}finally{if(ze)throw We}}return be}return function(de,xe){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return re(de,xe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function re(de,xe){for(var be=0;be<xe.length;be++){var Oe=xe[be];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(de,Oe.key,Oe)}}return function(de,xe,be){return xe&&re(de.prototype,xe),be&&re(de,be),de}}(),m=o(21),b=U(m),x=o(11),w=U(x),k=o(3),A=U(k),T=o(2),P=U(T),I=o(20),N=U(I),E=o(0),F=U(E),D=o(5),R=U(D),G=o(10),q=U(G),W=o(9),te=U(W);function U(re){return re&&re.__esModule?re:{default:re}}function X(re,de,xe){return de in re?Object.defineProperty(re,de,{value:xe,enumerable:!0,configurable:!0,writable:!0}):re[de]=xe,re}function j(re,de){if(!(re instanceof de))throw new TypeError("Cannot call a class as a function")}function Z(re,de){if(!re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:re}function ie(re,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);re.prototype=Object.create(de&&de.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(re,de):re.__proto__=de)}var oe=(0,q.default)("quill:keyboard"),me=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ye=function(re){ie(de,re),p(de,null,[{key:"match",value:function(be,Oe){return Oe=pe(Oe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ze){return!!Oe[ze]!==be[ze]&&Oe[ze]!==null})?!1:Oe.key===(be.which||be.keyCode)}}]);function de(xe,be){j(this,de);var Oe=Z(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,xe,be));return Oe.bindings={},Object.keys(Oe.options.bindings).forEach(function(ze){ze==="list autofill"&&xe.scroll.whitelist!=null&&!xe.scroll.whitelist.list||Oe.options.bindings[ze]&&Oe.addBinding(Oe.options.bindings[ze])}),Oe.addBinding({key:de.keys.ENTER,shiftKey:null},ae),Oe.addBinding({key:de.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Oe.addBinding({key:de.keys.BACKSPACE},{collapsed:!0},fe),Oe.addBinding({key:de.keys.DELETE},{collapsed:!0},ce)):(Oe.addBinding({key:de.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},fe),Oe.addBinding({key:de.keys.DELETE},{collapsed:!0,suffix:/^.?$/},ce)),Oe.addBinding({key:de.keys.BACKSPACE},{collapsed:!1},K),Oe.addBinding({key:de.keys.DELETE},{collapsed:!1},K),Oe.addBinding({key:de.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},fe),Oe.listen(),Oe}return p(de,[{key:"addBinding",value:function(be){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},We=pe(be);if(We==null||We.key==null)return oe.warn("Attempted to add invalid keyboard binding",We);typeof Oe=="function"&&(Oe={handler:Oe}),typeof ze=="function"&&(ze={handler:ze}),We=(0,A.default)(We,Oe,ze),this.bindings[We.key]=this.bindings[We.key]||[],this.bindings[We.key].push(We)}},{key:"listen",value:function(){var be=this;this.quill.root.addEventListener("keydown",function(Oe){if(!Oe.defaultPrevented){var ze=Oe.which||Oe.keyCode,We=(be.bindings[ze]||[]).filter(function(ft){return de.match(Oe,ft)});if(We.length!==0){var qe=be.quill.getSelection();if(!(qe==null||!be.quill.hasFocus())){var Qe=be.quill.getLine(qe.index),at=d(Qe,2),kt=at[0],dt=at[1],Se=be.quill.getLeaf(qe.index),Ae=d(Se,2),Ie=Ae[0],Re=Ae[1],Me=qe.length===0?[Ie,Re]:be.quill.getLeaf(qe.index+qe.length),$e=d(Me,2),Ze=$e[0],Ke=$e[1],bt=Ie instanceof F.default.Text?Ie.value().slice(0,Re):"",jt=Ze instanceof F.default.Text?Ze.value().slice(Ke):"",ut={collapsed:qe.length===0,empty:qe.length===0&&kt.length()<=1,format:be.quill.getFormat(qe),offset:dt,prefix:bt,suffix:jt},Un=We.some(function(ft){if(ft.collapsed!=null&&ft.collapsed!==ut.collapsed||ft.empty!=null&&ft.empty!==ut.empty||ft.offset!=null&&ft.offset!==ut.offset)return!1;if(Array.isArray(ft.format)){if(ft.format.every(function(Kt){return ut.format[Kt]==null}))return!1}else if(c(ft.format)==="object"&&!Object.keys(ft.format).every(function(Kt){return ft.format[Kt]===!0?ut.format[Kt]!=null:ft.format[Kt]===!1?ut.format[Kt]==null:(0,w.default)(ft.format[Kt],ut.format[Kt])}))return!1;return ft.prefix!=null&&!ft.prefix.test(ut.prefix)||ft.suffix!=null&&!ft.suffix.test(ut.suffix)?!1:ft.handler.call(be,qe,ut)!==!0});Un&&Oe.preventDefault()}}}})}}]),de}(te.default);ye.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ye.DEFAULTS={bindings:{bold:ve("bold"),italic:ve("italic"),underline:ve("underline"),indent:{key:ye.keys.TAB,format:["blockquote","indent","list"],handler:function(de,xe){if(xe.collapsed&&xe.offset!==0)return!0;this.quill.format("indent","+1",R.default.sources.USER)}},outdent:{key:ye.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(de,xe){if(xe.collapsed&&xe.offset!==0)return!0;this.quill.format("indent","-1",R.default.sources.USER)}},"outdent backspace":{key:ye.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(de,xe){xe.format.indent!=null?this.quill.format("indent","-1",R.default.sources.USER):xe.format.list!=null&&this.quill.format("list",!1,R.default.sources.USER)}},"indent code-block":le(!0),"outdent code-block":le(!1),"remove tab":{key:ye.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(de){this.quill.deleteText(de.index-1,1,R.default.sources.USER)}},tab:{key:ye.keys.TAB,handler:function(de){this.quill.history.cutoff();var xe=new P.default().retain(de.index).delete(de.length).insert("	");this.quill.updateContents(xe,R.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(de.index+1,R.default.sources.SILENT)}},"list empty enter":{key:ye.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(de,xe){this.quill.format("list",!1,R.default.sources.USER),xe.format.indent&&this.quill.format("indent",!1,R.default.sources.USER)}},"checklist enter":{key:ye.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(de){var xe=this.quill.getLine(de.index),be=d(xe,2),Oe=be[0],ze=be[1],We=(0,A.default)({},Oe.formats(),{list:"checked"}),qe=new P.default().retain(de.index).insert(`
`,We).retain(Oe.length()-ze-1).retain(1,{list:"unchecked"});this.quill.updateContents(qe,R.default.sources.USER),this.quill.setSelection(de.index+1,R.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ye.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(de,xe){var be=this.quill.getLine(de.index),Oe=d(be,2),ze=Oe[0],We=Oe[1],qe=new P.default().retain(de.index).insert(`
`,xe.format).retain(ze.length()-We-1).retain(1,{header:null});this.quill.updateContents(qe,R.default.sources.USER),this.quill.setSelection(de.index+1,R.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(de,xe){var be=xe.prefix.length,Oe=this.quill.getLine(de.index),ze=d(Oe,2),We=ze[0],qe=ze[1];if(qe>be)return!0;var Qe=void 0;switch(xe.prefix.trim()){case"[]":case"[ ]":Qe="unchecked";break;case"[x]":Qe="checked";break;case"-":case"*":Qe="bullet";break;default:Qe="ordered"}this.quill.insertText(de.index," ",R.default.sources.USER),this.quill.history.cutoff();var at=new P.default().retain(de.index-qe).delete(be+1).retain(We.length()-2-qe).retain(1,{list:Qe});this.quill.updateContents(at,R.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(de.index-be,R.default.sources.SILENT)}},"code exit":{key:ye.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(de){var xe=this.quill.getLine(de.index),be=d(xe,2),Oe=be[0],ze=be[1],We=new P.default().retain(de.index+Oe.length()-ze-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(We,R.default.sources.USER)}},"embed left":Ee(ye.keys.LEFT,!1),"embed left shift":Ee(ye.keys.LEFT,!0),"embed right":Ee(ye.keys.RIGHT,!1),"embed right shift":Ee(ye.keys.RIGHT,!0)}};function Ee(re,de){var xe,be=re===ye.keys.LEFT?"prefix":"suffix";return xe={key:re,shiftKey:de,altKey:null},X(xe,be,/^$/),X(xe,"handler",function(ze){var We=ze.index;re===ye.keys.RIGHT&&(We+=ze.length+1);var qe=this.quill.getLeaf(We),Qe=d(qe,1),at=Qe[0];return at instanceof F.default.Embed?(re===ye.keys.LEFT?de?this.quill.setSelection(ze.index-1,ze.length+1,R.default.sources.USER):this.quill.setSelection(ze.index-1,R.default.sources.USER):de?this.quill.setSelection(ze.index,ze.length+1,R.default.sources.USER):this.quill.setSelection(ze.index+ze.length+1,R.default.sources.USER),!1):!0}),xe}function fe(re,de){if(!(re.index===0||this.quill.getLength()<=1)){var xe=this.quill.getLine(re.index),be=d(xe,1),Oe=be[0],ze={};if(de.offset===0){var We=this.quill.getLine(re.index-1),qe=d(We,1),Qe=qe[0];if(Qe!=null&&Qe.length()>1){var at=Oe.formats(),kt=this.quill.getFormat(re.index-1,1);ze=N.default.attributes.diff(at,kt)||{}}}var dt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(de.prefix)?2:1;this.quill.deleteText(re.index-dt,dt,R.default.sources.USER),Object.keys(ze).length>0&&this.quill.formatLine(re.index-dt,dt,ze,R.default.sources.USER),this.quill.focus()}}function ce(re,de){var xe=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(de.suffix)?2:1;if(!(re.index>=this.quill.getLength()-xe)){var be={},Oe=0,ze=this.quill.getLine(re.index),We=d(ze,1),qe=We[0];if(de.offset>=qe.length()-1){var Qe=this.quill.getLine(re.index+1),at=d(Qe,1),kt=at[0];if(kt){var dt=qe.formats(),Se=this.quill.getFormat(re.index,1);be=N.default.attributes.diff(dt,Se)||{},Oe=kt.length()}}this.quill.deleteText(re.index,xe,R.default.sources.USER),Object.keys(be).length>0&&this.quill.formatLine(re.index+Oe-1,xe,be,R.default.sources.USER)}}function K(re){var de=this.quill.getLines(re),xe={};if(de.length>1){var be=de[0].formats(),Oe=de[de.length-1].formats();xe=N.default.attributes.diff(Oe,be)||{}}this.quill.deleteText(re,R.default.sources.USER),Object.keys(xe).length>0&&this.quill.formatLine(re.index,1,xe,R.default.sources.USER),this.quill.setSelection(re.index,R.default.sources.SILENT),this.quill.focus()}function ae(re,de){var xe=this;re.length>0&&this.quill.scroll.deleteAt(re.index,re.length);var be=Object.keys(de.format).reduce(function(Oe,ze){return F.default.query(ze,F.default.Scope.BLOCK)&&!Array.isArray(de.format[ze])&&(Oe[ze]=de.format[ze]),Oe},{});this.quill.insertText(re.index,`
`,be,R.default.sources.USER),this.quill.setSelection(re.index+1,R.default.sources.SILENT),this.quill.focus(),Object.keys(de.format).forEach(function(Oe){be[Oe]==null&&(Array.isArray(de.format[Oe])||Oe!=="link"&&xe.quill.format(Oe,de.format[Oe],R.default.sources.USER))})}function le(re){return{key:ye.keys.TAB,shiftKey:!re,format:{"code-block":!0},handler:function(xe){var be=F.default.query("code-block"),Oe=xe.index,ze=xe.length,We=this.quill.scroll.descendant(be,Oe),qe=d(We,2),Qe=qe[0],at=qe[1];if(Qe!=null){var kt=this.quill.getIndex(Qe),dt=Qe.newlineIndex(at,!0)+1,Se=Qe.newlineIndex(kt+at+ze),Ae=Qe.domNode.textContent.slice(dt,Se).split(`
`);at=0,Ae.forEach(function(Ie,Re){re?(Qe.insertAt(dt+at,be.TAB),at+=be.TAB.length,Re===0?Oe+=be.TAB.length:ze+=be.TAB.length):Ie.startsWith(be.TAB)&&(Qe.deleteAt(dt+at,be.TAB.length),at-=be.TAB.length,Re===0?Oe-=be.TAB.length:ze-=be.TAB.length),at+=Ie.length+1}),this.quill.update(R.default.sources.USER),this.quill.setSelection(Oe,ze,R.default.sources.SILENT)}}}}function ve(re){return{key:re[0].toUpperCase(),shortKey:!0,handler:function(xe,be){this.quill.format(re,!be.format[re],R.default.sources.USER)}}}function pe(re){if(typeof re=="string"||typeof re=="number")return pe({key:re});if((typeof re>"u"?"undefined":c(re))==="object"&&(re=(0,b.default)(re,!1)),typeof re.key=="string")if(ye.keys[re.key.toUpperCase()]!=null)re.key=ye.keys[re.key.toUpperCase()];else if(re.key.length===1)re.key=re.key.toUpperCase().charCodeAt(0);else return null;return re.shortKey&&(re[me]=re.shortKey,delete re.shortKey),re}r.default=ye,r.SHORTKEY=me},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function N(E,F){var D=[],R=!0,G=!1,q=void 0;try{for(var W=E[Symbol.iterator](),te;!(R=(te=W.next()).done)&&(D.push(te.value),!(F&&D.length===F));R=!0);}catch(U){G=!0,q=U}finally{try{!R&&W.return&&W.return()}finally{if(G)throw q}}return D}return function(E,F){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return N(E,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function N(E,F,D){E===null&&(E=Function.prototype);var R=Object.getOwnPropertyDescriptor(E,F);if(R===void 0){var G=Object.getPrototypeOf(E);return G===null?void 0:N(G,F,D)}else{if("value"in R)return R.value;var q=R.get;return q===void 0?void 0:q.call(D)}},p=function(){function N(E,F){for(var D=0;D<F.length;D++){var R=F[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,F,D){return F&&N(E.prototype,F),D&&N(E,D),E}}(),m=o(0),b=k(m),x=o(7),w=k(x);function k(N){return N&&N.__esModule?N:{default:N}}function A(N,E){if(!(N instanceof E))throw new TypeError("Cannot call a class as a function")}function T(N,E){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:N}function P(N,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);N.prototype=Object.create(E&&E.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(N,E):N.__proto__=E)}var I=function(N){P(E,N),p(E,null,[{key:"value",value:function(){}}]);function E(F,D){A(this,E);var R=T(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,F));return R.selection=D,R.textNode=document.createTextNode(E.CONTENTS),R.domNode.appendChild(R.textNode),R._length=0,R}return p(E,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(D,R){if(this._length!==0)return d(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,D,R);for(var G=this,q=0;G!=null&&G.statics.scope!==b.default.Scope.BLOCK_BLOT;)q+=G.offset(G.parent),G=G.parent;G!=null&&(this._length=E.CONTENTS.length,G.optimize(),G.formatAt(q,E.CONTENTS.length,D,R),this._length=0)}},{key:"index",value:function(D,R){return D===this.textNode?0:d(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"index",this).call(this,D,R)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){d(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var D=this.textNode,R=this.selection.getNativeRange(),G=void 0,q=void 0,W=void 0;if(R!=null&&R.start.node===D&&R.end.node===D){var te=[D,R.start.offset,R.end.offset];G=te[0],q=te[1],W=te[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==E.CONTENTS){var U=this.textNode.data.split(E.CONTENTS).join("");this.next instanceof w.default?(G=this.next.domNode,this.next.insertAt(0,U),this.textNode.data=E.CONTENTS):(this.textNode.data=U,this.parent.insertBefore(b.default.create(this.textNode),this),this.textNode=document.createTextNode(E.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),q!=null){var X=[q,W].map(function(Z){return Math.max(0,Math.min(G.data.length,Z-1))}),j=c(X,2);return q=j[0],W=j[1],{startNode:G,startOffset:q,endNode:G,endOffset:W}}}}},{key:"update",value:function(D,R){var G=this;if(D.some(function(W){return W.type==="characterData"&&W.target===G.textNode})){var q=this.restore();q&&(R.range=q)}}},{key:"value",value:function(){return""}}]),E}(b.default.Embed);I.blotName="cursor",I.className="ql-cursor",I.tagName="span",I.CONTENTS="\uFEFF",r.default=I},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(0),d=b(c),p=o(4),m=b(p);function b(T){return T&&T.__esModule?T:{default:T}}function x(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function w(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function k(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var A=function(T){k(P,T);function P(){return x(this,P),w(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(d.default.Container);A.allowedChildren=[m.default,p.BlockEmbed,A],r.default=A},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var c=function(){function I(N,E){for(var F=0;F<E.length;F++){var D=E[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,E,F){return E&&I(N.prototype,E),F&&I(N,F),N}}(),d=function I(N,E,F){N===null&&(N=Function.prototype);var D=Object.getOwnPropertyDescriptor(N,E);if(D===void 0){var R=Object.getPrototypeOf(N);return R===null?void 0:I(R,E,F)}else{if("value"in D)return D.value;var G=D.get;return G===void 0?void 0:G.call(F)}},p=o(0),m=b(p);function b(I){return I&&I.__esModule?I:{default:I}}function x(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function w(I,N){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:I}function k(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(I,N):I.__proto__=N)}var A=function(I){k(N,I);function N(){return x(this,N),w(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return c(N,[{key:"value",value:function(F){var D=d(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"value",this).call(this,F);return D.startsWith("rgb(")?(D=D.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+D.split(",").map(function(R){return("00"+parseInt(R).toString(16)).slice(-2)}).join("")):D}}]),N}(m.default.Attributor.Style),T=new m.default.Attributor.Class("color","ql-color",{scope:m.default.Scope.INLINE}),P=new A("color","color",{scope:m.default.Scope.INLINE});r.ColorAttributor=A,r.ColorClass=T,r.ColorStyle=P},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var c=function(){function P(I,N){for(var E=0;E<N.length;E++){var F=N[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(I,F.key,F)}}return function(I,N,E){return N&&P(I.prototype,N),E&&P(I,E),I}}(),d=function P(I,N,E){I===null&&(I=Function.prototype);var F=Object.getOwnPropertyDescriptor(I,N);if(F===void 0){var D=Object.getPrototypeOf(I);return D===null?void 0:P(D,N,E)}else{if("value"in F)return F.value;var R=F.get;return R===void 0?void 0:R.call(E)}},p=o(6),m=b(p);function b(P){return P&&P.__esModule?P:{default:P}}function x(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function w(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function k(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var A=function(P){k(I,P);function I(){return x(this,I),w(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return c(I,[{key:"format",value:function(E,F){if(E!==this.statics.blotName||!F)return d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,E,F);F=this.constructor.sanitize(F),this.domNode.setAttribute("href",F)}}],[{key:"create",value:function(E){var F=d(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,E);return E=this.sanitize(E),F.setAttribute("href",E),F.setAttribute("rel","noopener noreferrer"),F.setAttribute("target","_blank"),F}},{key:"formats",value:function(E){return E.getAttribute("href")}},{key:"sanitize",value:function(E){return T(E,this.PROTOCOL_WHITELIST)?E:this.SANITIZED_URL}}]),I}(m.default);A.blotName="link",A.tagName="A",A.SANITIZED_URL="about:blank",A.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function T(P,I){var N=document.createElement("a");N.href=P;var E=N.href.slice(0,N.href.indexOf(":"));return I.indexOf(E)>-1}r.default=A,r.sanitize=T},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},d=function(){function I(N,E){for(var F=0;F<E.length;F++){var D=E[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,E,F){return E&&I(N.prototype,E),F&&I(N,F),N}}(),p=o(23),m=w(p),b=o(107),x=w(b);function w(I){return I&&I.__esModule?I:{default:I}}function k(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}var A=0;function T(I,N){I.setAttribute(N,I.getAttribute(N)!=="true")}var P=function(){function I(N){var E=this;k(this,I),this.select=N,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){E.togglePicker()}),this.label.addEventListener("keydown",function(F){switch(F.keyCode){case m.default.keys.ENTER:E.togglePicker();break;case m.default.keys.ESCAPE:E.escape(),F.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return d(I,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),T(this.label,"aria-expanded"),T(this.options,"aria-hidden")}},{key:"buildItem",value:function(E){var F=this,D=document.createElement("span");return D.tabIndex="0",D.setAttribute("role","button"),D.classList.add("ql-picker-item"),E.hasAttribute("value")&&D.setAttribute("data-value",E.getAttribute("value")),E.textContent&&D.setAttribute("data-label",E.textContent),D.addEventListener("click",function(){F.selectItem(D,!0)}),D.addEventListener("keydown",function(R){switch(R.keyCode){case m.default.keys.ENTER:F.selectItem(D,!0),R.preventDefault();break;case m.default.keys.ESCAPE:F.escape(),R.preventDefault();break}}),D}},{key:"buildLabel",value:function(){var E=document.createElement("span");return E.classList.add("ql-picker-label"),E.innerHTML=x.default,E.tabIndex="0",E.setAttribute("role","button"),E.setAttribute("aria-expanded","false"),this.container.appendChild(E),E}},{key:"buildOptions",value:function(){var E=this,F=document.createElement("span");F.classList.add("ql-picker-options"),F.setAttribute("aria-hidden","true"),F.tabIndex="-1",F.id="ql-picker-options-"+A,A+=1,this.label.setAttribute("aria-controls",F.id),this.options=F,[].slice.call(this.select.options).forEach(function(D){var R=E.buildItem(D);F.appendChild(R),D.selected===!0&&E.selectItem(R)}),this.container.appendChild(F)}},{key:"buildPicker",value:function(){var E=this;[].slice.call(this.select.attributes).forEach(function(F){E.container.setAttribute(F.name,F.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var E=this;this.close(),setTimeout(function(){return E.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(E){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,D=this.container.querySelector(".ql-selected");if(E!==D&&(D!=null&&D.classList.remove("ql-selected"),E!=null&&(E.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(E.parentNode.children,E),E.hasAttribute("data-value")?this.label.setAttribute("data-value",E.getAttribute("data-value")):this.label.removeAttribute("data-value"),E.hasAttribute("data-label")?this.label.setAttribute("data-label",E.getAttribute("data-label")):this.label.removeAttribute("data-label"),F))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":c(Event))==="object"){var R=document.createEvent("Event");R.initEvent("change",!0,!0),this.select.dispatchEvent(R)}this.close()}}},{key:"update",value:function(){var E=void 0;if(this.select.selectedIndex>-1){var F=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];E=this.select.options[this.select.selectedIndex],this.selectItem(F)}else this.selectItem(null);var D=E!=null&&E!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",D)}}]),I}();r.default=P},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(0),d=oe(c),p=o(5),m=oe(p),b=o(4),x=oe(b),w=o(16),k=oe(w),A=o(25),T=oe(A),P=o(24),I=oe(P),N=o(35),E=oe(N),F=o(6),D=oe(F),R=o(22),G=oe(R),q=o(7),W=oe(q),te=o(55),U=oe(te),X=o(42),j=oe(X),Z=o(23),ie=oe(Z);function oe(me){return me&&me.__esModule?me:{default:me}}m.default.register({"blots/block":x.default,"blots/block/embed":b.BlockEmbed,"blots/break":k.default,"blots/container":T.default,"blots/cursor":I.default,"blots/embed":E.default,"blots/inline":D.default,"blots/scroll":G.default,"blots/text":W.default,"modules/clipboard":U.default,"modules/history":j.default,"modules/keyboard":ie.default}),d.default.register(x.default,k.default,I.default,D.default,G.default,W.default),r.default=m.default},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(1),d=function(){function p(m){this.domNode=m,this.domNode[c.DATA_KEY]={blot:this}}return Object.defineProperty(p.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),p.create=function(m){if(this.tagName==null)throw new c.ParchmentError("Blot definition missing tagName");var b;return Array.isArray(this.tagName)?(typeof m=="string"&&(m=m.toUpperCase(),parseInt(m).toString()===m&&(m=parseInt(m))),typeof m=="number"?b=document.createElement(this.tagName[m-1]):this.tagName.indexOf(m)>-1?b=document.createElement(m):b=document.createElement(this.tagName[0])):b=document.createElement(this.tagName),this.className&&b.classList.add(this.className),b},p.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},p.prototype.clone=function(){var m=this.domNode.cloneNode(!1);return c.create(m)},p.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[c.DATA_KEY]},p.prototype.deleteAt=function(m,b){var x=this.isolate(m,b);x.remove()},p.prototype.formatAt=function(m,b,x,w){var k=this.isolate(m,b);if(c.query(x,c.Scope.BLOT)!=null&&w)k.wrap(x,w);else if(c.query(x,c.Scope.ATTRIBUTE)!=null){var A=c.create(this.statics.scope);k.wrap(A),A.format(x,w)}},p.prototype.insertAt=function(m,b,x){var w=x==null?c.create("text",b):c.create(b,x),k=this.split(m);this.parent.insertBefore(w,k)},p.prototype.insertInto=function(m,b){b===void 0&&(b=null),this.parent!=null&&this.parent.children.remove(this);var x=null;m.children.insertBefore(this,b),b!=null&&(x=b.domNode),(this.domNode.parentNode!=m.domNode||this.domNode.nextSibling!=x)&&m.domNode.insertBefore(this.domNode,x),this.parent=m,this.attach()},p.prototype.isolate=function(m,b){var x=this.split(m);return x.split(b),x},p.prototype.length=function(){return 1},p.prototype.offset=function(m){return m===void 0&&(m=this.parent),this.parent==null||this==m?0:this.parent.children.offset(this)+this.parent.offset(m)},p.prototype.optimize=function(m){this.domNode[c.DATA_KEY]!=null&&delete this.domNode[c.DATA_KEY].mutations},p.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},p.prototype.replace=function(m){m.parent!=null&&(m.parent.insertBefore(this,m.next),m.remove())},p.prototype.replaceWith=function(m,b){var x=typeof m=="string"?c.create(m,b):m;return x.replace(this),x},p.prototype.split=function(m,b){return m===0?this:this.next},p.prototype.update=function(m,b){},p.prototype.wrap=function(m,b){var x=typeof m=="string"?c.create(m,b):m;return this.parent!=null&&this.parent.insertBefore(x,this.next),x.appendChild(this),x},p.blotName="abstract",p}();r.default=d},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(12),d=o(32),p=o(33),m=o(1),b=function(){function x(w){this.attributes={},this.domNode=w,this.build()}return x.prototype.attribute=function(w,k){k?w.add(this.domNode,k)&&(w.value(this.domNode)!=null?this.attributes[w.attrName]=w:delete this.attributes[w.attrName]):(w.remove(this.domNode),delete this.attributes[w.attrName])},x.prototype.build=function(){var w=this;this.attributes={};var k=c.default.keys(this.domNode),A=d.default.keys(this.domNode),T=p.default.keys(this.domNode);k.concat(A).concat(T).forEach(function(P){var I=m.query(P,m.Scope.ATTRIBUTE);I instanceof c.default&&(w.attributes[I.attrName]=I)})},x.prototype.copy=function(w){var k=this;Object.keys(this.attributes).forEach(function(A){var T=k.attributes[A].value(k.domNode);w.format(A,T)})},x.prototype.move=function(w){var k=this;this.copy(w),Object.keys(this.attributes).forEach(function(A){k.attributes[A].remove(k.domNode)}),this.attributes={}},x.prototype.values=function(){var w=this;return Object.keys(this.attributes).reduce(function(k,A){return k[A]=w.attributes[A].value(w.domNode),k},{})},x}();r.default=b},function(e,r,o){var c=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var k in w)w.hasOwnProperty(k)&&(x[k]=w[k])};return function(x,w){b(x,w);function k(){this.constructor=x}x.prototype=w===null?Object.create(w):(k.prototype=w.prototype,new k)}}();Object.defineProperty(r,"__esModule",{value:!0});var d=o(12);function p(b,x){var w=b.getAttribute("class")||"";return w.split(/\s+/).filter(function(k){return k.indexOf(x+"-")===0})}var m=function(b){c(x,b);function x(){return b!==null&&b.apply(this,arguments)||this}return x.keys=function(w){return(w.getAttribute("class")||"").split(/\s+/).map(function(k){return k.split("-").slice(0,-1).join("-")})},x.prototype.add=function(w,k){return this.canAdd(w,k)?(this.remove(w),w.classList.add(this.keyName+"-"+k),!0):!1},x.prototype.remove=function(w){var k=p(w,this.keyName);k.forEach(function(A){w.classList.remove(A)}),w.classList.length===0&&w.removeAttribute("class")},x.prototype.value=function(w){var k=p(w,this.keyName)[0]||"",A=k.slice(this.keyName.length+1);return this.canAdd(w,A)?A:""},x}(d.default);r.default=m},function(e,r,o){var c=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var k in w)w.hasOwnProperty(k)&&(x[k]=w[k])};return function(x,w){b(x,w);function k(){this.constructor=x}x.prototype=w===null?Object.create(w):(k.prototype=w.prototype,new k)}}();Object.defineProperty(r,"__esModule",{value:!0});var d=o(12);function p(b){var x=b.split("-"),w=x.slice(1).map(function(k){return k[0].toUpperCase()+k.slice(1)}).join("");return x[0]+w}var m=function(b){c(x,b);function x(){return b!==null&&b.apply(this,arguments)||this}return x.keys=function(w){return(w.getAttribute("style")||"").split(";").map(function(k){var A=k.split(":");return A[0].trim()})},x.prototype.add=function(w,k){return this.canAdd(w,k)?(w.style[p(this.keyName)]=k,!0):!1},x.prototype.remove=function(w){w.style[p(this.keyName)]="",w.getAttribute("style")||w.removeAttribute("style")},x.prototype.value=function(w){var k=w.style[p(this.keyName)];return this.canAdd(w,k)?k:""},x}(d.default);r.default=m},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function m(b,x){for(var w=0;w<x.length;w++){var k=x[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,x,w){return x&&m(b.prototype,x),w&&m(b,w),b}}();function d(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}var p=function(){function m(b,x){d(this,m),this.quill=b,this.options=x,this.modules={}}return c(m,[{key:"init",value:function(){var x=this;Object.keys(this.options.modules).forEach(function(w){x.modules[w]==null&&x.addModule(w)})}},{key:"addModule",value:function(x){var w=this.quill.constructor.import("modules/"+x);return this.modules[x]=new w(this.quill,this.options.modules[x]||{}),this.modules[x]}}]),m}();p.DEFAULTS={modules:{}},p.themes={default:p},r.default=p},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function N(E,F){for(var D=0;D<F.length;D++){var R=F[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,F,D){return F&&N(E.prototype,F),D&&N(E,D),E}}(),d=function N(E,F,D){E===null&&(E=Function.prototype);var R=Object.getOwnPropertyDescriptor(E,F);if(R===void 0){var G=Object.getPrototypeOf(E);return G===null?void 0:N(G,F,D)}else{if("value"in R)return R.value;var q=R.get;return q===void 0?void 0:q.call(D)}},p=o(0),m=w(p),b=o(7),x=w(b);function w(N){return N&&N.__esModule?N:{default:N}}function k(N,E){if(!(N instanceof E))throw new TypeError("Cannot call a class as a function")}function A(N,E){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:N}function T(N,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);N.prototype=Object.create(E&&E.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(N,E):N.__proto__=E)}var P="\uFEFF",I=function(N){T(E,N);function E(F){k(this,E);var D=A(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,F));return D.contentNode=document.createElement("span"),D.contentNode.setAttribute("contenteditable",!1),[].slice.call(D.domNode.childNodes).forEach(function(R){D.contentNode.appendChild(R)}),D.leftGuard=document.createTextNode(P),D.rightGuard=document.createTextNode(P),D.domNode.appendChild(D.leftGuard),D.domNode.appendChild(D.contentNode),D.domNode.appendChild(D.rightGuard),D}return c(E,[{key:"index",value:function(D,R){return D===this.leftGuard?0:D===this.rightGuard?1:d(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"index",this).call(this,D,R)}},{key:"restore",value:function(D){var R=void 0,G=void 0,q=D.data.split(P).join("");if(D===this.leftGuard)if(this.prev instanceof x.default){var W=this.prev.length();this.prev.insertAt(W,q),R={startNode:this.prev.domNode,startOffset:W+q.length}}else G=document.createTextNode(q),this.parent.insertBefore(m.default.create(G),this),R={startNode:G,startOffset:q.length};else D===this.rightGuard&&(this.next instanceof x.default?(this.next.insertAt(0,q),R={startNode:this.next.domNode,startOffset:q.length}):(G=document.createTextNode(q),this.parent.insertBefore(m.default.create(G),this.next),R={startNode:G,startOffset:q.length}));return D.data=P,R}},{key:"update",value:function(D,R){var G=this;D.forEach(function(q){if(q.type==="characterData"&&(q.target===G.leftGuard||q.target===G.rightGuard)){var W=G.restore(q.target);W&&(R.range=W)}})}}]),E}(m.default.Embed);r.default=I},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var c=o(0),d=p(c);function p(k){return k&&k.__esModule?k:{default:k}}var m={scope:d.default.Scope.BLOCK,whitelist:["right","center","justify"]},b=new d.default.Attributor.Attribute("align","align",m),x=new d.default.Attributor.Class("align","ql-align",m),w=new d.default.Attributor.Style("align","text-align",m);r.AlignAttribute=b,r.AlignClass=x,r.AlignStyle=w},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var c=o(0),d=m(c),p=o(26);function m(w){return w&&w.__esModule?w:{default:w}}var b=new d.default.Attributor.Class("background","ql-bg",{scope:d.default.Scope.INLINE}),x=new p.ColorAttributor("background","background-color",{scope:d.default.Scope.INLINE});r.BackgroundClass=b,r.BackgroundStyle=x},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var c=o(0),d=p(c);function p(k){return k&&k.__esModule?k:{default:k}}var m={scope:d.default.Scope.BLOCK,whitelist:["rtl"]},b=new d.default.Attributor.Attribute("direction","dir",m),x=new d.default.Attributor.Class("direction","ql-direction",m),w=new d.default.Attributor.Style("direction","direction",m);r.DirectionAttribute=b,r.DirectionClass=x,r.DirectionStyle=w},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var c=function(){function N(E,F){for(var D=0;D<F.length;D++){var R=F[D];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,F,D){return F&&N(E.prototype,F),D&&N(E,D),E}}(),d=function N(E,F,D){E===null&&(E=Function.prototype);var R=Object.getOwnPropertyDescriptor(E,F);if(R===void 0){var G=Object.getPrototypeOf(E);return G===null?void 0:N(G,F,D)}else{if("value"in R)return R.value;var q=R.get;return q===void 0?void 0:q.call(D)}},p=o(0),m=b(p);function b(N){return N&&N.__esModule?N:{default:N}}function x(N,E){if(!(N instanceof E))throw new TypeError("Cannot call a class as a function")}function w(N,E){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:N}function k(N,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);N.prototype=Object.create(E&&E.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(N,E):N.__proto__=E)}var A={scope:m.default.Scope.INLINE,whitelist:["serif","monospace"]},T=new m.default.Attributor.Class("font","ql-font",A),P=function(N){k(E,N);function E(){return x(this,E),w(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return c(E,[{key:"value",value:function(D){return d(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,D).replace(/["']/g,"")}}]),E}(m.default.Attributor.Style),I=new P("font","font-family",A);r.FontStyle=I,r.FontClass=T},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var c=o(0),d=p(c);function p(x){return x&&x.__esModule?x:{default:x}}var m=new d.default.Attributor.Class("size","ql-size",{scope:d.default.Scope.INLINE,whitelist:["small","large","huge"]}),b=new d.default.Attributor.Style("size","font-size",{scope:d.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=m,r.SizeStyle=b},function(e,r,o){e.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var c=function(){function F(D,R){for(var G=0;G<R.length;G++){var q=R[G];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}return function(D,R,G){return R&&F(D.prototype,R),G&&F(D,G),D}}(),d=o(0),p=k(d),m=o(5),b=k(m),x=o(9),w=k(x);function k(F){return F&&F.__esModule?F:{default:F}}function A(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function T(F,D){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:F}function P(F,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}var I=function(F){P(D,F);function D(R,G){A(this,D);var q=T(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,R,G));return q.lastRecorded=0,q.ignoreChange=!1,q.clear(),q.quill.on(b.default.events.EDITOR_CHANGE,function(W,te,U,X){W!==b.default.events.TEXT_CHANGE||q.ignoreChange||(!q.options.userOnly||X===b.default.sources.USER?q.record(te,U):q.transform(te))}),q.quill.keyboard.addBinding({key:"Z",shortKey:!0},q.undo.bind(q)),q.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},q.redo.bind(q)),/Win/i.test(navigator.platform)&&q.quill.keyboard.addBinding({key:"Y",shortKey:!0},q.redo.bind(q)),q}return c(D,[{key:"change",value:function(G,q){if(this.stack[G].length!==0){var W=this.stack[G].pop();this.stack[q].push(W),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(W[G],b.default.sources.USER),this.ignoreChange=!1;var te=E(W[G]);this.quill.setSelection(te)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(G,q){if(G.ops.length!==0){this.stack.redo=[];var W=this.quill.getContents().diff(q),te=Date.now();if(this.lastRecorded+this.options.delay>te&&this.stack.undo.length>0){var U=this.stack.undo.pop();W=W.compose(U.undo),G=U.redo.compose(G)}else this.lastRecorded=te;this.stack.undo.push({redo:G,undo:W}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(G){this.stack.undo.forEach(function(q){q.undo=G.transform(q.undo,!0),q.redo=G.transform(q.redo,!0)}),this.stack.redo.forEach(function(q){q.undo=G.transform(q.undo,!0),q.redo=G.transform(q.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),D}(w.default);I.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function N(F){var D=F.ops[F.ops.length-1];return D==null?!1:D.insert!=null?typeof D.insert=="string"&&D.insert.endsWith(`
`):D.attributes!=null?Object.keys(D.attributes).some(function(R){return p.default.query(R,p.default.Scope.BLOCK)!=null}):!1}function E(F){var D=F.reduce(function(G,q){return G+=q.delete||0,G},0),R=F.length()-D;return N(F)&&(R-=1),R}r.default=I,r.getLastChangeIndex=E},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var c=function(){function ae(le,ve){for(var pe=0;pe<ve.length;pe++){var re=ve[pe];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(le,re.key,re)}}return function(le,ve,pe){return ve&&ae(le.prototype,ve),pe&&ae(le,pe),le}}(),d=function ae(le,ve,pe){le===null&&(le=Function.prototype);var re=Object.getOwnPropertyDescriptor(le,ve);if(re===void 0){var de=Object.getPrototypeOf(le);return de===null?void 0:ae(de,ve,pe)}else{if("value"in re)return re.value;var xe=re.get;return xe===void 0?void 0:xe.call(pe)}},p=o(3),m=te(p),b=o(2),x=te(b),w=o(8),k=te(w),A=o(23),T=te(A),P=o(34),I=te(P),N=o(59),E=te(N),F=o(60),D=te(F),R=o(28),G=te(R),q=o(61),W=te(q);function te(ae){return ae&&ae.__esModule?ae:{default:ae}}function U(ae,le){if(!(ae instanceof le))throw new TypeError("Cannot call a class as a function")}function X(ae,le){if(!ae)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:ae}function j(ae,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);ae.prototype=Object.create(le&&le.prototype,{constructor:{value:ae,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(ae,le):ae.__proto__=le)}var Z=[!1,"center","right","justify"],ie=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],oe=[!1,"serif","monospace"],me=["1","2","3",!1],ye=["small",!1,"large","huge"],Ee=function(ae){j(le,ae);function le(ve,pe){U(this,le);var re=X(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,ve,pe)),de=function xe(be){if(!document.body.contains(ve.root))return document.body.removeEventListener("click",xe);re.tooltip!=null&&!re.tooltip.root.contains(be.target)&&document.activeElement!==re.tooltip.textbox&&!re.quill.hasFocus()&&re.tooltip.hide(),re.pickers!=null&&re.pickers.forEach(function(Oe){Oe.container.contains(be.target)||Oe.close()})};return ve.emitter.listenDOM("click",document.body,de),re}return c(le,[{key:"addModule",value:function(pe){var re=d(le.prototype.__proto__||Object.getPrototypeOf(le.prototype),"addModule",this).call(this,pe);return pe==="toolbar"&&this.extendToolbar(re),re}},{key:"buildButtons",value:function(pe,re){pe.forEach(function(de){var xe=de.getAttribute("class")||"";xe.split(/\s+/).forEach(function(be){if(!!be.startsWith("ql-")&&(be=be.slice(3),re[be]!=null))if(be==="direction")de.innerHTML=re[be][""]+re[be].rtl;else if(typeof re[be]=="string")de.innerHTML=re[be];else{var Oe=de.value||"";Oe!=null&&re[be][Oe]&&(de.innerHTML=re[be][Oe])}})})}},{key:"buildPickers",value:function(pe,re){var de=this;this.pickers=pe.map(function(be){if(be.classList.contains("ql-align"))return be.querySelector("option")==null&&K(be,Z),new D.default(be,re.align);if(be.classList.contains("ql-background")||be.classList.contains("ql-color")){var Oe=be.classList.contains("ql-background")?"background":"color";return be.querySelector("option")==null&&K(be,ie,Oe==="background"?"#ffffff":"#000000"),new E.default(be,re[Oe])}else return be.querySelector("option")==null&&(be.classList.contains("ql-font")?K(be,oe):be.classList.contains("ql-header")?K(be,me):be.classList.contains("ql-size")&&K(be,ye)),new G.default(be)});var xe=function(){de.pickers.forEach(function(Oe){Oe.update()})};this.quill.on(k.default.events.EDITOR_CHANGE,xe)}}]),le}(I.default);Ee.DEFAULTS=(0,m.default)(!0,{},I.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var le=this,ve=this.container.querySelector("input.ql-image[type=file]");ve==null&&(ve=document.createElement("input"),ve.setAttribute("type","file"),ve.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ve.classList.add("ql-image"),ve.addEventListener("change",function(){if(ve.files!=null&&ve.files[0]!=null){var pe=new FileReader;pe.onload=function(re){var de=le.quill.getSelection(!0);le.quill.updateContents(new x.default().retain(de.index).delete(de.length).insert({image:re.target.result}),k.default.sources.USER),le.quill.setSelection(de.index+1,k.default.sources.SILENT),ve.value=""},pe.readAsDataURL(ve.files[0])}}),this.container.appendChild(ve)),ve.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var fe=function(ae){j(le,ae);function le(ve,pe){U(this,le);var re=X(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,ve,pe));return re.textbox=re.root.querySelector('input[type="text"]'),re.listen(),re}return c(le,[{key:"listen",value:function(){var pe=this;this.textbox.addEventListener("keydown",function(re){T.default.match(re,"enter")?(pe.save(),re.preventDefault()):T.default.match(re,"escape")&&(pe.cancel(),re.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),re!=null?this.textbox.value=re:pe!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+pe)||""),this.root.setAttribute("data-mode",pe)}},{key:"restoreFocus",value:function(){var pe=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=pe}},{key:"save",value:function(){var pe=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var re=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",pe,k.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",pe,k.default.sources.USER)),this.quill.root.scrollTop=re;break}case"video":pe=ce(pe);case"formula":{if(!pe)break;var de=this.quill.getSelection(!0);if(de!=null){var xe=de.index+de.length;this.quill.insertEmbed(xe,this.root.getAttribute("data-mode"),pe,k.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(xe+1," ",k.default.sources.USER),this.quill.setSelection(xe+2,k.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),le}(W.default);function ce(ae){var le=ae.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||ae.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return le?(le[1]||"https")+"://www.youtube.com/embed/"+le[2]+"?showinfo=0":(le=ae.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(le[1]||"https")+"://player.vimeo.com/video/"+le[2]+"/":ae}function K(ae,le){var ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;le.forEach(function(pe){var re=document.createElement("option");pe===ve?re.setAttribute("selected","selected"):re.setAttribute("value",pe),ae.appendChild(re)})}r.BaseTooltip=fe,r.default=Ee},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function d(){this.head=this.tail=null,this.length=0}return d.prototype.append=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];this.insertBefore(p[0],null),p.length>1&&this.append.apply(this,p.slice(1))},d.prototype.contains=function(p){for(var m,b=this.iterator();m=b();)if(m===p)return!0;return!1},d.prototype.insertBefore=function(p,m){!p||(p.next=m,m!=null?(p.prev=m.prev,m.prev!=null&&(m.prev.next=p),m.prev=p,m===this.head&&(this.head=p)):this.tail!=null?(this.tail.next=p,p.prev=this.tail,this.tail=p):(p.prev=null,this.head=this.tail=p),this.length+=1)},d.prototype.offset=function(p){for(var m=0,b=this.head;b!=null;){if(b===p)return m;m+=b.length(),b=b.next}return-1},d.prototype.remove=function(p){!this.contains(p)||(p.prev!=null&&(p.prev.next=p.next),p.next!=null&&(p.next.prev=p.prev),p===this.head&&(this.head=p.next),p===this.tail&&(this.tail=p.prev),this.length-=1)},d.prototype.iterator=function(p){return p===void 0&&(p=this.head),function(){var m=p;return p!=null&&(p=p.next),m}},d.prototype.find=function(p,m){m===void 0&&(m=!1);for(var b,x=this.iterator();b=x();){var w=b.length();if(p<w||m&&p===w&&(b.next==null||b.next.length()!==0))return[b,p];p-=w}return[null,0]},d.prototype.forEach=function(p){for(var m,b=this.iterator();m=b();)p(m)},d.prototype.forEachAt=function(p,m,b){if(!(m<=0))for(var x=this.find(p),w=x[0],k=x[1],A,T=p-k,P=this.iterator(w);(A=P())&&T<p+m;){var I=A.length();p>T?b(A,p-T,Math.min(m,T+I-p)):b(A,0,Math.min(I,p+m-T)),T+=I}},d.prototype.map=function(p){return this.reduce(function(m,b){return m.push(p(b)),m},[])},d.prototype.reduce=function(p,m){for(var b,x=this.iterator();b=x();)m=p(m,b);return m},d}();r.default=c},function(e,r,o){var c=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,A){k.__proto__=A}||function(k,A){for(var T in A)A.hasOwnProperty(T)&&(k[T]=A[T])};return function(k,A){w(k,A);function T(){this.constructor=k}k.prototype=A===null?Object.create(A):(T.prototype=A.prototype,new T)}}();Object.defineProperty(r,"__esModule",{value:!0});var d=o(17),p=o(1),m={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},b=100,x=function(w){c(k,w);function k(A){var T=w.call(this,A)||this;return T.scroll=T,T.observer=new MutationObserver(function(P){T.update(P)}),T.observer.observe(T.domNode,m),T.attach(),T}return k.prototype.detach=function(){w.prototype.detach.call(this),this.observer.disconnect()},k.prototype.deleteAt=function(A,T){this.update(),A===0&&T===this.length()?this.children.forEach(function(P){P.remove()}):w.prototype.deleteAt.call(this,A,T)},k.prototype.formatAt=function(A,T,P,I){this.update(),w.prototype.formatAt.call(this,A,T,P,I)},k.prototype.insertAt=function(A,T,P){this.update(),w.prototype.insertAt.call(this,A,T,P)},k.prototype.optimize=function(A,T){var P=this;A===void 0&&(A=[]),T===void 0&&(T={}),w.prototype.optimize.call(this,T);for(var I=[].slice.call(this.observer.takeRecords());I.length>0;)A.push(I.pop());for(var N=function(R,G){G===void 0&&(G=!0),!(R==null||R===P)&&R.domNode.parentNode!=null&&(R.domNode[p.DATA_KEY].mutations==null&&(R.domNode[p.DATA_KEY].mutations=[]),G&&N(R.parent))},E=function(R){R.domNode[p.DATA_KEY]==null||R.domNode[p.DATA_KEY].mutations==null||(R instanceof d.default&&R.children.forEach(E),R.optimize(T))},F=A,D=0;F.length>0;D+=1){if(D>=b)throw new Error("[Parchment] Maximum optimize iterations reached");for(F.forEach(function(R){var G=p.find(R.target,!0);G!=null&&(G.domNode===R.target&&(R.type==="childList"?(N(p.find(R.previousSibling,!1)),[].forEach.call(R.addedNodes,function(q){var W=p.find(q,!1);N(W,!1),W instanceof d.default&&W.children.forEach(function(te){N(te,!1)})})):R.type==="attributes"&&N(G.prev)),N(G))}),this.children.forEach(E),F=[].slice.call(this.observer.takeRecords()),I=F.slice();I.length>0;)A.push(I.pop())}},k.prototype.update=function(A,T){var P=this;T===void 0&&(T={}),A=A||this.observer.takeRecords(),A.map(function(I){var N=p.find(I.target,!0);return N==null?null:N.domNode[p.DATA_KEY].mutations==null?(N.domNode[p.DATA_KEY].mutations=[I],N):(N.domNode[p.DATA_KEY].mutations.push(I),null)}).forEach(function(I){I==null||I===P||I.domNode[p.DATA_KEY]==null||I.update(I.domNode[p.DATA_KEY].mutations||[],T)}),this.domNode[p.DATA_KEY].mutations!=null&&w.prototype.update.call(this,this.domNode[p.DATA_KEY].mutations,T),this.optimize(A,T)},k.blotName="scroll",k.defaultChild="block",k.scope=p.Scope.BLOCK_BLOT,k.tagName="DIV",k}(d.default);r.default=x},function(e,r,o){var c=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,k){w.__proto__=k}||function(w,k){for(var A in k)k.hasOwnProperty(A)&&(w[A]=k[A])};return function(w,k){x(w,k);function A(){this.constructor=w}w.prototype=k===null?Object.create(k):(A.prototype=k.prototype,new A)}}();Object.defineProperty(r,"__esModule",{value:!0});var d=o(18),p=o(1);function m(x,w){if(Object.keys(x).length!==Object.keys(w).length)return!1;for(var k in x)if(x[k]!==w[k])return!1;return!0}var b=function(x){c(w,x);function w(){return x!==null&&x.apply(this,arguments)||this}return w.formats=function(k){if(k.tagName!==w.tagName)return x.formats.call(this,k)},w.prototype.format=function(k,A){var T=this;k===this.statics.blotName&&!A?(this.children.forEach(function(P){P instanceof d.default||(P=P.wrap(w.blotName,!0)),T.attributes.copy(P)}),this.unwrap()):x.prototype.format.call(this,k,A)},w.prototype.formatAt=function(k,A,T,P){if(this.formats()[T]!=null||p.query(T,p.Scope.ATTRIBUTE)){var I=this.isolate(k,A);I.format(T,P)}else x.prototype.formatAt.call(this,k,A,T,P)},w.prototype.optimize=function(k){x.prototype.optimize.call(this,k);var A=this.formats();if(Object.keys(A).length===0)return this.unwrap();var T=this.next;T instanceof w&&T.prev===this&&m(A,T.formats())&&(T.moveChildren(this),T.remove())},w.blotName="inline",w.scope=p.Scope.INLINE_BLOT,w.tagName="SPAN",w}(d.default);r.default=b},function(e,r,o){var c=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var k in w)w.hasOwnProperty(k)&&(x[k]=w[k])};return function(x,w){b(x,w);function k(){this.constructor=x}x.prototype=w===null?Object.create(w):(k.prototype=w.prototype,new k)}}();Object.defineProperty(r,"__esModule",{value:!0});var d=o(18),p=o(1),m=function(b){c(x,b);function x(){return b!==null&&b.apply(this,arguments)||this}return x.formats=function(w){var k=p.query(x.blotName).tagName;if(w.tagName!==k)return b.formats.call(this,w)},x.prototype.format=function(w,k){p.query(w,p.Scope.BLOCK)!=null&&(w===this.statics.blotName&&!k?this.replaceWith(x.blotName):b.prototype.format.call(this,w,k))},x.prototype.formatAt=function(w,k,A,T){p.query(A,p.Scope.BLOCK)!=null?this.format(A,T):b.prototype.formatAt.call(this,w,k,A,T)},x.prototype.insertAt=function(w,k,A){if(A==null||p.query(k,p.Scope.INLINE)!=null)b.prototype.insertAt.call(this,w,k,A);else{var T=this.split(w),P=p.create(k,A);T.parent.insertBefore(P,T)}},x.prototype.update=function(w,k){navigator.userAgent.match(/Trident/)?this.build():b.prototype.update.call(this,w,k)},x.blotName="block",x.scope=p.Scope.BLOCK_BLOT,x.tagName="P",x}(d.default);r.default=m},function(e,r,o){var c=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,x){b.__proto__=x}||function(b,x){for(var w in x)x.hasOwnProperty(w)&&(b[w]=x[w])};return function(b,x){m(b,x);function w(){this.constructor=b}b.prototype=x===null?Object.create(x):(w.prototype=x.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var d=o(19),p=function(m){c(b,m);function b(){return m!==null&&m.apply(this,arguments)||this}return b.formats=function(x){},b.prototype.format=function(x,w){m.prototype.formatAt.call(this,0,this.length(),x,w)},b.prototype.formatAt=function(x,w,k,A){x===0&&w===this.length()?this.format(k,A):m.prototype.formatAt.call(this,x,w,k,A)},b.prototype.formats=function(){return this.statics.formats(this.domNode)},b}(d.default);r.default=p},function(e,r,o){var c=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,w){x.__proto__=w}||function(x,w){for(var k in w)w.hasOwnProperty(k)&&(x[k]=w[k])};return function(x,w){b(x,w);function k(){this.constructor=x}x.prototype=w===null?Object.create(w):(k.prototype=w.prototype,new k)}}();Object.defineProperty(r,"__esModule",{value:!0});var d=o(19),p=o(1),m=function(b){c(x,b);function x(w){var k=b.call(this,w)||this;return k.text=k.statics.value(k.domNode),k}return x.create=function(w){return document.createTextNode(w)},x.value=function(w){var k=w.data;return k.normalize&&(k=k.normalize()),k},x.prototype.deleteAt=function(w,k){this.domNode.data=this.text=this.text.slice(0,w)+this.text.slice(w+k)},x.prototype.index=function(w,k){return this.domNode===w?k:-1},x.prototype.insertAt=function(w,k,A){A==null?(this.text=this.text.slice(0,w)+k+this.text.slice(w),this.domNode.data=this.text):b.prototype.insertAt.call(this,w,k,A)},x.prototype.length=function(){return this.text.length},x.prototype.optimize=function(w){b.prototype.optimize.call(this,w),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof x&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},x.prototype.position=function(w,k){return[this.domNode,w]},x.prototype.split=function(w,k){if(k===void 0&&(k=!1),!k){if(w===0)return this;if(w===this.length())return this.next}var A=p.create(this.domNode.splitText(w));return this.parent.insertBefore(A,this.next),this.text=this.statics.value(this.domNode),A},x.prototype.update=function(w,k){var A=this;w.some(function(T){return T.type==="characterData"&&T.target===A.domNode})&&(this.text=this.statics.value(this.domNode))},x.prototype.value=function(){return this.text},x.blotName="text",x.scope=p.Scope.INLINE_BLOT,x}(d.default);r.default=m},function(e,r,o){var c=document.createElement("div");if(c.classList.toggle("test-class",!1),c.classList.contains("test-class")){var d=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(p,m){return arguments.length>1&&!this.contains(p)==!m?m:d.call(this,p)}}String.prototype.startsWith||(String.prototype.startsWith=function(p,m){return m=m||0,this.substr(m,p.length)===p}),String.prototype.endsWith||(String.prototype.endsWith=function(p,m){var b=this.toString();(typeof m!="number"||!isFinite(m)||Math.floor(m)!==m||m>b.length)&&(m=b.length),m-=p.length;var x=b.indexOf(p,m);return x!==-1&&x===m}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(m){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof m!="function")throw new TypeError("predicate must be a function");for(var b=Object(this),x=b.length>>>0,w=arguments[1],k,A=0;A<x;A++)if(k=b[A],m.call(w,k,A,b))return k}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,r){var o=-1,c=1,d=0;function p(D,R,G){if(D==R)return D?[[d,D]]:[];(G<0||D.length<G)&&(G=null);var q=w(D,R),W=D.substring(0,q);D=D.substring(q),R=R.substring(q),q=k(D,R);var te=D.substring(D.length-q);D=D.substring(0,D.length-q),R=R.substring(0,R.length-q);var U=m(D,R);return W&&U.unshift([d,W]),te&&U.push([d,te]),T(U),G!=null&&(U=N(U,G)),U=E(U),U}function m(D,R){var G;if(!D)return[[c,R]];if(!R)return[[o,D]];var q=D.length>R.length?D:R,W=D.length>R.length?R:D,te=q.indexOf(W);if(te!=-1)return G=[[c,q.substring(0,te)],[d,W],[c,q.substring(te+W.length)]],D.length>R.length&&(G[0][0]=G[2][0]=o),G;if(W.length==1)return[[o,D],[c,R]];var U=A(D,R);if(U){var X=U[0],j=U[1],Z=U[2],ie=U[3],oe=U[4],me=p(X,Z),ye=p(j,ie);return me.concat([[d,oe]],ye)}return b(D,R)}function b(D,R){for(var G=D.length,q=R.length,W=Math.ceil((G+q)/2),te=W,U=2*W,X=new Array(U),j=new Array(U),Z=0;Z<U;Z++)X[Z]=-1,j[Z]=-1;X[te+1]=0,j[te+1]=0;for(var ie=G-q,oe=ie%2!=0,me=0,ye=0,Ee=0,fe=0,ce=0;ce<W;ce++){for(var K=-ce+me;K<=ce-ye;K+=2){var ae=te+K,le;K==-ce||K!=ce&&X[ae-1]<X[ae+1]?le=X[ae+1]:le=X[ae-1]+1;for(var ve=le-K;le<G&&ve<q&&D.charAt(le)==R.charAt(ve);)le++,ve++;if(X[ae]=le,le>G)ye+=2;else if(ve>q)me+=2;else if(oe){var pe=te+ie-K;if(pe>=0&&pe<U&&j[pe]!=-1){var re=G-j[pe];if(le>=re)return x(D,R,le,ve)}}}for(var de=-ce+Ee;de<=ce-fe;de+=2){var pe=te+de,re;de==-ce||de!=ce&&j[pe-1]<j[pe+1]?re=j[pe+1]:re=j[pe-1]+1;for(var xe=re-de;re<G&&xe<q&&D.charAt(G-re-1)==R.charAt(q-xe-1);)re++,xe++;if(j[pe]=re,re>G)fe+=2;else if(xe>q)Ee+=2;else if(!oe){var ae=te+ie-de;if(ae>=0&&ae<U&&X[ae]!=-1){var le=X[ae],ve=te+le-ae;if(re=G-re,le>=re)return x(D,R,le,ve)}}}}return[[o,D],[c,R]]}function x(D,R,G,q){var W=D.substring(0,G),te=R.substring(0,q),U=D.substring(G),X=R.substring(q),j=p(W,te),Z=p(U,X);return j.concat(Z)}function w(D,R){if(!D||!R||D.charAt(0)!=R.charAt(0))return 0;for(var G=0,q=Math.min(D.length,R.length),W=q,te=0;G<W;)D.substring(te,W)==R.substring(te,W)?(G=W,te=G):q=W,W=Math.floor((q-G)/2+G);return W}function k(D,R){if(!D||!R||D.charAt(D.length-1)!=R.charAt(R.length-1))return 0;for(var G=0,q=Math.min(D.length,R.length),W=q,te=0;G<W;)D.substring(D.length-W,D.length-te)==R.substring(R.length-W,R.length-te)?(G=W,te=G):q=W,W=Math.floor((q-G)/2+G);return W}function A(D,R){var G=D.length>R.length?D:R,q=D.length>R.length?R:D;if(G.length<4||q.length*2<G.length)return null;function W(ye,Ee,fe){for(var ce=ye.substring(fe,fe+Math.floor(ye.length/4)),K=-1,ae="",le,ve,pe,re;(K=Ee.indexOf(ce,K+1))!=-1;){var de=w(ye.substring(fe),Ee.substring(K)),xe=k(ye.substring(0,fe),Ee.substring(0,K));ae.length<xe+de&&(ae=Ee.substring(K-xe,K)+Ee.substring(K,K+de),le=ye.substring(0,fe-xe),ve=ye.substring(fe+de),pe=Ee.substring(0,K-xe),re=Ee.substring(K+de))}return ae.length*2>=ye.length?[le,ve,pe,re,ae]:null}var te=W(G,q,Math.ceil(G.length/4)),U=W(G,q,Math.ceil(G.length/2)),X;if(!te&&!U)return null;U?te?X=te[4].length>U[4].length?te:U:X=U:X=te;var j,Z,ie,oe;D.length>R.length?(j=X[0],Z=X[1],ie=X[2],oe=X[3]):(ie=X[0],oe=X[1],j=X[2],Z=X[3]);var me=X[4];return[j,Z,ie,oe,me]}function T(D){D.push([d,""]);for(var R=0,G=0,q=0,W="",te="",U;R<D.length;)switch(D[R][0]){case c:q++,te+=D[R][1],R++;break;case o:G++,W+=D[R][1],R++;break;case d:G+q>1?(G!==0&&q!==0&&(U=w(te,W),U!==0&&(R-G-q>0&&D[R-G-q-1][0]==d?D[R-G-q-1][1]+=te.substring(0,U):(D.splice(0,0,[d,te.substring(0,U)]),R++),te=te.substring(U),W=W.substring(U)),U=k(te,W),U!==0&&(D[R][1]=te.substring(te.length-U)+D[R][1],te=te.substring(0,te.length-U),W=W.substring(0,W.length-U))),G===0?D.splice(R-q,G+q,[c,te]):q===0?D.splice(R-G,G+q,[o,W]):D.splice(R-G-q,G+q,[o,W],[c,te]),R=R-G-q+(G?1:0)+(q?1:0)+1):R!==0&&D[R-1][0]==d?(D[R-1][1]+=D[R][1],D.splice(R,1)):R++,q=0,G=0,W="",te="";break}D[D.length-1][1]===""&&D.pop();var X=!1;for(R=1;R<D.length-1;)D[R-1][0]==d&&D[R+1][0]==d&&(D[R][1].substring(D[R][1].length-D[R-1][1].length)==D[R-1][1]?(D[R][1]=D[R-1][1]+D[R][1].substring(0,D[R][1].length-D[R-1][1].length),D[R+1][1]=D[R-1][1]+D[R+1][1],D.splice(R-1,1),X=!0):D[R][1].substring(0,D[R+1][1].length)==D[R+1][1]&&(D[R-1][1]+=D[R+1][1],D[R][1]=D[R][1].substring(D[R+1][1].length)+D[R+1][1],D.splice(R+1,1),X=!0)),R++;X&&T(D)}var P=p;P.INSERT=c,P.DELETE=o,P.EQUAL=d,e.exports=P;function I(D,R){if(R===0)return[d,D];for(var G=0,q=0;q<D.length;q++){var W=D[q];if(W[0]===o||W[0]===d){var te=G+W[1].length;if(R===te)return[q+1,D];if(R<te){D=D.slice();var U=R-G,X=[W[0],W[1].slice(0,U)],j=[W[0],W[1].slice(U)];return D.splice(q,1,X,j),[q+1,D]}else G=te}}throw new Error("cursor_pos is out of bounds!")}function N(D,R){var G=I(D,R),q=G[1],W=G[0],te=q[W],U=q[W+1];if(te==null)return D;if(te[0]!==d)return D;if(U!=null&&te[1]+U[1]===U[1]+te[1])return q.splice(W,2,U,te),F(q,W,2);if(U!=null&&U[1].indexOf(te[1])===0){q.splice(W,2,[U[0],te[1]],[0,te[1]]);var X=U[1].slice(te[1].length);return X.length>0&&q.splice(W+2,0,[U[0],X]),F(q,W,3)}else return D}function E(D){for(var R=!1,G=function(U){return U.charCodeAt(0)>=56320&&U.charCodeAt(0)<=57343},q=function(U){return U.charCodeAt(U.length-1)>=55296&&U.charCodeAt(U.length-1)<=56319},W=2;W<D.length;W+=1)D[W-2][0]===d&&q(D[W-2][1])&&D[W-1][0]===o&&G(D[W-1][1])&&D[W][0]===c&&G(D[W][1])&&(R=!0,D[W-1][1]=D[W-2][1].slice(-1)+D[W-1][1],D[W][1]=D[W-2][1].slice(-1)+D[W][1],D[W-2][1]=D[W-2][1].slice(0,-1));if(!R)return D;for(var te=[],W=0;W<D.length;W+=1)D[W][1].length>0&&te.push(D[W]);return te}function F(D,R,G){for(var q=R+G-1;q>=0&&q>=R-1;q--)if(q+1<D.length){var W=D[q],te=D[q+1];W[0]===te[1]&&D.splice(q,2,[W[0],W[1]+te[1]])}return D}},function(e,r){r=e.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(c){var d=[];for(var p in c)d.push(p);return d}},function(e,r){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=e.exports=o?c:d,r.supported=c;function c(p){return Object.prototype.toString.call(p)=="[object Arguments]"}r.unsupported=d;function d(p){return p&&typeof p=="object"&&typeof p.length=="number"&&Object.prototype.hasOwnProperty.call(p,"callee")&&!Object.prototype.propertyIsEnumerable.call(p,"callee")||!1}},function(e,r){var o=Object.prototype.hasOwnProperty,c="~";function d(){}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(c=!1));function p(b,x,w){this.fn=b,this.context=x,this.once=w||!1}function m(){this._events=new d,this._eventsCount=0}m.prototype.eventNames=function(){var x=[],w,k;if(this._eventsCount===0)return x;for(k in w=this._events)o.call(w,k)&&x.push(c?k.slice(1):k);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(w)):x},m.prototype.listeners=function(x,w){var k=c?c+x:x,A=this._events[k];if(w)return!!A;if(!A)return[];if(A.fn)return[A.fn];for(var T=0,P=A.length,I=new Array(P);T<P;T++)I[T]=A[T].fn;return I},m.prototype.emit=function(x,w,k,A,T,P){var I=c?c+x:x;if(!this._events[I])return!1;var N=this._events[I],E=arguments.length,F,D;if(N.fn){switch(N.once&&this.removeListener(x,N.fn,void 0,!0),E){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,w),!0;case 3:return N.fn.call(N.context,w,k),!0;case 4:return N.fn.call(N.context,w,k,A),!0;case 5:return N.fn.call(N.context,w,k,A,T),!0;case 6:return N.fn.call(N.context,w,k,A,T,P),!0}for(D=1,F=new Array(E-1);D<E;D++)F[D-1]=arguments[D];N.fn.apply(N.context,F)}else{var R=N.length,G;for(D=0;D<R;D++)switch(N[D].once&&this.removeListener(x,N[D].fn,void 0,!0),E){case 1:N[D].fn.call(N[D].context);break;case 2:N[D].fn.call(N[D].context,w);break;case 3:N[D].fn.call(N[D].context,w,k);break;case 4:N[D].fn.call(N[D].context,w,k,A);break;default:if(!F)for(G=1,F=new Array(E-1);G<E;G++)F[G-1]=arguments[G];N[D].fn.apply(N[D].context,F)}}return!0},m.prototype.on=function(x,w,k){var A=new p(w,k||this),T=c?c+x:x;return this._events[T]?this._events[T].fn?this._events[T]=[this._events[T],A]:this._events[T].push(A):(this._events[T]=A,this._eventsCount++),this},m.prototype.once=function(x,w,k){var A=new p(w,k||this,!0),T=c?c+x:x;return this._events[T]?this._events[T].fn?this._events[T]=[this._events[T],A]:this._events[T].push(A):(this._events[T]=A,this._eventsCount++),this},m.prototype.removeListener=function(x,w,k,A){var T=c?c+x:x;if(!this._events[T])return this;if(!w)return--this._eventsCount===0?this._events=new d:delete this._events[T],this;var P=this._events[T];if(P.fn)P.fn===w&&(!A||P.once)&&(!k||P.context===k)&&(--this._eventsCount===0?this._events=new d:delete this._events[T]);else{for(var I=0,N=[],E=P.length;I<E;I++)(P[I].fn!==w||A&&!P[I].once||k&&P[I].context!==k)&&N.push(P[I]);N.length?this._events[T]=N.length===1?N[0]:N:--this._eventsCount===0?this._events=new d:delete this._events[T]}return this},m.prototype.removeAllListeners=function(x){var w;return x?(w=c?c+x:x,this._events[w]&&(--this._eventsCount===0?this._events=new d:delete this._events[w])):(this._events=new d,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prototype.setMaxListeners=function(){return this},m.prefixed=c,m.EventEmitter=m,typeof e<"u"&&(e.exports=m)},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},d=function(){function Se(Ae,Ie){var Re=[],Me=!0,$e=!1,Ze=void 0;try{for(var Ke=Ae[Symbol.iterator](),bt;!(Me=(bt=Ke.next()).done)&&(Re.push(bt.value),!(Ie&&Re.length===Ie));Me=!0);}catch(jt){$e=!0,Ze=jt}finally{try{!Me&&Ke.return&&Ke.return()}finally{if($e)throw Ze}}return Re}return function(Ae,Ie){if(Array.isArray(Ae))return Ae;if(Symbol.iterator in Object(Ae))return Se(Ae,Ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function Se(Ae,Ie){for(var Re=0;Re<Ie.length;Re++){var Me=Ie[Re];Me.enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(Ae,Me.key,Me)}}return function(Ae,Ie,Re){return Ie&&Se(Ae.prototype,Ie),Re&&Se(Ae,Re),Ae}}(),m=o(3),b=j(m),x=o(2),w=j(x),k=o(0),A=j(k),T=o(5),P=j(T),I=o(10),N=j(I),E=o(9),F=j(E),D=o(36),R=o(37),G=o(13),q=j(G),W=o(26),te=o(38),U=o(39),X=o(40);function j(Se){return Se&&Se.__esModule?Se:{default:Se}}function Z(Se,Ae,Ie){return Ae in Se?Object.defineProperty(Se,Ae,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):Se[Ae]=Ie,Se}function ie(Se,Ae){if(!(Se instanceof Ae))throw new TypeError("Cannot call a class as a function")}function oe(Se,Ae){if(!Se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ae&&(typeof Ae=="object"||typeof Ae=="function")?Ae:Se}function me(Se,Ae){if(typeof Ae!="function"&&Ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ae);Se.prototype=Object.create(Ae&&Ae.prototype,{constructor:{value:Se,enumerable:!1,writable:!0,configurable:!0}}),Ae&&(Object.setPrototypeOf?Object.setPrototypeOf(Se,Ae):Se.__proto__=Ae)}var ye=(0,N.default)("quill:clipboard"),Ee="__ql-matcher",fe=[[Node.TEXT_NODE,dt],[Node.TEXT_NODE,Qe],["br",ze],[Node.ELEMENT_NODE,Qe],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,at],[Node.ELEMENT_NODE,be],[Node.ELEMENT_NODE,kt],["li",qe],["b",xe.bind(xe,"bold")],["i",xe.bind(xe,"italic")],["style",We]],ce=[D.AlignAttribute,te.DirectionAttribute].reduce(function(Se,Ae){return Se[Ae.keyName]=Ae,Se},{}),K=[D.AlignStyle,R.BackgroundStyle,W.ColorStyle,te.DirectionStyle,U.FontStyle,X.SizeStyle].reduce(function(Se,Ae){return Se[Ae.keyName]=Ae,Se},{}),ae=function(Se){me(Ae,Se);function Ae(Ie,Re){ie(this,Ae);var Me=oe(this,(Ae.__proto__||Object.getPrototypeOf(Ae)).call(this,Ie,Re));return Me.quill.root.addEventListener("paste",Me.onPaste.bind(Me)),Me.container=Me.quill.addContainer("ql-clipboard"),Me.container.setAttribute("contenteditable",!0),Me.container.setAttribute("tabindex",-1),Me.matchers=[],fe.concat(Me.options.matchers).forEach(function($e){var Ze=d($e,2),Ke=Ze[0],bt=Ze[1];!Re.matchVisual&&bt===at||Me.addMatcher(Ke,bt)}),Me}return p(Ae,[{key:"addMatcher",value:function(Re,Me){this.matchers.push([Re,Me])}},{key:"convert",value:function(Re){if(typeof Re=="string")return this.container.innerHTML=Re.replace(/\>\r?\n +\</g,"><"),this.convert();var Me=this.quill.getFormat(this.quill.selection.savedRange.index);if(Me[q.default.blotName]){var $e=this.container.innerText;return this.container.innerHTML="",new w.default().insert($e,Z({},q.default.blotName,Me[q.default.blotName]))}var Ze=this.prepareMatching(),Ke=d(Ze,2),bt=Ke[0],jt=Ke[1],ut=de(this.container,bt,jt);return pe(ut,`
`)&&ut.ops[ut.ops.length-1].attributes==null&&(ut=ut.compose(new w.default().retain(ut.length()-1).delete(1))),ye.log("convert",this.container.innerHTML,ut),this.container.innerHTML="",ut}},{key:"dangerouslyPasteHTML",value:function(Re,Me){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P.default.sources.API;if(typeof Re=="string")this.quill.setContents(this.convert(Re),Me),this.quill.setSelection(0,P.default.sources.SILENT);else{var Ze=this.convert(Me);this.quill.updateContents(new w.default().retain(Re).concat(Ze),$e),this.quill.setSelection(Re+Ze.length(),P.default.sources.SILENT)}}},{key:"onPaste",value:function(Re){var Me=this;if(!(Re.defaultPrevented||!this.quill.isEnabled())){var $e=this.quill.getSelection(),Ze=new w.default().retain($e.index),Ke=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(P.default.sources.SILENT),setTimeout(function(){Ze=Ze.concat(Me.convert()).delete($e.length),Me.quill.updateContents(Ze,P.default.sources.USER),Me.quill.setSelection(Ze.length()-$e.length,P.default.sources.SILENT),Me.quill.scrollingContainer.scrollTop=Ke,Me.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Re=this,Me=[],$e=[];return this.matchers.forEach(function(Ze){var Ke=d(Ze,2),bt=Ke[0],jt=Ke[1];switch(bt){case Node.TEXT_NODE:$e.push(jt);break;case Node.ELEMENT_NODE:Me.push(jt);break;default:[].forEach.call(Re.container.querySelectorAll(bt),function(ut){ut[Ee]=ut[Ee]||[],ut[Ee].push(jt)});break}}),[Me,$e]}}]),Ae}(F.default);ae.DEFAULTS={matchers:[],matchVisual:!0};function le(Se,Ae,Ie){return(typeof Ae>"u"?"undefined":c(Ae))==="object"?Object.keys(Ae).reduce(function(Re,Me){return le(Re,Me,Ae[Me])},Se):Se.reduce(function(Re,Me){return Me.attributes&&Me.attributes[Ae]?Re.push(Me):Re.insert(Me.insert,(0,b.default)({},Z({},Ae,Ie),Me.attributes))},new w.default)}function ve(Se){if(Se.nodeType!==Node.ELEMENT_NODE)return{};var Ae="__ql-computed-style";return Se[Ae]||(Se[Ae]=window.getComputedStyle(Se))}function pe(Se,Ae){for(var Ie="",Re=Se.ops.length-1;Re>=0&&Ie.length<Ae.length;--Re){var Me=Se.ops[Re];if(typeof Me.insert!="string")break;Ie=Me.insert+Ie}return Ie.slice(-1*Ae.length)===Ae}function re(Se){if(Se.childNodes.length===0)return!1;var Ae=ve(Se);return["block","list-item"].indexOf(Ae.display)>-1}function de(Se,Ae,Ie){return Se.nodeType===Se.TEXT_NODE?Ie.reduce(function(Re,Me){return Me(Se,Re)},new w.default):Se.nodeType===Se.ELEMENT_NODE?[].reduce.call(Se.childNodes||[],function(Re,Me){var $e=de(Me,Ae,Ie);return Me.nodeType===Se.ELEMENT_NODE&&($e=Ae.reduce(function(Ze,Ke){return Ke(Me,Ze)},$e),$e=(Me[Ee]||[]).reduce(function(Ze,Ke){return Ke(Me,Ze)},$e)),Re.concat($e)},new w.default):new w.default}function xe(Se,Ae,Ie){return le(Ie,Se,!0)}function be(Se,Ae){var Ie=A.default.Attributor.Attribute.keys(Se),Re=A.default.Attributor.Class.keys(Se),Me=A.default.Attributor.Style.keys(Se),$e={};return Ie.concat(Re).concat(Me).forEach(function(Ze){var Ke=A.default.query(Ze,A.default.Scope.ATTRIBUTE);Ke!=null&&($e[Ke.attrName]=Ke.value(Se),$e[Ke.attrName])||(Ke=ce[Ze],Ke!=null&&(Ke.attrName===Ze||Ke.keyName===Ze)&&($e[Ke.attrName]=Ke.value(Se)||void 0),Ke=K[Ze],Ke!=null&&(Ke.attrName===Ze||Ke.keyName===Ze)&&(Ke=K[Ze],$e[Ke.attrName]=Ke.value(Se)||void 0))}),Object.keys($e).length>0&&(Ae=le(Ae,$e)),Ae}function Oe(Se,Ae){var Ie=A.default.query(Se);if(Ie==null)return Ae;if(Ie.prototype instanceof A.default.Embed){var Re={},Me=Ie.value(Se);Me!=null&&(Re[Ie.blotName]=Me,Ae=new w.default().insert(Re,Ie.formats(Se)))}else typeof Ie.formats=="function"&&(Ae=le(Ae,Ie.blotName,Ie.formats(Se)));return Ae}function ze(Se,Ae){return pe(Ae,`
`)||Ae.insert(`
`),Ae}function We(){return new w.default}function qe(Se,Ae){var Ie=A.default.query(Se);if(Ie==null||Ie.blotName!=="list-item"||!pe(Ae,`
`))return Ae;for(var Re=-1,Me=Se.parentNode;!Me.classList.contains("ql-clipboard");)(A.default.query(Me)||{}).blotName==="list"&&(Re+=1),Me=Me.parentNode;return Re<=0?Ae:Ae.compose(new w.default().retain(Ae.length()-1).retain(1,{indent:Re}))}function Qe(Se,Ae){return pe(Ae,`
`)||(re(Se)||Ae.length()>0&&Se.nextSibling&&re(Se.nextSibling))&&Ae.insert(`
`),Ae}function at(Se,Ae){if(re(Se)&&Se.nextElementSibling!=null&&!pe(Ae,`

`)){var Ie=Se.offsetHeight+parseFloat(ve(Se).marginTop)+parseFloat(ve(Se).marginBottom);Se.nextElementSibling.offsetTop>Se.offsetTop+Ie*1.5&&Ae.insert(`
`)}return Ae}function kt(Se,Ae){var Ie={},Re=Se.style||{};return Re.fontStyle&&ve(Se).fontStyle==="italic"&&(Ie.italic=!0),Re.fontWeight&&(ve(Se).fontWeight.startsWith("bold")||parseInt(ve(Se).fontWeight)>=700)&&(Ie.bold=!0),Object.keys(Ie).length>0&&(Ae=le(Ae,Ie)),parseFloat(Re.textIndent||0)>0&&(Ae=new w.default().insert("	").concat(Ae)),Ae}function dt(Se,Ae){var Ie=Se.data;if(Se.parentNode.tagName==="O:P")return Ae.insert(Ie.trim());if(Ie.trim().length===0&&Se.parentNode.classList.contains("ql-clipboard"))return Ae;if(!ve(Se.parentNode).whiteSpace.startsWith("pre")){var Re=function($e,Ze){return Ze=Ze.replace(/[^\u00a0]/g,""),Ze.length<1&&$e?" ":Ze};Ie=Ie.replace(/\r\n/g," ").replace(/\n/g," "),Ie=Ie.replace(/\s\s+/g,Re.bind(Re,!0)),(Se.previousSibling==null&&re(Se.parentNode)||Se.previousSibling!=null&&re(Se.previousSibling))&&(Ie=Ie.replace(/^\s+/,Re.bind(Re,!1))),(Se.nextSibling==null&&re(Se.parentNode)||Se.nextSibling!=null&&re(Se.nextSibling))&&(Ie=Ie.replace(/\s+$/,Re.bind(Re,!1)))}return Ae.insert(Ie)}r.default=ae,r.matchAttributor=be,r.matchBlot=Oe,r.matchNewline=Qe,r.matchSpacing=at,r.matchText=dt},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function T(P,I){for(var N=0;N<I.length;N++){var E=I[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,E.key,E)}}return function(P,I,N){return I&&T(P.prototype,I),N&&T(P,N),P}}(),d=function T(P,I,N){P===null&&(P=Function.prototype);var E=Object.getOwnPropertyDescriptor(P,I);if(E===void 0){var F=Object.getPrototypeOf(P);return F===null?void 0:T(F,I,N)}else{if("value"in E)return E.value;var D=E.get;return D===void 0?void 0:D.call(N)}},p=o(6),m=b(p);function b(T){return T&&T.__esModule?T:{default:T}}function x(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function w(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function k(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var A=function(T){k(P,T);function P(){return x(this,P),w(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return c(P,[{key:"optimize",value:function(N){d(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,N),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return d(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),P}(m.default);A.blotName="bold",A.tagName=["STRONG","B"],r.default=A},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var c=function(){function X(j,Z){var ie=[],oe=!0,me=!1,ye=void 0;try{for(var Ee=j[Symbol.iterator](),fe;!(oe=(fe=Ee.next()).done)&&(ie.push(fe.value),!(Z&&ie.length===Z));oe=!0);}catch(ce){me=!0,ye=ce}finally{try{!oe&&Ee.return&&Ee.return()}finally{if(me)throw ye}}return ie}return function(j,Z){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return X(j,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(){function X(j,Z){for(var ie=0;ie<Z.length;ie++){var oe=Z[ie];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(j,oe.key,oe)}}return function(j,Z,ie){return Z&&X(j.prototype,Z),ie&&X(j,ie),j}}(),p=o(2),m=N(p),b=o(0),x=N(b),w=o(5),k=N(w),A=o(10),T=N(A),P=o(9),I=N(P);function N(X){return X&&X.__esModule?X:{default:X}}function E(X,j,Z){return j in X?Object.defineProperty(X,j,{value:Z,enumerable:!0,configurable:!0,writable:!0}):X[j]=Z,X}function F(X,j){if(!(X instanceof j))throw new TypeError("Cannot call a class as a function")}function D(X,j){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:X}function R(X,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);X.prototype=Object.create(j&&j.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(X,j):X.__proto__=j)}var G=(0,T.default)("quill:toolbar"),q=function(X){R(j,X);function j(Z,ie){F(this,j);var oe=D(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,Z,ie));if(Array.isArray(oe.options.container)){var me=document.createElement("div");te(me,oe.options.container),Z.container.parentNode.insertBefore(me,Z.container),oe.container=me}else typeof oe.options.container=="string"?oe.container=document.querySelector(oe.options.container):oe.container=oe.options.container;if(!(oe.container instanceof HTMLElement)){var ye;return ye=G.error("Container required for toolbar",oe.options),D(oe,ye)}return oe.container.classList.add("ql-toolbar"),oe.controls=[],oe.handlers={},Object.keys(oe.options.handlers).forEach(function(Ee){oe.addHandler(Ee,oe.options.handlers[Ee])}),[].forEach.call(oe.container.querySelectorAll("button, select"),function(Ee){oe.attach(Ee)}),oe.quill.on(k.default.events.EDITOR_CHANGE,function(Ee,fe){Ee===k.default.events.SELECTION_CHANGE&&oe.update(fe)}),oe.quill.on(k.default.events.SCROLL_OPTIMIZE,function(){var Ee=oe.quill.selection.getRange(),fe=c(Ee,1),ce=fe[0];oe.update(ce)}),oe}return d(j,[{key:"addHandler",value:function(ie,oe){this.handlers[ie]=oe}},{key:"attach",value:function(ie){var oe=this,me=[].find.call(ie.classList,function(Ee){return Ee.indexOf("ql-")===0});if(!!me){if(me=me.slice(3),ie.tagName==="BUTTON"&&ie.setAttribute("type","button"),this.handlers[me]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[me]==null){G.warn("ignoring attaching to disabled format",me,ie);return}if(x.default.query(me)==null){G.warn("ignoring attaching to nonexistent format",me,ie);return}}var ye=ie.tagName==="SELECT"?"change":"click";ie.addEventListener(ye,function(Ee){var fe=void 0;if(ie.tagName==="SELECT"){if(ie.selectedIndex<0)return;var ce=ie.options[ie.selectedIndex];ce.hasAttribute("selected")?fe=!1:fe=ce.value||!1}else ie.classList.contains("ql-active")?fe=!1:fe=ie.value||!ie.hasAttribute("value"),Ee.preventDefault();oe.quill.focus();var K=oe.quill.selection.getRange(),ae=c(K,1),le=ae[0];if(oe.handlers[me]!=null)oe.handlers[me].call(oe,fe);else if(x.default.query(me).prototype instanceof x.default.Embed){if(fe=prompt("Enter "+me),!fe)return;oe.quill.updateContents(new m.default().retain(le.index).delete(le.length).insert(E({},me,fe)),k.default.sources.USER)}else oe.quill.format(me,fe,k.default.sources.USER);oe.update(le)}),this.controls.push([me,ie])}}},{key:"update",value:function(ie){var oe=ie==null?{}:this.quill.getFormat(ie);this.controls.forEach(function(me){var ye=c(me,2),Ee=ye[0],fe=ye[1];if(fe.tagName==="SELECT"){var ce=void 0;if(ie==null)ce=null;else if(oe[Ee]==null)ce=fe.querySelector("option[selected]");else if(!Array.isArray(oe[Ee])){var K=oe[Ee];typeof K=="string"&&(K=K.replace(/\"/g,'\\"')),ce=fe.querySelector('option[value="'+K+'"]')}ce==null?(fe.value="",fe.selectedIndex=-1):ce.selected=!0}else if(ie==null)fe.classList.remove("ql-active");else if(fe.hasAttribute("value")){var ae=oe[Ee]===fe.getAttribute("value")||oe[Ee]!=null&&oe[Ee].toString()===fe.getAttribute("value")||oe[Ee]==null&&!fe.getAttribute("value");fe.classList.toggle("ql-active",ae)}else fe.classList.toggle("ql-active",oe[Ee]!=null)})}}]),j}(I.default);q.DEFAULTS={};function W(X,j,Z){var ie=document.createElement("button");ie.setAttribute("type","button"),ie.classList.add("ql-"+j),Z!=null&&(ie.value=Z),X.appendChild(ie)}function te(X,j){Array.isArray(j[0])||(j=[j]),j.forEach(function(Z){var ie=document.createElement("span");ie.classList.add("ql-formats"),Z.forEach(function(oe){if(typeof oe=="string")W(ie,oe);else{var me=Object.keys(oe)[0],ye=oe[me];Array.isArray(ye)?U(ie,me,ye):W(ie,me,ye)}}),X.appendChild(ie)})}function U(X,j,Z){var ie=document.createElement("select");ie.classList.add("ql-"+j),Z.forEach(function(oe){var me=document.createElement("option");oe!==!1?me.setAttribute("value",oe):me.setAttribute("selected","selected"),ie.appendChild(me)}),X.appendChild(ie)}q.DEFAULTS={container:null,handlers:{clean:function(){var j=this,Z=this.quill.getSelection();if(Z!=null)if(Z.length==0){var ie=this.quill.getFormat();Object.keys(ie).forEach(function(oe){x.default.query(oe,x.default.Scope.INLINE)!=null&&j.quill.format(oe,!1)})}else this.quill.removeFormat(Z,k.default.sources.USER)},direction:function(j){var Z=this.quill.getFormat().align;j==="rtl"&&Z==null?this.quill.format("align","right",k.default.sources.USER):!j&&Z==="right"&&this.quill.format("align",!1,k.default.sources.USER),this.quill.format("direction",j,k.default.sources.USER)},indent:function(j){var Z=this.quill.getSelection(),ie=this.quill.getFormat(Z),oe=parseInt(ie.indent||0);if(j==="+1"||j==="-1"){var me=j==="+1"?1:-1;ie.direction==="rtl"&&(me*=-1),this.quill.format("indent",oe+me,k.default.sources.USER)}},link:function(j){j===!0&&(j=prompt("Enter link URL:")),this.quill.format("link",j,k.default.sources.USER)},list:function(j){var Z=this.quill.getSelection(),ie=this.quill.getFormat(Z);j==="check"?ie.list==="checked"||ie.list==="unchecked"?this.quill.format("list",!1,k.default.sources.USER):this.quill.format("list","unchecked",k.default.sources.USER):this.quill.format("list",j,k.default.sources.USER)}}},r.default=q,r.addControls=te},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function T(P,I){for(var N=0;N<I.length;N++){var E=I[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,E.key,E)}}return function(P,I,N){return I&&T(P.prototype,I),N&&T(P,N),P}}(),d=function T(P,I,N){P===null&&(P=Function.prototype);var E=Object.getOwnPropertyDescriptor(P,I);if(E===void 0){var F=Object.getPrototypeOf(P);return F===null?void 0:T(F,I,N)}else{if("value"in E)return E.value;var D=E.get;return D===void 0?void 0:D.call(N)}},p=o(28),m=b(p);function b(T){return T&&T.__esModule?T:{default:T}}function x(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function w(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function k(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var A=function(T){k(P,T);function P(I,N){x(this,P);var E=w(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I));return E.label.innerHTML=N,E.container.classList.add("ql-color-picker"),[].slice.call(E.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(F){F.classList.add("ql-primary")}),E}return c(P,[{key:"buildItem",value:function(N){var E=d(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"buildItem",this).call(this,N);return E.style.backgroundColor=N.getAttribute("value")||"",E}},{key:"selectItem",value:function(N,E){d(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"selectItem",this).call(this,N,E);var F=this.label.querySelector(".ql-color-label"),D=N&&N.getAttribute("data-value")||"";F&&(F.tagName==="line"?F.style.stroke=D:F.style.fill=D)}}]),P}(m.default);r.default=A},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function T(P,I){for(var N=0;N<I.length;N++){var E=I[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,E.key,E)}}return function(P,I,N){return I&&T(P.prototype,I),N&&T(P,N),P}}(),d=function T(P,I,N){P===null&&(P=Function.prototype);var E=Object.getOwnPropertyDescriptor(P,I);if(E===void 0){var F=Object.getPrototypeOf(P);return F===null?void 0:T(F,I,N)}else{if("value"in E)return E.value;var D=E.get;return D===void 0?void 0:D.call(N)}},p=o(28),m=b(p);function b(T){return T&&T.__esModule?T:{default:T}}function x(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function w(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function k(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var A=function(T){k(P,T);function P(I,N){x(this,P);var E=w(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,I));return E.container.classList.add("ql-icon-picker"),[].forEach.call(E.container.querySelectorAll(".ql-picker-item"),function(F){F.innerHTML=N[F.getAttribute("data-value")||""]}),E.defaultItem=E.container.querySelector(".ql-selected"),E.selectItem(E.defaultItem),E}return c(P,[{key:"selectItem",value:function(N,E){d(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"selectItem",this).call(this,N,E),N=N||this.defaultItem,this.label.innerHTML=N.innerHTML}}]),P}(m.default);r.default=A},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function m(b,x){for(var w=0;w<x.length;w++){var k=x[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,x,w){return x&&m(b.prototype,x),w&&m(b,w),b}}();function d(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}var p=function(){function m(b,x){var w=this;d(this,m),this.quill=b,this.boundsContainer=x||document.body,this.root=b.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){w.root.style.marginTop=-1*w.quill.root.scrollTop+"px"}),this.hide()}return c(m,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(x){var w=x.left+x.width/2-this.root.offsetWidth/2,k=x.bottom+this.quill.root.scrollTop;this.root.style.left=w+"px",this.root.style.top=k+"px",this.root.classList.remove("ql-flip");var A=this.boundsContainer.getBoundingClientRect(),T=this.root.getBoundingClientRect(),P=0;if(T.right>A.right&&(P=A.right-T.right,this.root.style.left=w+P+"px"),T.left<A.left&&(P=A.left-T.left,this.root.style.left=w+P+"px"),T.bottom>A.bottom){var I=T.bottom-T.top,N=x.bottom-x.top+I;this.root.style.top=k-N+"px",this.root.classList.add("ql-flip")}return P}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),m}();r.default=p},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function U(X,j){var Z=[],ie=!0,oe=!1,me=void 0;try{for(var ye=X[Symbol.iterator](),Ee;!(ie=(Ee=ye.next()).done)&&(Z.push(Ee.value),!(j&&Z.length===j));ie=!0);}catch(fe){oe=!0,me=fe}finally{try{!ie&&ye.return&&ye.return()}finally{if(oe)throw me}}return Z}return function(X,j){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return U(X,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function U(X,j,Z){X===null&&(X=Function.prototype);var ie=Object.getOwnPropertyDescriptor(X,j);if(ie===void 0){var oe=Object.getPrototypeOf(X);return oe===null?void 0:U(oe,j,Z)}else{if("value"in ie)return ie.value;var me=ie.get;return me===void 0?void 0:me.call(Z)}},p=function(){function U(X,j){for(var Z=0;Z<j.length;Z++){var ie=j[Z];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(X,ie.key,ie)}}return function(X,j,Z){return j&&U(X.prototype,j),Z&&U(X,Z),X}}(),m=o(3),b=F(m),x=o(8),w=F(x),k=o(43),A=F(k),T=o(27),P=F(T),I=o(15),N=o(41),E=F(N);function F(U){return U&&U.__esModule?U:{default:U}}function D(U,X){if(!(U instanceof X))throw new TypeError("Cannot call a class as a function")}function R(U,X){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:U}function G(U,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);U.prototype=Object.create(X&&X.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(U,X):U.__proto__=X)}var q=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],W=function(U){G(X,U);function X(j,Z){D(this,X),Z.modules.toolbar!=null&&Z.modules.toolbar.container==null&&(Z.modules.toolbar.container=q);var ie=R(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,j,Z));return ie.quill.container.classList.add("ql-snow"),ie}return p(X,[{key:"extendToolbar",value:function(Z){Z.container.classList.add("ql-snow"),this.buildButtons([].slice.call(Z.container.querySelectorAll("button")),E.default),this.buildPickers([].slice.call(Z.container.querySelectorAll("select")),E.default),this.tooltip=new te(this.quill,this.options.bounds),Z.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(ie,oe){Z.handlers.link.call(Z,!oe.format.link)})}}]),X}(A.default);W.DEFAULTS=(0,b.default)(!0,{},A.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(X){if(X){var j=this.quill.getSelection();if(j==null||j.length==0)return;var Z=this.quill.getText(j);/^\S+@\S+\.\S+$/.test(Z)&&Z.indexOf("mailto:")!==0&&(Z="mailto:"+Z);var ie=this.quill.theme.tooltip;ie.edit("link",Z)}else this.quill.format("link",!1)}}}}});var te=function(U){G(X,U);function X(j,Z){D(this,X);var ie=R(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,j,Z));return ie.preview=ie.root.querySelector("a.ql-preview"),ie}return p(X,[{key:"listen",value:function(){var Z=this;d(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(ie){Z.root.classList.contains("ql-editing")?Z.save():Z.edit("link",Z.preview.textContent),ie.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(ie){if(Z.linkRange!=null){var oe=Z.linkRange;Z.restoreFocus(),Z.quill.formatText(oe,"link",!1,w.default.sources.USER),delete Z.linkRange}ie.preventDefault(),Z.hide()}),this.quill.on(w.default.events.SELECTION_CHANGE,function(ie,oe,me){if(ie!=null){if(ie.length===0&&me===w.default.sources.USER){var ye=Z.quill.scroll.descendant(P.default,ie.index),Ee=c(ye,2),fe=Ee[0],ce=Ee[1];if(fe!=null){Z.linkRange=new I.Range(ie.index-ce,fe.length());var K=P.default.formats(fe.domNode);Z.preview.textContent=K,Z.preview.setAttribute("href",K),Z.show(),Z.position(Z.quill.getBounds(Z.linkRange));return}}else delete Z.linkRange;Z.hide()}})}},{key:"show",value:function(){d(X.prototype.__proto__||Object.getPrototypeOf(X.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),X}(k.BaseTooltip);te.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=W},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(29),d=Me(c),p=o(36),m=o(38),b=o(64),x=o(65),w=Me(x),k=o(66),A=Me(k),T=o(67),P=Me(T),I=o(37),N=o(26),E=o(39),F=o(40),D=o(56),R=Me(D),G=o(68),q=Me(G),W=o(27),te=Me(W),U=o(69),X=Me(U),j=o(70),Z=Me(j),ie=o(71),oe=Me(ie),me=o(72),ye=Me(me),Ee=o(73),fe=Me(Ee),ce=o(13),K=Me(ce),ae=o(74),le=Me(ae),ve=o(75),pe=Me(ve),re=o(57),de=Me(re),xe=o(41),be=Me(xe),Oe=o(28),ze=Me(Oe),We=o(59),qe=Me(We),Qe=o(60),at=Me(Qe),kt=o(61),dt=Me(kt),Se=o(108),Ae=Me(Se),Ie=o(62),Re=Me(Ie);function Me($e){return $e&&$e.__esModule?$e:{default:$e}}d.default.register({"attributors/attribute/direction":m.DirectionAttribute,"attributors/class/align":p.AlignClass,"attributors/class/background":I.BackgroundClass,"attributors/class/color":N.ColorClass,"attributors/class/direction":m.DirectionClass,"attributors/class/font":E.FontClass,"attributors/class/size":F.SizeClass,"attributors/style/align":p.AlignStyle,"attributors/style/background":I.BackgroundStyle,"attributors/style/color":N.ColorStyle,"attributors/style/direction":m.DirectionStyle,"attributors/style/font":E.FontStyle,"attributors/style/size":F.SizeStyle},!0),d.default.register({"formats/align":p.AlignClass,"formats/direction":m.DirectionClass,"formats/indent":b.IndentClass,"formats/background":I.BackgroundStyle,"formats/color":N.ColorStyle,"formats/font":E.FontClass,"formats/size":F.SizeClass,"formats/blockquote":w.default,"formats/code-block":K.default,"formats/header":A.default,"formats/list":P.default,"formats/bold":R.default,"formats/code":ce.Code,"formats/italic":q.default,"formats/link":te.default,"formats/script":X.default,"formats/strike":Z.default,"formats/underline":oe.default,"formats/image":ye.default,"formats/video":fe.default,"formats/list/item":T.ListItem,"modules/formula":le.default,"modules/syntax":pe.default,"modules/toolbar":de.default,"themes/bubble":Ae.default,"themes/snow":Re.default,"ui/icons":be.default,"ui/picker":ze.default,"ui/icon-picker":at.default,"ui/color-picker":qe.default,"ui/tooltip":dt.default},!0),r.default=d.default},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var c=function(){function P(I,N){for(var E=0;E<N.length;E++){var F=N[E];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(I,F.key,F)}}return function(I,N,E){return N&&P(I.prototype,N),E&&P(I,E),I}}(),d=function P(I,N,E){I===null&&(I=Function.prototype);var F=Object.getOwnPropertyDescriptor(I,N);if(F===void 0){var D=Object.getPrototypeOf(I);return D===null?void 0:P(D,N,E)}else{if("value"in F)return F.value;var R=F.get;return R===void 0?void 0:R.call(E)}},p=o(0),m=b(p);function b(P){return P&&P.__esModule?P:{default:P}}function x(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}function w(P,I){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:P}function k(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(P,I):P.__proto__=I)}var A=function(P){k(I,P);function I(){return x(this,I),w(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return c(I,[{key:"add",value:function(E,F){if(F==="+1"||F==="-1"){var D=this.value(E)||0;F=F==="+1"?D+1:D-1}return F===0?(this.remove(E),!0):d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"add",this).call(this,E,F)}},{key:"canAdd",value:function(E,F){return d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"canAdd",this).call(this,E,F)||d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"canAdd",this).call(this,E,parseInt(F))}},{key:"value",value:function(E){return parseInt(d(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"value",this).call(this,E))||void 0}}]),I}(m.default.Attributor.Class),T=new A("indent","ql-indent",{scope:m.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=T},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(4),d=p(c);function p(k){return k&&k.__esModule?k:{default:k}}function m(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function b(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var w=function(k){x(A,k);function A(){return m(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(d.default);w.blotName="blockquote",w.tagName="blockquote",r.default=w},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function A(T,P){for(var I=0;I<P.length;I++){var N=P[I];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,N.key,N)}}return function(T,P,I){return P&&A(T.prototype,P),I&&A(T,I),T}}(),d=o(4),p=m(d);function m(A){return A&&A.__esModule?A:{default:A}}function b(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function x(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function w(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var k=function(A){w(T,A);function T(){return b(this,T),x(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return c(T,null,[{key:"formats",value:function(I){return this.tagName.indexOf(I.tagName)+1}}]),T}(p.default);k.blotName="header",k.tagName=["H1","H2","H3","H4","H5","H6"],r.default=k},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var c=function(){function D(R,G){for(var q=0;q<G.length;q++){var W=G[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(R,W.key,W)}}return function(R,G,q){return G&&D(R.prototype,G),q&&D(R,q),R}}(),d=function D(R,G,q){R===null&&(R=Function.prototype);var W=Object.getOwnPropertyDescriptor(R,G);if(W===void 0){var te=Object.getPrototypeOf(R);return te===null?void 0:D(te,G,q)}else{if("value"in W)return W.value;var U=W.get;return U===void 0?void 0:U.call(q)}},p=o(0),m=A(p),b=o(4),x=A(b),w=o(25),k=A(w);function A(D){return D&&D.__esModule?D:{default:D}}function T(D,R,G){return R in D?Object.defineProperty(D,R,{value:G,enumerable:!0,configurable:!0,writable:!0}):D[R]=G,D}function P(D,R){if(!(D instanceof R))throw new TypeError("Cannot call a class as a function")}function I(D,R){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:D}function N(D,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);D.prototype=Object.create(R&&R.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(D,R):D.__proto__=R)}var E=function(D){N(R,D);function R(){return P(this,R),I(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return c(R,[{key:"format",value:function(q,W){q===F.blotName&&!W?this.replaceWith(m.default.create(this.statics.scope)):d(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,q,W)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():d(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(q,W){return this.parent.isolate(this.offset(this.parent),this.length()),q===this.parent.statics.blotName?(this.parent.replaceWith(q,W),this):(this.parent.unwrap(),d(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replaceWith",this).call(this,q,W))}}],[{key:"formats",value:function(q){return q.tagName===this.tagName?void 0:d(R.__proto__||Object.getPrototypeOf(R),"formats",this).call(this,q)}}]),R}(x.default);E.blotName="list-item",E.tagName="LI";var F=function(D){N(R,D),c(R,null,[{key:"create",value:function(q){var W=q==="ordered"?"OL":"UL",te=d(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,W);return(q==="checked"||q==="unchecked")&&te.setAttribute("data-checked",q==="checked"),te}},{key:"formats",value:function(q){if(q.tagName==="OL")return"ordered";if(q.tagName==="UL")return q.hasAttribute("data-checked")?q.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function R(G){P(this,R);var q=I(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,G)),W=function(U){if(U.target.parentNode===G){var X=q.statics.formats(G),j=m.default.find(U.target);X==="checked"?j.format("list","unchecked"):X==="unchecked"&&j.format("list","checked")}};return G.addEventListener("touchstart",W),G.addEventListener("mousedown",W),q}return c(R,[{key:"format",value:function(q,W){this.children.length>0&&this.children.tail.format(q,W)}},{key:"formats",value:function(){return T({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(q,W){if(q instanceof E)d(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,q,W);else{var te=W==null?this.length():W.offset(this),U=this.split(te);U.parent.insertBefore(q,U)}}},{key:"optimize",value:function(q){d(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,q);var W=this.next;W!=null&&W.prev===this&&W.statics.blotName===this.statics.blotName&&W.domNode.tagName===this.domNode.tagName&&W.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(W.moveChildren(this),W.remove())}},{key:"replace",value:function(q){if(q.statics.blotName!==this.statics.blotName){var W=m.default.create(this.statics.defaultChild);q.moveChildren(W),this.appendChild(W)}d(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replace",this).call(this,q)}}]),R}(k.default);F.blotName="list",F.scope=m.default.Scope.BLOCK_BLOT,F.tagName=["OL","UL"],F.defaultChild="list-item",F.allowedChildren=[E],r.ListItem=E,r.default=F},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(56),d=p(c);function p(k){return k&&k.__esModule?k:{default:k}}function m(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function b(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var w=function(k){x(A,k);function A(){return m(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(d.default);w.blotName="italic",w.tagName=["EM","I"],r.default=w},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function T(P,I){for(var N=0;N<I.length;N++){var E=I[N];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(P,E.key,E)}}return function(P,I,N){return I&&T(P.prototype,I),N&&T(P,N),P}}(),d=function T(P,I,N){P===null&&(P=Function.prototype);var E=Object.getOwnPropertyDescriptor(P,I);if(E===void 0){var F=Object.getPrototypeOf(P);return F===null?void 0:T(F,I,N)}else{if("value"in E)return E.value;var D=E.get;return D===void 0?void 0:D.call(N)}},p=o(6),m=b(p);function b(T){return T&&T.__esModule?T:{default:T}}function x(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function w(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:T}function k(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var A=function(T){k(P,T);function P(){return x(this,P),w(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return c(P,null,[{key:"create",value:function(N){return N==="super"?document.createElement("sup"):N==="sub"?document.createElement("sub"):d(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,N)}},{key:"formats",value:function(N){if(N.tagName==="SUB")return"sub";if(N.tagName==="SUP")return"super"}}]),P}(m.default);A.blotName="script",A.tagName=["SUB","SUP"],r.default=A},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(6),d=p(c);function p(k){return k&&k.__esModule?k:{default:k}}function m(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function b(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var w=function(k){x(A,k);function A(){return m(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(d.default);w.blotName="strike",w.tagName="S",r.default=w},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=o(6),d=p(c);function p(k){return k&&k.__esModule?k:{default:k}}function m(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function b(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function x(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var w=function(k){x(A,k);function A(){return m(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(d.default);w.blotName="underline",w.tagName="U",r.default=w},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function I(N,E){for(var F=0;F<E.length;F++){var D=E[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,E,F){return E&&I(N.prototype,E),F&&I(N,F),N}}(),d=function I(N,E,F){N===null&&(N=Function.prototype);var D=Object.getOwnPropertyDescriptor(N,E);if(D===void 0){var R=Object.getPrototypeOf(N);return R===null?void 0:I(R,E,F)}else{if("value"in D)return D.value;var G=D.get;return G===void 0?void 0:G.call(F)}},p=o(0),m=x(p),b=o(27);function x(I){return I&&I.__esModule?I:{default:I}}function w(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function k(I,N){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:I}function A(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(I,N):I.__proto__=N)}var T=["alt","height","width"],P=function(I){A(N,I);function N(){return w(this,N),k(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return c(N,[{key:"format",value:function(F,D){T.indexOf(F)>-1?D?this.domNode.setAttribute(F,D):this.domNode.removeAttribute(F):d(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,F,D)}}],[{key:"create",value:function(F){var D=d(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,F);return typeof F=="string"&&D.setAttribute("src",this.sanitize(F)),D}},{key:"formats",value:function(F){return T.reduce(function(D,R){return F.hasAttribute(R)&&(D[R]=F.getAttribute(R)),D},{})}},{key:"match",value:function(F){return/\.(jpe?g|gif|png)$/.test(F)||/^data:image\/.+;base64/.test(F)}},{key:"sanitize",value:function(F){return(0,b.sanitize)(F,["http","https","data"])?F:"//:0"}},{key:"value",value:function(F){return F.getAttribute("src")}}]),N}(m.default.Embed);P.blotName="image",P.tagName="IMG",r.default=P},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function I(N,E){for(var F=0;F<E.length;F++){var D=E[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,D.key,D)}}return function(N,E,F){return E&&I(N.prototype,E),F&&I(N,F),N}}(),d=function I(N,E,F){N===null&&(N=Function.prototype);var D=Object.getOwnPropertyDescriptor(N,E);if(D===void 0){var R=Object.getPrototypeOf(N);return R===null?void 0:I(R,E,F)}else{if("value"in D)return D.value;var G=D.get;return G===void 0?void 0:G.call(F)}},p=o(4),m=o(27),b=x(m);function x(I){return I&&I.__esModule?I:{default:I}}function w(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function k(I,N){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:I}function A(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(I,N):I.__proto__=N)}var T=["height","width"],P=function(I){A(N,I);function N(){return w(this,N),k(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return c(N,[{key:"format",value:function(F,D){T.indexOf(F)>-1?D?this.domNode.setAttribute(F,D):this.domNode.removeAttribute(F):d(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,F,D)}}],[{key:"create",value:function(F){var D=d(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,F);return D.setAttribute("frameborder","0"),D.setAttribute("allowfullscreen",!0),D.setAttribute("src",this.sanitize(F)),D}},{key:"formats",value:function(F){return T.reduce(function(D,R){return F.hasAttribute(R)&&(D[R]=F.getAttribute(R)),D},{})}},{key:"sanitize",value:function(F){return b.default.sanitize(F)}},{key:"value",value:function(F){return F.getAttribute("src")}}]),N}(p.BlockEmbed);P.blotName="video",P.className="ql-video",P.tagName="IFRAME",r.default=P},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var c=function(){function F(D,R){for(var G=0;G<R.length;G++){var q=R[G];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(D,q.key,q)}}return function(D,R,G){return R&&F(D.prototype,R),G&&F(D,G),D}}(),d=function F(D,R,G){D===null&&(D=Function.prototype);var q=Object.getOwnPropertyDescriptor(D,R);if(q===void 0){var W=Object.getPrototypeOf(D);return W===null?void 0:F(W,R,G)}else{if("value"in q)return q.value;var te=q.get;return te===void 0?void 0:te.call(G)}},p=o(35),m=A(p),b=o(5),x=A(b),w=o(9),k=A(w);function A(F){return F&&F.__esModule?F:{default:F}}function T(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function P(F,D){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:F}function I(F,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}var N=function(F){I(D,F);function D(){return T(this,D),P(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return c(D,null,[{key:"create",value:function(G){var q=d(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,G);return typeof G=="string"&&(window.katex.render(G,q,{throwOnError:!1,errorColor:"#f00"}),q.setAttribute("data-value",G)),q}},{key:"value",value:function(G){return G.getAttribute("data-value")}}]),D}(m.default);N.blotName="formula",N.className="ql-formula",N.tagName="SPAN";var E=function(F){I(D,F),c(D,null,[{key:"register",value:function(){x.default.register(N,!0)}}]);function D(){T(this,D);var R=P(this,(D.__proto__||Object.getPrototypeOf(D)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return R}return D}(k.default);r.FormulaBlot=N,r.default=E},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var c=function(){function G(q,W){for(var te=0;te<W.length;te++){var U=W[te];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(q,U.key,U)}}return function(q,W,te){return W&&G(q.prototype,W),te&&G(q,te),q}}(),d=function G(q,W,te){q===null&&(q=Function.prototype);var U=Object.getOwnPropertyDescriptor(q,W);if(U===void 0){var X=Object.getPrototypeOf(q);return X===null?void 0:G(X,W,te)}else{if("value"in U)return U.value;var j=U.get;return j===void 0?void 0:j.call(te)}},p=o(0),m=P(p),b=o(5),x=P(b),w=o(9),k=P(w),A=o(13),T=P(A);function P(G){return G&&G.__esModule?G:{default:G}}function I(G,q){if(!(G instanceof q))throw new TypeError("Cannot call a class as a function")}function N(G,q){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:G}function E(G,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);G.prototype=Object.create(q&&q.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(G,q):G.__proto__=q)}var F=function(G){E(q,G);function q(){return I(this,q),N(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return c(q,[{key:"replaceWith",value:function(te){this.domNode.textContent=this.domNode.textContent,this.attach(),d(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"replaceWith",this).call(this,te)}},{key:"highlight",value:function(te){var U=this.domNode.textContent;this.cachedText!==U&&((U.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=te(U),this.domNode.normalize(),this.attach()),this.cachedText=U)}}]),q}(T.default);F.className="ql-syntax";var D=new m.default.Attributor.Class("token","hljs",{scope:m.default.Scope.INLINE}),R=function(G){E(q,G),c(q,null,[{key:"register",value:function(){x.default.register(D,!0),x.default.register(F,!0)}}]);function q(W,te){I(this,q);var U=N(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,W,te));if(typeof U.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var X=null;return U.quill.on(x.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(X),X=setTimeout(function(){U.highlight(),X=null},U.options.interval)}),U.highlight(),U}return c(q,[{key:"highlight",value:function(){var te=this;if(!this.quill.selection.composing){this.quill.update(x.default.sources.USER);var U=this.quill.getSelection();this.quill.scroll.descendants(F).forEach(function(X){X.highlight(te.options.highlight)}),this.quill.update(x.default.sources.SILENT),U!=null&&this.quill.setSelection(U,x.default.sources.SILENT)}}}]),q}(k.default);R.DEFAULTS={highlight:function(){return window.hljs==null?null:function(G){var q=window.hljs.highlightAuto(G);return q.value}}(),interval:1e3},r.CodeBlock=F,r.CodeToken=D,r.default=R},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,r){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,r){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,r){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,r){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,r){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var c=function q(W,te,U){W===null&&(W=Function.prototype);var X=Object.getOwnPropertyDescriptor(W,te);if(X===void 0){var j=Object.getPrototypeOf(W);return j===null?void 0:q(j,te,U)}else{if("value"in X)return X.value;var Z=X.get;return Z===void 0?void 0:Z.call(U)}},d=function(){function q(W,te){for(var U=0;U<te.length;U++){var X=te[U];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(W,X.key,X)}}return function(W,te,U){return te&&q(W.prototype,te),U&&q(W,U),W}}(),p=o(3),m=I(p),b=o(8),x=I(b),w=o(43),k=I(w),A=o(15),T=o(41),P=I(T);function I(q){return q&&q.__esModule?q:{default:q}}function N(q,W){if(!(q instanceof W))throw new TypeError("Cannot call a class as a function")}function E(q,W){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:q}function F(q,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);q.prototype=Object.create(W&&W.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(q,W):q.__proto__=W)}var D=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],R=function(q){F(W,q);function W(te,U){N(this,W),U.modules.toolbar!=null&&U.modules.toolbar.container==null&&(U.modules.toolbar.container=D);var X=E(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,te,U));return X.quill.container.classList.add("ql-bubble"),X}return d(W,[{key:"extendToolbar",value:function(U){this.tooltip=new G(this.quill,this.options.bounds),this.tooltip.root.appendChild(U.container),this.buildButtons([].slice.call(U.container.querySelectorAll("button")),P.default),this.buildPickers([].slice.call(U.container.querySelectorAll("select")),P.default)}}]),W}(k.default);R.DEFAULTS=(0,m.default)(!0,{},k.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(W){W?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var G=function(q){F(W,q);function W(te,U){N(this,W);var X=E(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,te,U));return X.quill.on(x.default.events.EDITOR_CHANGE,function(j,Z,ie,oe){if(j===x.default.events.SELECTION_CHANGE)if(Z!=null&&Z.length>0&&oe===x.default.sources.USER){X.show(),X.root.style.left="0px",X.root.style.width="",X.root.style.width=X.root.offsetWidth+"px";var me=X.quill.getLines(Z.index,Z.length);if(me.length===1)X.position(X.quill.getBounds(Z));else{var ye=me[me.length-1],Ee=X.quill.getIndex(ye),fe=Math.min(ye.length()-1,Z.index+Z.length-Ee),ce=X.quill.getBounds(new A.Range(Ee,fe));X.position(ce)}}else document.activeElement!==X.textbox&&X.quill.hasFocus()&&X.hide()}),X}return d(W,[{key:"listen",value:function(){var U=this;c(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){U.root.classList.remove("ql-editing")}),this.quill.on(x.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!U.root.classList.contains("ql-hidden")){var X=U.quill.getSelection();X!=null&&U.position(U.quill.getBounds(X))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(U){var X=c(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"position",this).call(this,U),j=this.root.querySelector(".ql-tooltip-arrow");if(j.style.marginLeft="",X===0)return X;j.style.marginLeft=-1*X-j.offsetWidth/2+"px"}}]),W}(w.BaseTooltip);G.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=G,r.default=R},function(e,r,o){e.exports=o(63)}]).default})})(Rl);const Pu=mu(Rl.exports);window.Quill=Pu;function Pt(a){this.content=a}Pt.prototype={constructor:Pt,find:function(a){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===a)return t;return-1},get:function(a){var t=this.find(a);return t==-1?void 0:this.content[t+1]},update:function(a,t,e){var r=e&&e!=a?this.remove(e):this,o=r.find(a),c=r.content.slice();return o==-1?c.push(e||a,t):(c[o+1]=t,e&&(c[o]=e)),new Pt(c)},remove:function(a){var t=this.find(a);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new Pt(e)},addToStart:function(a,t){return new Pt([a,t].concat(this.remove(a).content))},addToEnd:function(a,t){var e=this.remove(a).content.slice();return e.push(a,t),new Pt(e)},addBefore:function(a,t,e){var r=this.remove(t),o=r.content.slice(),c=r.find(a);return o.splice(c==-1?o.length:c,0,t,e),new Pt(o)},forEach:function(a){for(var t=0;t<this.content.length;t+=2)a(this.content[t],this.content[t+1])},prepend:function(a){return a=Pt.from(a),a.size?new Pt(a.content.concat(this.subtract(a).content)):this},append:function(a){return a=Pt.from(a),a.size?new Pt(this.subtract(a).content.concat(a.content)):this},subtract:function(a){var t=this;a=Pt.from(a);for(var e=0;e<a.content.length;e+=2)t=t.remove(a.content[e]);return t},toObject:function(){var a={};return this.forEach(function(t,e){a[t]=e}),a},get size(){return this.content.length>>1}};Pt.from=function(a){if(a instanceof Pt)return a;var t=[];if(a)for(var e in a)t.push(e,a[e]);return new Pt(t)};function _l(a,t,e){for(let r=0;;r++){if(r==a.childCount||r==t.childCount)return a.childCount==t.childCount?null:e;let o=a.child(r),c=t.child(r);if(o==c){e+=o.nodeSize;continue}if(!o.sameMarkup(c))return e;if(o.isText&&o.text!=c.text){for(let d=0;o.text[d]==c.text[d];d++)e++;return e}if(o.content.size||c.content.size){let d=_l(o.content,c.content,e+1);if(d!=null)return d}e+=o.nodeSize}}function zl(a,t,e,r){for(let o=a.childCount,c=t.childCount;;){if(o==0||c==0)return o==c?null:{a:e,b:r};let d=a.child(--o),p=t.child(--c),m=d.nodeSize;if(d==p){e-=m,r-=m;continue}if(!d.sameMarkup(p))return{a:e,b:r};if(d.isText&&d.text!=p.text){let b=0,x=Math.min(d.text.length,p.text.length);for(;b<x&&d.text[d.text.length-b-1]==p.text[p.text.length-b-1];)b++,e--,r--;return{a:e,b:r}}if(d.content.size||p.content.size){let b=zl(d.content,p.content,e-1,r-1);if(b)return b}e-=m,r-=m}}class Pe{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,e,r,o=0,c){for(let d=0,p=0;p<e;d++){let m=this.content[d],b=p+m.nodeSize;if(b>t&&r(m,o+p,c||null,d)!==!1&&m.content.size){let x=p+1;m.nodesBetween(Math.max(0,t-x),Math.min(m.content.size,e-x),r,o+x)}p=b}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,r,o){let c="",d=!0;return this.nodesBetween(t,e,(p,m)=>{p.isText?(c+=p.text.slice(Math.max(t,m)-m,e-m),d=!r):p.isLeaf?(o?c+=typeof o=="function"?o(p):o:p.type.spec.leafText&&(c+=p.type.spec.leafText(p)),d=!r):!d&&p.isBlock&&(c+=r,d=!0)},0),c}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,r=t.firstChild,o=this.content.slice(),c=0;for(e.isText&&e.sameMarkup(r)&&(o[o.length-1]=e.withText(e.text+r.text),c=1);c<t.content.length;c++)o.push(t.content[c]);return new Pe(o,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let r=[],o=0;if(e>t)for(let c=0,d=0;d<e;c++){let p=this.content[c],m=d+p.nodeSize;m>t&&((d<t||m>e)&&(p.isText?p=p.cut(Math.max(0,t-d),Math.min(p.text.length,e-d)):p=p.cut(Math.max(0,t-d-1),Math.min(p.content.size,e-d-1))),r.push(p),o+=p.nodeSize),d=m}return new Pe(r,o)}cutByIndex(t,e){return t==e?Pe.empty:t==0&&e==this.content.length?this:new Pe(this.content.slice(t,e))}replaceChild(t,e){let r=this.content[t];if(r==e)return this;let o=this.content.slice(),c=this.size+e.nodeSize-r.nodeSize;return o[t]=e,new Pe(o,c)}addToStart(t){return new Pe([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Pe(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,r=0;e<this.content.length;e++){let o=this.content[e];t(o,r,e),r+=o.nodeSize}}findDiffStart(t,e=0){return _l(this,t,e)}findDiffEnd(t,e=this.size,r=t.size){return zl(this,t,e,r)}findIndex(t,e=-1){if(t==0)return Sr(0,t);if(t==this.size)return Sr(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,o=0;;r++){let c=this.child(r),d=o+c.nodeSize;if(d>=t)return d==t||e>0?Sr(r+1,d):Sr(r,o);o=d}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return Pe.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Pe(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Pe.empty;let e,r=0;for(let o=0;o<t.length;o++){let c=t[o];r+=c.nodeSize,o&&c.isText&&t[o-1].sameMarkup(c)?(e||(e=t.slice(0,o)),e[e.length-1]=c.withText(e[e.length-1].text+c.text)):e&&e.push(c)}return new Pe(e||t,r)}static from(t){if(!t)return Pe.empty;if(t instanceof Pe)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Pe([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Pe.empty=new Pe([],0);const za={index:0,offset:0};function Sr(a,t){return za.index=a,za.offset=t,za}function _r(a,t){if(a===t)return!0;if(!(a&&typeof a=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(a);if(Array.isArray(t)!=e)return!1;if(e){if(a.length!=t.length)return!1;for(let r=0;r<a.length;r++)if(!_r(a[r],t[r]))return!1}else{for(let r in a)if(!(r in t)||!_r(a[r],t[r]))return!1;for(let r in t)if(!(r in a))return!1}return!0}class lt{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,r=!1;for(let o=0;o<t.length;o++){let c=t[o];if(this.eq(c))return t;if(this.type.excludes(c.type))e||(e=t.slice(0,o));else{if(c.type.excludes(this.type))return t;!r&&c.type.rank>this.type.rank&&(e||(e=t.slice(0,o)),e.push(this),r=!0),e&&e.push(c)}}return e||(e=t.slice()),r||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&_r(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[e.type];if(!r)throw new RangeError(`There is no mark type ${e.type} in this schema`);return r.create(e.attrs)}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(e[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return lt.none;if(t instanceof lt)return[t];let e=t.slice();return e.sort((r,o)=>r.type.rank-o.type.rank),e}}lt.none=[];class zr extends Error{}class Fe{constructor(t,e,r){this.content=t,this.openStart=e,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let r=Bl(this.content,t+this.openStart,e);return r&&new Fe(r,this.openStart,this.openEnd)}removeBetween(t,e){return new Fe(Fl(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return Fe.empty;let r=e.openStart||0,o=e.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Fe(Pe.fromJSON(t,e.content),r,o)}static maxOpen(t,e=!0){let r=0,o=0;for(let c=t.firstChild;c&&!c.isLeaf&&(e||!c.type.spec.isolating);c=c.firstChild)r++;for(let c=t.lastChild;c&&!c.isLeaf&&(e||!c.type.spec.isolating);c=c.lastChild)o++;return new Fe(t,r,o)}}Fe.empty=new Fe(Pe.empty,0,0);function Fl(a,t,e){let{index:r,offset:o}=a.findIndex(t),c=a.maybeChild(r),{index:d,offset:p}=a.findIndex(e);if(o==t||c.isText){if(p!=e&&!a.child(d).isText)throw new RangeError("Removing non-flat range");return a.cut(0,t).append(a.cut(e))}if(r!=d)throw new RangeError("Removing non-flat range");return a.replaceChild(r,c.copy(Fl(c.content,t-o-1,e-o-1)))}function Bl(a,t,e,r){let{index:o,offset:c}=a.findIndex(t),d=a.maybeChild(o);if(c==t||d.isText)return r&&!r.canReplace(o,o,e)?null:a.cut(0,t).append(e).append(a.cut(t));let p=Bl(d.content,t-c-1,e);return p&&a.replaceChild(o,d.copy(p))}function Lu(a,t,e){if(e.openStart>a.depth)throw new zr("Inserted content deeper than insertion position");if(a.depth-e.openStart!=t.depth-e.openEnd)throw new zr("Inconsistent open depths");return Hl(a,t,e,0)}function Hl(a,t,e,r){let o=a.index(r),c=a.node(r);if(o==t.index(r)&&r<a.depth-e.openStart){let d=Hl(a,t,e,r+1);return c.copy(c.content.replaceChild(o,d))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&a.depth==r&&t.depth==r){let d=a.parent,p=d.content;return ci(d,p.cut(0,a.parentOffset).append(e.content).append(p.cut(t.parentOffset)))}else{let{start:d,end:p}=Nu(e,a);return ci(c,Xl(a,d,p,t,r))}else return ci(c,Fr(a,t,r))}function Yl(a,t){if(!t.type.compatibleContent(a.type))throw new zr("Cannot join "+t.type.name+" onto "+a.type.name)}function fs(a,t,e){let r=a.node(e);return Yl(r,t.node(e)),r}function li(a,t){let e=t.length-1;e>=0&&a.isText&&a.sameMarkup(t[e])?t[e]=a.withText(t[e].text+a.text):t.push(a)}function Qi(a,t,e,r){let o=(t||a).node(e),c=0,d=t?t.index(e):o.childCount;a&&(c=a.index(e),a.depth>e?c++:a.textOffset&&(li(a.nodeAfter,r),c++));for(let p=c;p<d;p++)li(o.child(p),r);t&&t.depth==e&&t.textOffset&&li(t.nodeBefore,r)}function ci(a,t){return a.type.checkContent(t),a.copy(t)}function Xl(a,t,e,r,o){let c=a.depth>o&&fs(a,t,o+1),d=r.depth>o&&fs(e,r,o+1),p=[];return Qi(null,a,o,p),c&&d&&t.index(o)==e.index(o)?(Yl(c,d),li(ci(c,Xl(a,t,e,r,o+1)),p)):(c&&li(ci(c,Fr(a,t,o+1)),p),Qi(t,e,o,p),d&&li(ci(d,Fr(e,r,o+1)),p)),Qi(r,null,o,p),new Pe(p)}function Fr(a,t,e){let r=[];if(Qi(null,a,e,r),a.depth>e){let o=fs(a,t,e+1);li(ci(o,Fr(a,t,e+1)),r)}return Qi(t,null,e,r),new Pe(r)}function Nu(a,t){let e=t.depth-a.openStart,o=t.node(e).copy(a.content);for(let c=e-1;c>=0;c--)o=t.node(c).copy(Pe.from(o));return{start:o.resolveNoCache(a.openStart+e),end:o.resolveNoCache(o.content.size-a.openEnd-e)}}class lr{constructor(t,e,r){this.pos=t,this.path=e,this.parentOffset=r,this.depth=e.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=t.child(e);return r?t.child(e).cut(r):o}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let r=this.path[e*3],o=e==0?0:this.path[e*3-1]+1;for(let c=0;c<t;c++)o+=r.child(c).nodeSize;return o}marks(){let t=this.parent,e=this.index();if(t.content.size==0)return lt.none;if(this.textOffset)return t.child(e).marks;let r=t.maybeChild(e-1),o=t.maybeChild(e);if(!r){let p=r;r=o,o=p}let c=r.marks;for(var d=0;d<c.length;d++)c[d].type.spec.inclusive===!1&&(!o||!c[d].isInSet(o.marks))&&(c=c[d--].removeFromSet(c));return c}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let r=e.marks,o=t.parent.maybeChild(t.index());for(var c=0;c<r.length;c++)r[c].type.spec.inclusive===!1&&(!o||!r[c].isInSet(o.marks))&&(r=r[c--].removeFromSet(r));return r}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new Br(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let r=[],o=0,c=e;for(let d=t;;){let{index:p,offset:m}=d.content.findIndex(c),b=c-m;if(r.push(d,p,o+m),!b||(d=d.child(p),d.isText))break;c=b-1,o+=m+1}return new lr(e,r,c)}static resolveCached(t,e){for(let o=0;o<Fa.length;o++){let c=Fa[o];if(c.pos==e&&c.doc==t)return c}let r=Fa[Ba]=lr.resolve(t,e);return Ba=(Ba+1)%Du,r}}let Fa=[],Ba=0,Du=12;class Br{constructor(t,e,r){this.$from=t,this.$to=e,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Iu=Object.create(null);class Sn{constructor(t,e,r,o=lt.none){this.type=t,this.attrs=e,this.marks=o,this.content=r||Pe.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,r,o=0){this.content.nodesBetween(t,e,r,o,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,r,o){return this.content.textBetween(t,e,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,r){return this.type==t&&_r(this.attrs,e||t.defaultAttrs||Iu)&&lt.sameSet(this.marks,r||lt.none)}copy(t=null){return t==this.content?this:new Sn(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Sn(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,r=!1){if(t==e)return Fe.empty;let o=this.resolve(t),c=this.resolve(e),d=r?0:o.sharedDepth(e),p=o.start(d),b=o.node(d).content.cut(o.pos-p,c.pos-p);return new Fe(b,o.depth-d,c.depth-d)}replace(t,e,r){return Lu(this.resolve(t),this.resolve(e),r)}nodeAt(t){for(let e=this;;){let{index:r,offset:o}=e.content.findIndex(t);if(e=e.maybeChild(r),!e)return null;if(o==t||e.isText)return e;t-=o+1}}childAfter(t){let{index:e,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:e,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(e),index:e,offset:r};let o=this.content.child(e-1);return{node:o,index:e-1,offset:r-o.nodeSize}}resolve(t){return lr.resolveCached(this,t)}resolveNoCache(t){return lr.resolve(this,t)}rangeHasMark(t,e,r){let o=!1;return e>t&&this.nodesBetween(t,e,c=>(r.isInSet(c.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),Wl(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,r=Pe.empty,o=0,c=r.childCount){let d=this.contentMatchAt(t).matchFragment(r,o,c),p=d&&d.matchFragment(this.content,e);if(!p||!p.validEnd)return!1;for(let m=o;m<c;m++)if(!this.type.allowsMarks(r.child(m).marks))return!1;return!0}canReplaceWith(t,e,r,o){if(o&&!this.type.allowsMarks(o))return!1;let c=this.contentMatchAt(t).matchType(r),d=c&&c.matchFragment(this.content,e);return d?d.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content);let t=lt.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!lt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}let o=Pe.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,o,r)}}Sn.prototype.text=void 0;class Hr extends Sn{constructor(t,e,r,o){if(super(t,e,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Wl(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Hr(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Hr(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return t==0&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function Wl(a,t){for(let e=a.length-1;e>=0;e--)t=a[e].type.name+"("+t+")";return t}class di{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let r=new Ru(t,e);if(r.next==null)return di.empty;let o=jl(r);r.next&&r.err("Unexpected trailing text");let c=Xu(Yu(o));return Wu(c,r),c}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,r=t.childCount){let o=this;for(let c=e;o&&c<r;c++)o=o.matchType(t.child(c).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let r=0;r<t.next.length;r++)if(this.next[e].type==t.next[r].type)return!0;return!1}fillBefore(t,e=!1,r=0){let o=[this];function c(d,p){let m=d.matchFragment(t,r);if(m&&(!e||m.validEnd))return Pe.from(p.map(b=>b.createAndFill()));for(let b=0;b<d.next.length;b++){let{type:x,next:w}=d.next[b];if(!(x.isText||x.hasRequiredAttrs())&&o.indexOf(w)==-1){o.push(w);let k=c(w,p.concat(x));if(k)return k}}return null}return c(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),c=o.match;if(c.matchType(t)){let d=[];for(let p=o;p.type;p=p.via)d.push(p.type);return d.reverse()}for(let d=0;d<c.next.length;d++){let{type:p,next:m}=c.next[d];!p.isLeaf&&!p.hasRequiredAttrs()&&!(p.name in e)&&(!o.type||m.validEnd)&&(r.push({match:p.contentMatch,type:p,via:o}),e[p.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(r){t.push(r);for(let o=0;o<r.next.length;o++)t.indexOf(r.next[o].next)==-1&&e(r.next[o].next)}return e(this),t.map((r,o)=>{let c=o+(r.validEnd?"*":" ")+" ";for(let d=0;d<r.next.length;d++)c+=(d?", ":"")+r.next[d].type.name+"->"+t.indexOf(r.next[d].next);return c}).join(`
`)}}di.empty=new di(!0);class Ru{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function jl(a){let t=[];do t.push(_u(a));while(a.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function _u(a){let t=[];do t.push(zu(a));while(a.next&&a.next!=")"&&a.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function zu(a){let t=Hu(a);for(;;)if(a.eat("+"))t={type:"plus",expr:t};else if(a.eat("*"))t={type:"star",expr:t};else if(a.eat("?"))t={type:"opt",expr:t};else if(a.eat("{"))t=Fu(a,t);else break;return t}function fo(a){/\D/.test(a.next)&&a.err("Expected number, got '"+a.next+"'");let t=Number(a.next);return a.pos++,t}function Fu(a,t){let e=fo(a),r=e;return a.eat(",")&&(a.next!="}"?r=fo(a):r=-1),a.eat("}")||a.err("Unclosed braced range"),{type:"range",min:e,max:r,expr:t}}function Bu(a,t){let e=a.nodeTypes,r=e[t];if(r)return[r];let o=[];for(let c in e){let d=e[c];d.groups.indexOf(t)>-1&&o.push(d)}return o.length==0&&a.err("No node type or group '"+t+"' found"),o}function Hu(a){if(a.eat("(")){let t=jl(a);return a.eat(")")||a.err("Missing closing paren"),t}else if(/\W/.test(a.next))a.err("Unexpected token '"+a.next+"'");else{let t=Bu(a,a.next).map(e=>(a.inline==null?a.inline=e.isInline:a.inline!=e.isInline&&a.err("Mixing inline and block content"),{type:"name",value:e}));return a.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Yu(a){let t=[[]];return o(c(a,0),e()),t;function e(){return t.push([])-1}function r(d,p,m){let b={term:m,to:p};return t[d].push(b),b}function o(d,p){d.forEach(m=>m.to=p)}function c(d,p){if(d.type=="choice")return d.exprs.reduce((m,b)=>m.concat(c(b,p)),[]);if(d.type=="seq")for(let m=0;;m++){let b=c(d.exprs[m],p);if(m==d.exprs.length-1)return b;o(b,p=e())}else if(d.type=="star"){let m=e();return r(p,m),o(c(d.expr,m),m),[r(m)]}else if(d.type=="plus"){let m=e();return o(c(d.expr,p),m),o(c(d.expr,m),m),[r(m)]}else{if(d.type=="opt")return[r(p)].concat(c(d.expr,p));if(d.type=="range"){let m=p;for(let b=0;b<d.min;b++){let x=e();o(c(d.expr,m),x),m=x}if(d.max==-1)o(c(d.expr,m),m);else for(let b=d.min;b<d.max;b++){let x=e();r(m,x),o(c(d.expr,m),x),m=x}return[r(m)]}else{if(d.type=="name")return[r(p,void 0,d.value)];throw new Error("Unknown expr type")}}}}function Vl(a,t){return t-a}function po(a,t){let e=[];return r(t),e.sort(Vl);function r(o){let c=a[o];if(c.length==1&&!c[0].term)return r(c[0].to);e.push(o);for(let d=0;d<c.length;d++){let{term:p,to:m}=c[d];!p&&e.indexOf(m)==-1&&r(m)}}}function Xu(a){let t=Object.create(null);return e(po(a,0));function e(r){let o=[];r.forEach(d=>{a[d].forEach(({term:p,to:m})=>{if(!p)return;let b;for(let x=0;x<o.length;x++)o[x][0]==p&&(b=o[x][1]);po(a,m).forEach(x=>{b||o.push([p,b=[]]),b.indexOf(x)==-1&&b.push(x)})})});let c=t[r.join(",")]=new di(r.indexOf(a.length-1)>-1);for(let d=0;d<o.length;d++){let p=o[d][1].sort(Vl);c.next.push({type:o[d][0],next:t[p.join(",")]||e(p)})}return c}}function Wu(a,t){for(let e=0,r=[a];e<r.length;e++){let o=r[e],c=!o.validEnd,d=[];for(let p=0;p<o.next.length;p++){let{type:m,next:b}=o.next[p];d.push(m.name),c&&!(m.isText||m.hasRequiredAttrs())&&(c=!1),r.indexOf(b)==-1&&r.push(b)}c&&t.err("Only non-generatable nodes ("+d.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function ql(a){let t=Object.create(null);for(let e in a){let r=a[e];if(!r.hasDefault)return null;t[e]=r.default}return t}function Gl(a,t){let e=Object.create(null);for(let r in a){let o=t&&t[r];if(o===void 0){let c=a[r];if(c.hasDefault)o=c.default;else throw new RangeError("No value supplied for attribute "+r)}e[r]=o}return e}function Ul(a){let t=Object.create(null);if(a)for(let e in a)t[e]=new ju(a[e]);return t}class Yr{constructor(t,e,r){this.name=t,this.schema=e,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Ul(r.attrs),this.defaultAttrs=ql(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==di.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Gl(this.attrs,t)}create(t=null,e,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Sn(this,this.computeAttrs(t),Pe.from(e),lt.setFrom(r))}createChecked(t=null,e,r){return e=Pe.from(e),this.checkContent(e),new Sn(this,this.computeAttrs(t),e,lt.setFrom(r))}createAndFill(t=null,e,r){if(t=this.computeAttrs(t),e=Pe.from(e),e.size){let d=this.contentMatch.fillBefore(e);if(!d)return null;e=d.append(e)}let o=this.contentMatch.matchFragment(e),c=o&&o.fillBefore(Pe.empty,!0);return c?new Sn(this,t,e.append(c),lt.setFrom(r)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let e;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?e&&e.push(t[r]):e||(e=t.slice(0,r));return e?e.length?e:lt.none:t}static compile(t,e){let r=Object.create(null);t.forEach((c,d)=>r[c]=new Yr(c,e,d));let o=e.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let c in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class ju{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class fa{constructor(t,e,r,o){this.name=t,this.rank=e,this.schema=r,this.spec=o,this.attrs=Ul(o.attrs),this.excluded=null;let c=ql(this.attrs);this.instance=c?new lt(this,c):null}create(t=null){return!t&&this.instance?this.instance:new lt(this,Gl(this.attrs,t))}static compile(t,e){let r=Object.create(null),o=0;return t.forEach((c,d)=>r[c]=new fa(c,o++,e,d)),r}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(t){return this.excluded.indexOf(t)>-1}}class Vu{constructor(t){this.cached=Object.create(null);let e=this.spec={};for(let o in t)e[o]=t[o];e.nodes=Pt.from(t.nodes),e.marks=Pt.from(t.marks||{}),this.nodes=Yr.compile(this.spec.nodes,this),this.marks=fa.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let c=this.nodes[o],d=c.spec.content||"",p=c.spec.marks;c.contentMatch=r[d]||(r[d]=di.parse(d,this.nodes)),c.inlineContent=c.contentMatch.inlineContent,c.markSet=p=="_"?null:p?go(this,p.split(" ")):p==""||!c.inlineContent?[]:null}for(let o in this.marks){let c=this.marks[o],d=c.spec.excludes;c.excluded=d==null?[c]:d==""?[]:go(this,d.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,r,o){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Yr){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,r,o)}text(t,e){let r=this.nodes.text;return new Hr(r,r.defaultAttrs,t,lt.setFrom(e))}mark(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return Sn.fromJSON(this,t)}markFromJSON(t){return lt.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function go(a,t){let e=[];for(let r=0;r<t.length;r++){let o=t[r],c=a.marks[o],d=c;if(c)e.push(c);else for(let p in a.marks){let m=a.marks[p];(o=="_"||m.spec.group&&m.spec.group.split(" ").indexOf(o)>-1)&&e.push(d=m)}if(!d)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return e}class _i{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=t.nodes[r.node];return o.contentMatch.matchType(o)})}parse(t,e={}){let r=new yo(this,e,!1);return r.addAll(t,e.from,e.to),r.finish()}parseSlice(t,e={}){let r=new yo(this,e,!0);return r.addAll(t,e.from,e.to),Fe.maxOpen(r.finish())}matchTag(t,e,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let c=this.tags[o];if(Uu(t,c.tag)&&(c.namespace===void 0||t.namespaceURI==c.namespace)&&(!c.context||e.matchesContext(c.context))){if(c.getAttrs){let d=c.getAttrs(t);if(d===!1)continue;c.attrs=d||void 0}return c}}}matchStyle(t,e,r,o){for(let c=o?this.styles.indexOf(o)+1:0;c<this.styles.length;c++){let d=this.styles[c],p=d.style;if(!(p.indexOf(t)!=0||d.context&&!r.matchesContext(d.context)||p.length>t.length&&(p.charCodeAt(t.length)!=61||p.slice(t.length+1)!=e))){if(d.getAttrs){let m=d.getAttrs(e);if(m===!1)continue;d.attrs=m||void 0}return d}}}static schemaRules(t){let e=[];function r(o){let c=o.priority==null?50:o.priority,d=0;for(;d<e.length;d++){let p=e[d];if((p.priority==null?50:p.priority)<c)break}e.splice(d,0,o)}for(let o in t.marks){let c=t.marks[o].spec.parseDOM;c&&c.forEach(d=>{r(d=vo(d)),d.mark||d.ignore||d.clearMark||(d.mark=o)})}for(let o in t.nodes){let c=t.nodes[o].spec.parseDOM;c&&c.forEach(d=>{r(d=vo(d)),d.node||d.ignore||d.mark||(d.node=o)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new _i(t,_i.schemaRules(t)))}}const $l={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},qu={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Kl={ol:!0,ul:!0},Xr=1,Wr=2,er=4;function mo(a,t,e){return t!=null?(t?Xr:0)|(t==="full"?Wr:0):a&&a.whitespace=="pre"?Xr|Wr:e&~er}class Ar{constructor(t,e,r,o,c,d,p){this.type=t,this.attrs=e,this.marks=r,this.pendingMarks=o,this.solid=c,this.options=p,this.content=[],this.activeMarks=lt.none,this.stashMarks=[],this.match=d||(p&er?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(Pe.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(t.type))?(this.match=r,o):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Xr)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let c=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=c.withText(c.text.slice(0,c.text.length-o[0].length))}}let e=Pe.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(Pe.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,r=this.pendingMarks;e<r.length;e++){let o=r[e];(this.type?this.type.allowsMarkType(o.type):Ku(o.type,t))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!$l.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class yo{constructor(t,e,r){this.parser=t,this.options=e,this.isOpen=r,this.open=0;let o=e.topNode,c,d=mo(null,e.preserveWhitespace,0)|(r?er:0);o?c=new Ar(o.type,o.attrs,lt.none,lt.none,!0,e.topMatch||o.type.contentMatch,d):r?c=new Ar(null,null,lt.none,lt.none,!0,null,d):c=new Ar(t.schema.topNodeType,null,lt.none,lt.none,!0,null,d),this.nodes=[c],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(t.nodeType==3)this.addTextNode(t);else if(t.nodeType==1){let e=t.getAttribute("style");if(!e)this.addElement(t);else{let r=this.readStyles($u(e));if(!r)return;let[o,c]=r,d=this.top;for(let p=0;p<c.length;p++)this.removePendingMark(c[p],d);for(let p=0;p<o.length;p++)this.addPendingMark(o[p]);this.addElement(t);for(let p=0;p<o.length;p++)this.removePendingMark(o[p],d);for(let p=0;p<c.length;p++)this.addPendingMark(c[p])}}}addTextNode(t){let e=t.nodeValue,r=this.top;if(r.options&Wr||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(r.options&Xr)r.options&Wr?e=e.replace(/\r\n?/g,`
`):e=e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],c=t.previousSibling;(!o||c&&c.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let r=t.nodeName.toLowerCase(),o;Kl.hasOwnProperty(r)&&this.parser.normalizeLists&&Gu(t);let c=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,e));if(c?c.ignore:qu.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(t=c.skip);let d,p=this.top,m=this.needsBlock;if($l.hasOwnProperty(r))p.content.length&&p.content[0].isInline&&this.open&&(this.open--,p=this.top),d=!0,p.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}this.addAll(t),d&&this.sync(p),this.needsBlock=m}else this.addElementByRule(t,c,c.consuming===!1?o:void 0)}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=lt.none,r=lt.none;for(let o=0;o<t.length;o+=2)for(let c=void 0;;){let d=this.parser.matchStyle(t[o],t[o+1],this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(p=>{d.clearMark(p)&&(r=p.addToSet(r))}):e=this.parser.schema.marks[d.mark].create(d.attrs).addToSet(e),d.consuming===!1)c=d;else break}return[e,r]}addElementByRule(t,e,r){let o,c,d;e.node?(c=this.parser.schema.nodes[e.node],c.isLeaf?this.insertNode(c.create(e.attrs))||this.leafFallback(t):o=this.enter(c,e.attrs||null,e.preserveWhitespace)):(d=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(d));let p=this.top;if(c&&c.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(m=>this.insertNode(m));else{let m=t;typeof e.contentElement=="string"?m=t.querySelector(e.contentElement):typeof e.contentElement=="function"?m=e.contentElement(t):e.contentElement&&(m=e.contentElement),this.findAround(t,m,!0),this.addAll(m)}o&&this.sync(p)&&this.open--,d&&this.removePendingMark(d,p)}addAll(t,e,r){let o=e||0;for(let c=e?t.childNodes[e]:t.firstChild,d=r==null?null:t.childNodes[r];c!=d;c=c.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(c);this.findAtPoint(t,o)}findPlace(t){let e,r;for(let o=this.open;o>=0;o--){let c=this.nodes[o],d=c.findWrapping(t);if(d&&(!e||e.length>d.length)&&(e=d,r=c,!d.length)||c.solid)break}if(!e)return!1;this.sync(r);for(let o=0;o<e.length;o++)this.enterInner(e[o],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let r=e.activeMarks;for(let o=0;o<t.marks.length;o++)(!e.type||e.type.allowsMarkType(t.marks[o].type))&&(r=t.marks[o].addToSet(r));return e.content.push(t.mark(r)),!0}return!1}enter(t,e,r){let o=this.findPlace(t.create(e));return o&&this.enterInner(t,e,!0,r),o}enterInner(t,e=null,r=!1,o){this.closeExtra();let c=this.top;c.applyPending(t),c.match=c.match&&c.match.matchType(t);let d=mo(t,o,c.options);c.options&er&&c.content.length==0&&(d|=er),this.nodes.push(new Ar(t,e,c.activeMarks,c.pendingMarks,r,null,d)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let r=this.nodes[e].content;for(let o=r.length-1;o>=0;o--)t+=r[o].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==e&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,r){if(t!=e&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&t.nodeType==1&&t.contains(this.find[o].node)&&e.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),c=-(r?r.depth+1:0)+(o?0:1),d=(p,m)=>{for(;p>=0;p--){let b=e[p];if(b==""){if(p==e.length-1||p==0)continue;for(;m>=c;m--)if(d(p-1,m))return!0;return!1}else{let x=m>0||m==0&&o?this.nodes[m].type:r&&m>=c?r.node(m-c).type:null;if(!x||x.name!=b&&x.groups.indexOf(b)==-1)return!1;m--}}return!0};return d(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let e in this.parser.schema.nodes){let r=this.parser.schema.nodes[e];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(t){let e=Zu(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let r=this.open;r>=0;r--){let o=this.nodes[r];if(o.pendingMarks.lastIndexOf(t)>-1)o.pendingMarks=t.removeFromSet(o.pendingMarks);else{o.activeMarks=t.removeFromSet(o.activeMarks);let d=o.popFromStashMark(t);d&&o.type&&o.type.allowsMarkType(d.type)&&(o.activeMarks=d.addToSet(o.activeMarks))}if(o==e)break}}}function Gu(a){for(let t=a.firstChild,e=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&Kl.hasOwnProperty(r)&&e?(e.appendChild(t),t=e):r=="li"?e=t:r&&(e=null)}}function Uu(a,t){return(a.matches||a.msMatchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector).call(a,t)}function $u(a){let t=/\s*([\w-]+)\s*:\s*([^;]+)/g,e,r=[];for(;e=t.exec(a);)r.push(e[1],e[2].trim());return r}function vo(a){let t={};for(let e in a)t[e]=a[e];return t}function Ku(a,t){let e=t.schema.nodes;for(let r in e){let o=e[r];if(!o.allowsMarkType(a))continue;let c=[],d=p=>{c.push(p);for(let m=0;m<p.edgeCount;m++){let{type:b,next:x}=p.edge(m);if(b==t||c.indexOf(x)<0&&d(x))return!0}};if(d(o.contentMatch))return!0}}function Zu(a,t){for(let e=0;e<t.length;e++)if(a.eq(t[e]))return t[e]}class wn{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},r){r||(r=Ha(e).createDocumentFragment());let o=r,c=[];return t.forEach(d=>{if(c.length||d.marks.length){let p=0,m=0;for(;p<c.length&&m<d.marks.length;){let b=d.marks[m];if(!this.marks[b.type.name]){m++;continue}if(!b.eq(c[p][0])||b.type.spec.spanning===!1)break;p++,m++}for(;p<c.length;)o=c.pop()[1];for(;m<d.marks.length;){let b=d.marks[m++],x=this.serializeMark(b,d.isInline,e);x&&(c.push([b,o]),o.appendChild(x.dom),o=x.contentDOM||x.dom)}}o.appendChild(this.serializeNodeInner(d,e))}),r}serializeNodeInner(t,e){let{dom:r,contentDOM:o}=wn.renderSpec(Ha(e),this.nodes[t.type.name](t));if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,o)}return r}serializeNode(t,e={}){let r=this.serializeNodeInner(t,e);for(let o=t.marks.length-1;o>=0;o--){let c=this.serializeMark(t.marks[o],t.isInline,e);c&&((c.contentDOM||c.dom).appendChild(r),r=c.dom)}return r}serializeMark(t,e,r={}){let o=this.marks[t.type.name];return o&&wn.renderSpec(Ha(r),o(t,e))}static renderSpec(t,e,r=null){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],c=o.indexOf(" ");c>0&&(r=o.slice(0,c),o=o.slice(c+1));let d,p=r?t.createElementNS(r,o):t.createElement(o),m=e[1],b=1;if(m&&typeof m=="object"&&m.nodeType==null&&!Array.isArray(m)){b=2;for(let x in m)if(m[x]!=null){let w=x.indexOf(" ");w>0?p.setAttributeNS(x.slice(0,w),x.slice(w+1),m[x]):p.setAttribute(x,m[x])}}for(let x=b;x<e.length;x++){let w=e[x];if(w===0){if(x<e.length-1||x>b)throw new RangeError("Content hole must be the only child of its parent node");return{dom:p,contentDOM:p}}else{let{dom:k,contentDOM:A}=wn.renderSpec(t,w,r);if(p.appendChild(k),A){if(d)throw new RangeError("Multiple content holes");d=A}}}return{dom:p,contentDOM:d}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new wn(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=xo(t.nodes);return e.text||(e.text=r=>r.text),e}static marksFromSchema(t){return xo(t.marks)}}function xo(a){let t={};for(let e in a){let r=a[e].spec.toDOM;r&&(t[e]=r)}return t}function Ha(a){return a.document||window.document}const Zl=65535,Jl=Math.pow(2,16);function Ju(a,t){return a+t*Jl}function bo(a){return a&Zl}function Qu(a){return(a-(a&Zl))/Jl}const Ql=1,ec=2,Pr=4,tc=8;class ps{constructor(t,e,r){this.pos=t,this.delInfo=e,this.recover=r}get deleted(){return(this.delInfo&tc)>0}get deletedBefore(){return(this.delInfo&(Ql|Pr))>0}get deletedAfter(){return(this.delInfo&(ec|Pr))>0}get deletedAcross(){return(this.delInfo&Pr)>0}}class sn{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&sn.empty)return sn.empty}recover(t){let e=0,r=bo(t);if(!this.inverted)for(let o=0;o<r;o++)e+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+e+Qu(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,r){let o=0,c=this.inverted?2:1,d=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let m=this.ranges[p]-(this.inverted?o:0);if(m>t)break;let b=this.ranges[p+c],x=this.ranges[p+d],w=m+b;if(t<=w){let k=b?t==m?-1:t==w?1:e:e,A=m+o+(k<0?0:x);if(r)return A;let T=t==(e<0?m:w)?null:Ju(p/3,t-m),P=t==m?ec:t==w?Ql:Pr;return(e<0?t!=m:t!=w)&&(P|=tc),new ps(A,P,T)}o+=x-b}return r?t+o:new ps(t+o,0,null)}touches(t,e){let r=0,o=bo(e),c=this.inverted?2:1,d=this.inverted?1:2;for(let p=0;p<this.ranges.length;p+=3){let m=this.ranges[p]-(this.inverted?r:0);if(m>t)break;let b=this.ranges[p+c],x=m+b;if(t<=x&&p==o*3)return!0;r+=this.ranges[p+d]-b}return!1}forEach(t){let e=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,c=0;o<this.ranges.length;o+=3){let d=this.ranges[o],p=d-(this.inverted?c:0),m=d+(this.inverted?0:c),b=this.ranges[o+e],x=this.ranges[o+r];t(p,p+b,m,m+x),c+=x-b}}invert(){return new sn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?sn.empty:new sn(t<0?[0,-t,0]:[0,0,t])}}sn.empty=new sn([]);class Ni{constructor(t=[],e,r=0,o=t.length){this.maps=t,this.mirror=e,this.from=r,this.to=o}slice(t=0,e=this.maps.length){return new Ni(this.maps,this.mirror,t,e)}copy(){return new Ni(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),e!=null&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,r=this.maps.length;e<t.maps.length;e++){let o=t.getMirror(e);this.appendMap(t.maps[e],o!=null&&o<e?r+o:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,r=this.maps.length+t.maps.length;e>=0;e--){let o=t.getMirror(e);this.appendMap(t.maps[e].invert(),o!=null&&o>e?r-o-1:void 0)}}invert(){let t=new Ni;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,r){let o=0;for(let c=this.from;c<this.to;c++){let d=this.maps[c],p=d.mapResult(t,e);if(p.recover!=null){let m=this.getMirror(c);if(m!=null&&m>c&&m<this.to){c=m,t=this.maps[m].recover(p.recover);continue}}o|=p.delInfo,t=p.pos}return r?t:new ps(t,o,null)}}const Ya=Object.create(null);class $t{getMap(){return sn.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Ya[e.stepType];if(!r)throw new RangeError(`No step type ${e.stepType} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in Ya)throw new RangeError("Duplicate use of step JSON ID "+t);return Ya[t]=e,e.prototype.jsonID=t,e}}class wt{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new wt(t,null)}static fail(t){return new wt(null,t)}static fromReplace(t,e,r,o){try{return wt.ok(t.replace(e,r,o))}catch(c){if(c instanceof zr)return wt.fail(c.message);throw c}}}function zs(a,t,e){let r=[];for(let o=0;o<a.childCount;o++){let c=a.child(o);c.content.size&&(c=c.copy(zs(c.content,t,c))),c.isInline&&(c=t(c,e,o)),r.push(c)}return Pe.fromArray(r)}class zn extends $t{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),c=new Fe(zs(e.content,(d,p)=>!d.isAtom||!p.type.allowsMarkType(this.mark.type)?d:d.mark(this.mark.addToSet(d.marks)),o),e.openStart,e.openEnd);return wt.fromReplace(t,this.from,this.to,c)}invert(){return new kn(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new zn(e.pos,r.pos,this.mark)}merge(t){return t instanceof zn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new zn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new zn(e.from,e.to,t.markFromJSON(e.mark))}}$t.jsonID("addMark",zn);class kn extends $t{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=new Fe(zs(e.content,o=>o.mark(this.mark.removeFromSet(o.marks)),t),e.openStart,e.openEnd);return wt.fromReplace(t,this.from,this.to,r)}invert(){return new zn(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new kn(e.pos,r.pos,this.mark)}merge(t){return t instanceof kn&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new kn(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new kn(e.from,e.to,t.markFromJSON(e.mark))}}$t.jsonID("removeMark",kn);class Fn extends $t{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return wt.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return wt.fromReplace(t,this.pos,this.pos+1,new Fe(Pe.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let r=this.mark.addToSet(e.marks);if(r.length==e.marks.length){for(let o=0;o<e.marks.length;o++)if(!e.marks[o].isInSet(r))return new Fn(this.pos,e.marks[o]);return new Fn(this.pos,this.mark)}}return new zi(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Fn(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Fn(e.pos,t.markFromJSON(e.mark))}}$t.jsonID("addNodeMark",Fn);class zi extends $t{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return wt.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return wt.fromReplace(t,this.pos,this.pos+1,new Fe(Pe.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new Fn(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new zi(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new zi(e.pos,t.markFromJSON(e.mark))}}$t.jsonID("removeNodeMark",zi);class Rt extends $t{constructor(t,e,r,o=!1){super(),this.from=t,this.to=e,this.slice=r,this.structure=o}apply(t){return this.structure&&gs(t,this.from,this.to)?wt.fail("Structure replace would overwrite content"):wt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new sn([this.from,this.to-this.from,this.slice.size])}invert(t){return new Rt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deletedAcross&&r.deletedAcross?null:new Rt(e.pos,Math.max(e.pos,r.pos),this.slice)}merge(t){if(!(t instanceof Rt)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?Fe.empty:new Fe(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Rt(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?Fe.empty:new Fe(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Rt(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Rt(e.from,e.to,Fe.fromJSON(t,e.slice),!!e.structure)}}$t.jsonID("replace",Rt);class Ct extends $t{constructor(t,e,r,o,c,d,p=!1){super(),this.from=t,this.to=e,this.gapFrom=r,this.gapTo=o,this.slice=c,this.insert=d,this.structure=p}apply(t){if(this.structure&&(gs(t,this.from,this.gapFrom)||gs(t,this.gapTo,this.to)))return wt.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return wt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,e.content);return r?wt.fromReplace(t,this.from,this.to,r):wt.fail("Content does not fit in gap")}getMap(){return new sn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new Ct(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),c=t.map(this.gapTo,1);return e.deletedAcross&&r.deletedAcross||o<e.pos||c>r.pos?null:new Ct(e.pos,r.pos,o,c,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ct(e.from,e.to,e.gapFrom,e.gapTo,Fe.fromJSON(t,e.slice),e.insert,!!e.structure)}}$t.jsonID("replaceAround",Ct);function gs(a,t,e){let r=a.resolve(t),o=e-t,c=r.depth;for(;o>0&&c>0&&r.indexAfter(c)==r.node(c).childCount;)c--,o--;if(o>0){let d=r.node(c).maybeChild(r.indexAfter(c));for(;o>0;){if(!d||d.isLeaf)return!0;d=d.firstChild,o--}}return!1}function eh(a,t,e,r){let o=[],c=[],d,p;a.doc.nodesBetween(t,e,(m,b,x)=>{if(!m.isInline)return;let w=m.marks;if(!r.isInSet(w)&&x.type.allowsMarkType(r.type)){let k=Math.max(b,t),A=Math.min(b+m.nodeSize,e),T=r.addToSet(w);for(let P=0;P<w.length;P++)w[P].isInSet(T)||(d&&d.to==k&&d.mark.eq(w[P])?d.to=A:o.push(d=new kn(k,A,w[P])));p&&p.to==k?p.to=A:c.push(p=new zn(k,A,r))}}),o.forEach(m=>a.step(m)),c.forEach(m=>a.step(m))}function th(a,t,e,r){let o=[],c=0;a.doc.nodesBetween(t,e,(d,p)=>{if(!d.isInline)return;c++;let m=null;if(r instanceof fa){let b=d.marks,x;for(;x=r.isInSet(b);)(m||(m=[])).push(x),b=x.removeFromSet(b)}else r?r.isInSet(d.marks)&&(m=[r]):m=d.marks;if(m&&m.length){let b=Math.min(p+d.nodeSize,e);for(let x=0;x<m.length;x++){let w=m[x],k;for(let A=0;A<o.length;A++){let T=o[A];T.step==c-1&&w.eq(o[A].style)&&(k=T)}k?(k.to=b,k.step=c):o.push({style:w,from:Math.max(p,t),to:b,step:c})}}}),o.forEach(d=>a.step(new kn(d.from,d.to,d.style)))}function nh(a,t,e,r=e.contentMatch){let o=a.doc.nodeAt(t),c=[],d=t+1;for(let p=0;p<o.childCount;p++){let m=o.child(p),b=d+m.nodeSize,x=r.matchType(m.type);if(!x)c.push(new Rt(d,b,Fe.empty));else{r=x;for(let w=0;w<m.marks.length;w++)e.allowsMarkType(m.marks[w].type)||a.step(new kn(d,b,m.marks[w]))}d=b}if(!r.validEnd){let p=r.fillBefore(Pe.empty,!0);a.replace(d,d,new Fe(p,0,0))}for(let p=c.length-1;p>=0;p--)a.step(c[p])}function ih(a,t,e){return(t==0||a.canReplace(t,a.childCount))&&(e==a.childCount||a.canReplace(0,e))}function ji(a){let e=a.parent.content.cutByIndex(a.startIndex,a.endIndex);for(let r=a.depth;;--r){let o=a.$from.node(r),c=a.$from.index(r),d=a.$to.indexAfter(r);if(r<a.depth&&o.canReplace(c,d,e))return r;if(r==0||o.type.spec.isolating||!ih(o,c,d))break}return null}function rh(a,t,e){let{$from:r,$to:o,depth:c}=t,d=r.before(c+1),p=o.after(c+1),m=d,b=p,x=Pe.empty,w=0;for(let T=c,P=!1;T>e;T--)P||r.index(T)>0?(P=!0,x=Pe.from(r.node(T).copy(x)),w++):m--;let k=Pe.empty,A=0;for(let T=c,P=!1;T>e;T--)P||o.after(T+1)<o.end(T)?(P=!0,k=Pe.from(o.node(T).copy(k)),A++):b++;a.step(new Ct(m,b,d,p,new Fe(x.append(k),w,A),x.size-w,!0))}function Fs(a,t,e=null,r=a){let o=ah(a,t),c=o&&sh(r,t);return c?o.map(wo).concat({type:t,attrs:e}).concat(c.map(wo)):null}function wo(a){return{type:a,attrs:null}}function ah(a,t){let{parent:e,startIndex:r,endIndex:o}=a,c=e.contentMatchAt(r).findWrapping(t);if(!c)return null;let d=c.length?c[0]:t;return e.canReplaceWith(r,o,d)?c:null}function sh(a,t){let{parent:e,startIndex:r,endIndex:o}=a,c=e.child(r),d=t.contentMatch.findWrapping(c.type);if(!d)return null;let m=(d.length?d[d.length-1]:t).contentMatch;for(let b=r;m&&b<o;b++)m=m.matchType(e.child(b).type);return!m||!m.validEnd?null:d}function oh(a,t,e){let r=Pe.empty;for(let d=e.length-1;d>=0;d--){if(r.size){let p=e[d].type.contentMatch.matchFragment(r);if(!p||!p.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Pe.from(e[d].type.create(e[d].attrs,r))}let o=t.start,c=t.end;a.step(new Ct(o,c,o,c,new Fe(r,0,0),e.length,!0))}function lh(a,t,e,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let c=a.steps.length;a.doc.nodesBetween(t,e,(d,p)=>{if(d.isTextblock&&!d.hasMarkup(r,o)&&ch(a.doc,a.mapping.slice(c).map(p),r)){a.clearIncompatible(a.mapping.slice(c).map(p,1),r);let m=a.mapping.slice(c),b=m.map(p,1),x=m.map(p+d.nodeSize,1);return a.step(new Ct(b,x,b+1,x-1,new Fe(Pe.from(r.create(o,null,d.marks)),0,0),1,!0)),!1}})}function ch(a,t,e){let r=a.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,e)}function uh(a,t,e,r,o){let c=a.doc.nodeAt(t);if(!c)throw new RangeError("No node at given position");e||(e=c.type);let d=e.create(r,null,o||c.marks);if(c.isLeaf)return a.replaceWith(t,t+c.nodeSize,d);if(!e.validContent(c.content))throw new RangeError("Invalid content for node type "+e.name);a.step(new Ct(t,t+c.nodeSize,t+1,t+c.nodeSize-1,new Fe(Pe.from(d),0,0),1,!0))}function Di(a,t,e=1,r){let o=a.resolve(t),c=o.depth-e,d=r&&r[r.length-1]||o.parent;if(c<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!d.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let b=o.depth-1,x=e-2;b>c;b--,x--){let w=o.node(b),k=o.index(b);if(w.type.spec.isolating)return!1;let A=w.content.cutByIndex(k,w.childCount),T=r&&r[x]||w;if(T!=w&&(A=A.replaceChild(0,T.type.create(T.attrs))),!w.canReplace(k+1,w.childCount)||!T.type.validContent(A))return!1}let p=o.indexAfter(c),m=r&&r[0];return o.node(c).canReplaceWith(p,p,m?m.type:o.node(c+1).type)}function hh(a,t,e=1,r){let o=a.doc.resolve(t),c=Pe.empty,d=Pe.empty;for(let p=o.depth,m=o.depth-e,b=e-1;p>m;p--,b--){c=Pe.from(o.node(p).copy(c));let x=r&&r[b];d=Pe.from(x?x.type.create(x.attrs,d):o.node(p).copy(d))}a.step(new Rt(t,t,new Fe(c.append(d),e,e),!0))}function Vn(a,t){let e=a.resolve(t),r=e.index();return nc(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(r,r+1)}function nc(a,t){return!!(a&&t&&!a.isLeaf&&a.canAppend(t))}function ic(a,t,e=-1){let r=a.resolve(t);for(let o=r.depth;;o--){let c,d,p=r.index(o);if(o==r.depth?(c=r.nodeBefore,d=r.nodeAfter):e>0?(c=r.node(o+1),p++,d=r.node(o).maybeChild(p)):(c=r.node(o).maybeChild(p-1),d=r.node(o+1)),c&&!c.isTextblock&&nc(c,d)&&r.node(o).canReplace(p,p+1))return t;if(o==0)break;t=e<0?r.before(o):r.after(o)}}function dh(a,t,e){let r=new Rt(t-e,t+e,Fe.empty,!0);a.step(r)}function fh(a,t,e){let r=a.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),e))return t;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let c=r.index(o);if(r.node(o).canReplaceWith(c,c,e))return r.before(o+1);if(c>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let c=r.indexAfter(o);if(r.node(o).canReplaceWith(c,c,e))return r.after(o+1);if(c<r.node(o).childCount)return null}return null}function rc(a,t,e){let r=a.resolve(t);if(!e.content.size)return t;let o=e.content;for(let c=0;c<e.openStart;c++)o=o.firstChild.content;for(let c=1;c<=(e.openStart==0&&e.size?2:1);c++)for(let d=r.depth;d>=0;d--){let p=d==r.depth?0:r.pos<=(r.start(d+1)+r.end(d+1))/2?-1:1,m=r.index(d)+(p>0?1:0),b=r.node(d),x=!1;if(c==1)x=b.canReplace(m,m,o);else{let w=b.contentMatchAt(m).findWrapping(o.firstChild.type);x=w&&b.canReplaceWith(m,m,w[0])}if(x)return p==0?r.pos:p<0?r.before(d+1):r.after(d+1)}return null}function Bs(a,t,e=t,r=Fe.empty){if(t==e&&!r.size)return null;let o=a.resolve(t),c=a.resolve(e);return ac(o,c,r)?new Rt(t,e,r):new ph(o,c,r).fit()}function ac(a,t,e){return!e.openStart&&!e.openEnd&&a.start()==t.start()&&a.parent.canReplace(a.index(),t.index(),e.content)}class ph{constructor(t,e,r){this.$from=t,this.$to=e,this.unplaced=r,this.frontier=[],this.placed=Pe.empty;for(let o=0;o<=t.depth;o++){let c=t.node(o);this.frontier.push({type:c.type,match:c.contentMatchAt(t.indexAfter(o))})}for(let o=t.depth;o>0;o--)this.placed=Pe.from(t.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let b=this.findFittable();b?this.placeNodes(b):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let c=this.placed,d=r.depth,p=o.depth;for(;d&&p&&c.childCount==1;)c=c.firstChild.content,d--,p--;let m=new Fe(c,d,p);return t>-1?new Ct(r.pos,t,this.$to.pos,this.$to.end(),m,e):m.size||r.pos!=this.$to.pos?new Rt(r.pos,o.pos,m):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<t;r++){let c=e.firstChild;if(e.childCount>1&&(o=0),c.type.spec.isolating&&o<=r){t=r;break}e=c.content}for(let e=1;e<=2;e++)for(let r=e==1?t:this.unplaced.openStart;r>=0;r--){let o,c=null;r?(c=Xa(this.unplaced.content,r-1).firstChild,o=c.content):o=this.unplaced.content;let d=o.firstChild;for(let p=this.depth;p>=0;p--){let{type:m,match:b}=this.frontier[p],x,w=null;if(e==1&&(d?b.matchType(d.type)||(w=b.fillBefore(Pe.from(d),!1)):c&&m.compatibleContent(c.type)))return{sliceDepth:r,frontierDepth:p,parent:c,inject:w};if(e==2&&d&&(x=b.findWrapping(d.type)))return{sliceDepth:r,frontierDepth:p,parent:c,wrap:x};if(c&&b.matchType(c.type))break}}}openMore(){let{content:t,openStart:e,openEnd:r}=this.unplaced,o=Xa(t,e);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Fe(t,e+1,Math.max(r,o.size+e>=t.size-r?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:r}=this.unplaced,o=Xa(t,e);if(o.childCount<=1&&e>0){let c=t.size-e<=e+o.size;this.unplaced=new Fe($i(t,e-1,1),e-1,c?e-1:r)}else this.unplaced=new Fe($i(t,e,1),e,r)}placeNodes({sliceDepth:t,frontierDepth:e,parent:r,inject:o,wrap:c}){for(;this.depth>e;)this.closeFrontierNode();if(c)for(let P=0;P<c.length;P++)this.openFrontierNode(c[P]);let d=this.unplaced,p=r?r.content:d.content,m=d.openStart-t,b=0,x=[],{match:w,type:k}=this.frontier[e];if(o){for(let P=0;P<o.childCount;P++)x.push(o.child(P));w=w.matchFragment(o)}let A=p.size+t-(d.content.size-d.openEnd);for(;b<p.childCount;){let P=p.child(b),I=w.matchType(P.type);if(!I)break;b++,(b>1||m==0||P.content.size)&&(w=I,x.push(sc(P.mark(k.allowedMarks(P.marks)),b==1?m:0,b==p.childCount?A:-1)))}let T=b==p.childCount;T||(A=-1),this.placed=Ki(this.placed,e,Pe.from(x)),this.frontier[e].match=w,T&&A<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let P=0,I=p;P<A;P++){let N=I.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),I=N.content}this.unplaced=T?t==0?Fe.empty:new Fe($i(d.content,t-1,1),t-1,A<0?d.openEnd:t-1):new Fe($i(d.content,t,b),d.openStart,d.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!Wa(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:r,type:o}=this.frontier[e],c=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),d=Wa(t,e,o,r,c);if(!!d){for(let p=e-1;p>=0;p--){let{match:m,type:b}=this.frontier[p],x=Wa(t,p,b,m,!0);if(!x||x.childCount)continue e}return{depth:e,fit:d,move:c?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Ki(this.placed,e.depth,e.fit)),t=e.move;for(let r=e.depth+1;r<=t.depth;r++){let o=t.node(r),c=o.type.contentMatch.fillBefore(o.content,!0,t.index(r));this.openFrontierNode(o.type,o.attrs,c)}return t}openFrontierNode(t,e=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=Ki(this.placed,this.depth,Pe.from(t.create(e,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(Pe.empty,!0);e.childCount&&(this.placed=Ki(this.placed,this.frontier.length,e))}}function $i(a,t,e){return t==0?a.cutByIndex(e,a.childCount):a.replaceChild(0,a.firstChild.copy($i(a.firstChild.content,t-1,e)))}function Ki(a,t,e){return t==0?a.append(e):a.replaceChild(a.childCount-1,a.lastChild.copy(Ki(a.lastChild.content,t-1,e)))}function Xa(a,t){for(let e=0;e<t;e++)a=a.firstChild.content;return a}function sc(a,t,e){if(t<=0)return a;let r=a.content;return t>1&&(r=r.replaceChild(0,sc(r.firstChild,t-1,r.childCount==1?e-1:0))),t>0&&(r=a.type.contentMatch.fillBefore(r).append(r),e<=0&&(r=r.append(a.type.contentMatch.matchFragment(r).fillBefore(Pe.empty,!0)))),a.copy(r)}function Wa(a,t,e,r,o){let c=a.node(t),d=o?a.indexAfter(t):a.index(t);if(d==c.childCount&&!e.compatibleContent(c.type))return null;let p=r.fillBefore(c.content,!0,d);return p&&!gh(e,c.content,d)?p:null}function gh(a,t,e){for(let r=e;r<t.childCount;r++)if(!a.allowsMarks(t.child(r).marks))return!0;return!1}function mh(a){return a.spec.defining||a.spec.definingForContent}function yh(a,t,e,r){if(!r.size)return a.deleteRange(t,e);let o=a.doc.resolve(t),c=a.doc.resolve(e);if(ac(o,c,r))return a.step(new Rt(t,e,r));let d=lc(o,a.doc.resolve(e));d[d.length-1]==0&&d.pop();let p=-(o.depth+1);d.unshift(p);for(let k=o.depth,A=o.pos-1;k>0;k--,A--){let T=o.node(k).type.spec;if(T.defining||T.definingAsContext||T.isolating)break;d.indexOf(k)>-1?p=k:o.before(k)==A&&d.splice(1,0,-k)}let m=d.indexOf(p),b=[],x=r.openStart;for(let k=r.content,A=0;;A++){let T=k.firstChild;if(b.push(T),A==r.openStart)break;k=T.content}for(let k=x-1;k>=0;k--){let A=b[k].type,T=mh(A);if(T&&o.node(m).type!=A)x=k;else if(T||!A.isTextblock)break}for(let k=r.openStart;k>=0;k--){let A=(k+x+1)%(r.openStart+1),T=b[A];if(!!T)for(let P=0;P<d.length;P++){let I=d[(P+m)%d.length],N=!0;I<0&&(N=!1,I=-I);let E=o.node(I-1),F=o.index(I-1);if(E.canReplaceWith(F,F,T.type,T.marks))return a.replace(o.before(I),N?c.after(I):e,new Fe(oc(r.content,0,r.openStart,A),A,r.openEnd))}}let w=a.steps.length;for(let k=d.length-1;k>=0&&(a.replace(t,e,r),!(a.steps.length>w));k--){let A=d[k];A<0||(t=o.before(A),e=c.after(A))}}function oc(a,t,e,r,o){if(t<e){let c=a.firstChild;a=a.replaceChild(0,c.copy(oc(c.content,t+1,e,r,c)))}if(t>r){let c=o.contentMatchAt(0),d=c.fillBefore(a).append(a);a=d.append(c.matchFragment(d).fillBefore(Pe.empty,!0))}return a}function vh(a,t,e,r){if(!r.isInline&&t==e&&a.doc.resolve(t).parent.content.size){let o=fh(a.doc,t,r.type);o!=null&&(t=e=o)}a.replaceRange(t,e,new Fe(Pe.from(r),0,0))}function xh(a,t,e){let r=a.doc.resolve(t),o=a.doc.resolve(e),c=lc(r,o);for(let d=0;d<c.length;d++){let p=c[d],m=d==c.length-1;if(m&&p==0||r.node(p).type.contentMatch.validEnd)return a.delete(r.start(p),o.end(p));if(p>0&&(m||r.node(p-1).canReplace(r.index(p-1),o.indexAfter(p-1))))return a.delete(r.before(p),o.after(p))}for(let d=1;d<=r.depth&&d<=o.depth;d++)if(t-r.start(d)==r.depth-d&&e>r.end(d)&&o.end(d)-e!=o.depth-d)return a.delete(r.before(d),e);a.delete(t,e)}function lc(a,t){let e=[],r=Math.min(a.depth,t.depth);for(let o=r;o>=0;o--){let c=a.start(o);if(c<a.pos-(a.depth-o)||t.end(o)>t.pos+(t.depth-o)||a.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(c==t.start(o)||o==a.depth&&o==t.depth&&a.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==c-1)&&e.push(o)}return e}class Ii extends $t{constructor(t,e,r){super(),this.pos=t,this.attr=e,this.value=r}apply(t){let e=t.nodeAt(this.pos);if(!e)return wt.fail("No node at attribute step's position");let r=Object.create(null);for(let c in e.attrs)r[c]=e.attrs[c];r[this.attr]=this.value;let o=e.type.create(r,null,e.marks);return wt.fromReplace(t,this.pos,this.pos+1,new Fe(Pe.from(o),0,e.isLeaf?0:1))}getMap(){return sn.empty}invert(t){return new Ii(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Ii(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ii(e.pos,e.attr,e.value)}}$t.jsonID("attr",Ii);let Fi=class extends Error{};Fi=function a(t){let e=Error.call(this,t);return e.__proto__=a.prototype,e};Fi.prototype=Object.create(Error.prototype);Fi.prototype.constructor=Fi;Fi.prototype.name="TransformError";class cc{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Ni}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new Fi(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,r=Fe.empty){let o=Bs(this.doc,t,e,r);return o&&this.step(o),this}replaceWith(t,e,r){return this.replace(t,e,new Fe(Pe.from(r),0,0))}delete(t,e){return this.replace(t,e,Fe.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,r){return yh(this,t,e,r),this}replaceRangeWith(t,e,r){return vh(this,t,e,r),this}deleteRange(t,e){return xh(this,t,e),this}lift(t,e){return rh(this,t,e),this}join(t,e=1){return dh(this,t,e),this}wrap(t,e){return oh(this,t,e),this}setBlockType(t,e=t,r,o=null){return lh(this,t,e,r,o),this}setNodeMarkup(t,e,r=null,o){return uh(this,t,e,r,o),this}setNodeAttribute(t,e,r){return this.step(new Ii(t,e,r)),this}addNodeMark(t,e){return this.step(new Fn(t,e)),this}removeNodeMark(t,e){if(!(e instanceof lt)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(e=e.isInSet(r.marks),!e)return this}return this.step(new zi(t,e)),this}split(t,e=1,r){return hh(this,t,e,r),this}addMark(t,e,r){return eh(this,t,e,r),this}removeMark(t,e,r){return th(this,t,e,r),this}clearIncompatible(t,e,r){return nh(this,t,e,r),this}}const ja=Object.create(null);class tt{constructor(t,e,r){this.$anchor=t,this.$head=e,this.ranges=r||[new bh(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=Fe.empty){let r=e.content.lastChild,o=null;for(let p=0;p<e.openEnd;p++)o=r,r=r.lastChild;let c=t.steps.length,d=this.ranges;for(let p=0;p<d.length;p++){let{$from:m,$to:b}=d[p],x=t.mapping.slice(c);t.replaceRange(x.map(m.pos),x.map(b.pos),p?Fe.empty:e),p==0&&Ao(t,c,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,e){let r=t.steps.length,o=this.ranges;for(let c=0;c<o.length;c++){let{$from:d,$to:p}=o[c],m=t.mapping.slice(r),b=m.map(d.pos),x=m.map(p.pos);c?t.deleteRange(b,x):(t.replaceRangeWith(b,x,e),Ao(t,r,e.isInline?-1:1))}}static findFrom(t,e,r=!1){let o=t.parent.inlineContent?new it(t):ki(t.node(0),t.parent,t.pos,t.index(),e,r);if(o)return o;for(let c=t.depth-1;c>=0;c--){let d=e<0?ki(t.node(0),t.node(c),t.before(c+1),t.index(c),e,r):ki(t.node(0),t.node(c),t.after(c+1),t.index(c)+1,e,r);if(d)return d}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new fn(t.node(0))}static atStart(t){return ki(t,t,0,0,1)||new fn(t)}static atEnd(t){return ki(t,t,t.content.size,t.childCount,-1)||new fn(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ja[e.type];if(!r)throw new RangeError(`No selection type ${e.type} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in ja)throw new RangeError("Duplicate use of selection JSON ID "+t);return ja[t]=e,e.prototype.jsonID=t,e}getBookmark(){return it.between(this.$anchor,this.$head).getBookmark()}}tt.prototype.visible=!0;class bh{constructor(t,e){this.$from=t,this.$to=e}}let ko=!1;function So(a){!ko&&!a.parent.inlineContent&&(ko=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+a.parent.type.name+")"))}class it extends tt{constructor(t,e=t){So(t),So(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let r=t.resolve(e.map(this.head));if(!r.parent.inlineContent)return tt.near(r);let o=t.resolve(e.map(this.anchor));return new it(o.parent.inlineContent?o:r,r)}replace(t,e=Fe.empty){if(super.replace(t,e),e==Fe.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof it&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new pa(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new it(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,r=e){let o=t.resolve(e);return new this(o,r==e?o:t.resolve(r))}static between(t,e,r){let o=t.pos-e.pos;if((!r||o)&&(r=o>=0?1:-1),!e.parent.inlineContent){let c=tt.findFrom(e,r,!0)||tt.findFrom(e,-r,!0);if(c)e=c.$head;else return tt.near(e,r)}return t.parent.inlineContent||(o==0?t=e:(t=(tt.findFrom(t,-r,!0)||tt.findFrom(t,r,!0)).$anchor,t.pos<e.pos!=o<0&&(t=e))),new it(t,e)}}tt.jsonID("text",it);class pa{constructor(t,e){this.anchor=t,this.head=e}map(t){return new pa(t.map(this.anchor),t.map(this.head))}resolve(t){return it.between(t.resolve(this.anchor),t.resolve(this.head))}}class Ve extends tt{constructor(t){let e=t.nodeAfter,r=t.node(0).resolve(t.pos+e.nodeSize);super(t,r),this.node=e}map(t,e){let{deleted:r,pos:o}=e.mapResult(this.anchor),c=t.resolve(o);return r?tt.near(c):new Ve(c)}content(){return new Fe(Pe.from(this.node),0,0)}eq(t){return t instanceof Ve&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Hs(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ve(t.resolve(e.anchor))}static create(t,e){return new Ve(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Ve.prototype.visible=!1;tt.jsonID("node",Ve);class Hs{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:r}=t.mapResult(this.anchor);return e?new pa(r,r):new Hs(r)}resolve(t){let e=t.resolve(this.anchor),r=e.nodeAfter;return r&&Ve.isSelectable(r)?new Ve(e):tt.near(e)}}class fn extends tt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=Fe.empty){if(e==Fe.empty){t.delete(0,t.doc.content.size);let r=tt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new fn(t)}map(t){return new fn(t)}eq(t){return t instanceof fn}getBookmark(){return wh}}tt.jsonID("all",fn);const wh={map(){return this},resolve(a){return new fn(a)}};function ki(a,t,e,r,o,c=!1){if(t.inlineContent)return it.create(a,e);for(let d=r-(o>0?0:1);o>0?d<t.childCount:d>=0;d+=o){let p=t.child(d);if(p.isAtom){if(!c&&Ve.isSelectable(p))return Ve.create(a,e-(o<0?p.nodeSize:0))}else{let m=ki(a,p,e+o,o<0?p.childCount:0,o,c);if(m)return m}e+=p.nodeSize*o}return null}function Ao(a,t,e){let r=a.steps.length-1;if(r<t)return;let o=a.steps[r];if(!(o instanceof Rt||o instanceof Ct))return;let c=a.mapping.maps[r],d;c.forEach((p,m,b,x)=>{d==null&&(d=x)}),a.setSelection(tt.near(a.doc.resolve(d),e))}const Co=1,Cr=2,Eo=4;class kh extends cc{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Co)&~Cr,this.storedMarks=null,this}get selectionSet(){return(this.updated&Co)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Cr,this}ensureMarks(t){return lt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Cr)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~Cr,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let r=this.selection;return e&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||lt.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,r){let o=this.doc.type.schema;if(e==null)return t?this.replaceSelectionWith(o.text(t),!0):this.deleteSelection();{if(r==null&&(r=e),r=r==null?e:r,!t)return this.deleteRange(e,r);let c=this.storedMarks;if(!c){let d=this.doc.resolve(e);c=r==e?d.marks():d.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(e,r,o.text(t,c)),this.selection.empty||this.setSelection(tt.near(this.selection.$to)),this}}setMeta(t,e){return this.meta[typeof t=="string"?t:t.key]=e,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Eo,this}get scrolledIntoView(){return(this.updated&Eo)>0}}function Oo(a,t){return!t||!a?a:a.bind(t)}class Zi{constructor(t,e,r){this.name=t,this.init=Oo(e.init,r),this.apply=Oo(e.apply,r)}}const Sh=[new Zi("doc",{init(a){return a.doc||a.schema.topNodeType.createAndFill()},apply(a){return a.doc}}),new Zi("selection",{init(a,t){return a.selection||tt.atStart(t.doc)},apply(a){return a.selection}}),new Zi("storedMarks",{init(a){return a.storedMarks||null},apply(a,t,e,r){return r.selection.$cursor?a.storedMarks:null}}),new Zi("scrollToSelection",{init(){return 0},apply(a,t){return a.scrolledIntoView?t+1:t}})];class Va{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Sh.slice(),e&&e.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Zi(r.key,r.spec.state,r))})}}class Ci{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=e){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],r=this.applyInner(t),o=null;for(;;){let c=!1;for(let d=0;d<this.config.plugins.length;d++){let p=this.config.plugins[d];if(p.spec.appendTransaction){let m=o?o[d].n:0,b=o?o[d].state:this,x=m<e.length&&p.spec.appendTransaction.call(p,m?e.slice(m):e,b,r);if(x&&r.filterTransaction(x,d)){if(x.setMeta("appendedTransaction",t),!o){o=[];for(let w=0;w<this.config.plugins.length;w++)o.push(w<d?{state:r,n:e.length}:{state:this,n:0})}e.push(x),r=r.applyInner(x),c=!0}o&&(o[d]={state:r,n:e.length})}}if(!c)return{state:r,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new Ci(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let c=r[o];e[c.name]=c.apply(t,this[c.name],this,e)}return e}get tr(){return new kh(this)}static create(t){let e=new Va(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Ci(e);for(let o=0;o<e.fields.length;o++)r[e.fields[o].name]=e.fields[o].init(t,r);return r}reconfigure(t){let e=new Va(this.schema,t.plugins),r=e.fields,o=new Ci(e);for(let c=0;c<r.length;c++){let d=r[c].name;o[d]=this.hasOwnProperty(d)?this[d]:r[c].init(t,o)}return o}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=t[r],c=o.spec.state;c&&c.toJSON&&(e[r]=c.toJSON.call(o,this[o.key]))}return e}static fromJSON(t,e,r){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new Va(t.schema,t.plugins),c=new Ci(o);return o.fields.forEach(d=>{if(d.name=="doc")c.doc=Sn.fromJSON(t.schema,e.doc);else if(d.name=="selection")c.selection=tt.fromJSON(c.doc,e.selection);else if(d.name=="storedMarks")e.storedMarks&&(c.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let p in r){let m=r[p],b=m.spec.state;if(m.key==d.name&&b&&b.fromJSON&&Object.prototype.hasOwnProperty.call(e,p)){c[d.name]=b.fromJSON.call(m,t,e[p],c);return}}c[d.name]=d.init(t,c)}}),c}}function uc(a,t,e){for(let r in a){let o=a[r];o instanceof Function?o=o.bind(t):r=="handleDOMEvents"&&(o=uc(o,t,{})),e[r]=o}return e}class zt{constructor(t){this.spec=t,this.props={},t.props&&uc(t.props,this,this.props),this.key=t.key?t.key.key:hc("plugin")}getState(t){return t[this.key]}}const qa=Object.create(null);function hc(a){return a in qa?a+"$"+ ++qa[a]:(qa[a]=0,a+"$")}class un{constructor(t="key"){this.key=hc(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const on=function(a){for(var t=0;;t++)if(a=a.previousSibling,!a)return t},cr=function(a){let t=a.assignedSlot||a.parentNode;return t&&t.nodeType==11?t.host:t};let Mo=null;const Mn=function(a,t,e){let r=Mo||(Mo=document.createRange());return r.setEnd(a,e==null?a.nodeValue.length:e),r.setStart(a,t||0),r},fi=function(a,t,e,r){return e&&(To(a,t,e,r,-1)||To(a,t,e,r,1))},Ah=/^(img|br|input|textarea|hr)$/i;function To(a,t,e,r,o){for(;;){if(a==e&&t==r)return!0;if(t==(o<0?0:bn(a))){let c=a.parentNode;if(!c||c.nodeType!=1||Eh(a)||Ah.test(a.nodeName)||a.contentEditable=="false")return!1;t=on(a)+(o<0?0:1),a=c}else if(a.nodeType==1){if(a=a.childNodes[t+(o<0?-1:0)],a.contentEditable=="false")return!1;t=o<0?bn(a):0}else return!1}}function bn(a){return a.nodeType==3?a.nodeValue.length:a.childNodes.length}function Ch(a,t,e){for(let r=t==0,o=t==bn(a);r||o;){if(a==e)return!0;let c=on(a);if(a=a.parentNode,!a)return!1;r=r&&c==0,o=o&&c==bn(a)}}function Eh(a){let t;for(let e=a;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==a||t.contentDOM==a)}const ga=function(a){return a.focusNode&&fi(a.focusNode,a.focusOffset,a.anchorNode,a.anchorOffset)};function ei(a,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=a,e.key=e.code=t,e}function Oh(a){let t=a.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Mh(a,t,e){if(a.caretPositionFromPoint)try{let r=a.caretPositionFromPoint(t,e);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(a.caretRangeFromPoint){let r=a.caretRangeFromPoint(t,e);if(r)return{node:r.startContainer,offset:r.startOffset}}}const An=typeof navigator<"u"?navigator:null,Po=typeof document<"u"?document:null,qn=An&&An.userAgent||"",ms=/Edge\/(\d+)/.exec(qn),dc=/MSIE \d/.exec(qn),ys=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(qn),Ut=!!(dc||ys||ms),Hn=dc?document.documentMode:ys?+ys[1]:ms?+ms[1]:0,pn=!Ut&&/gecko\/(\d+)/i.test(qn);pn&&+(/Firefox\/(\d+)/.exec(qn)||[0,0])[1];const vs=!Ut&&/Chrome\/(\d+)/.exec(qn),_t=!!vs,Th=vs?+vs[1]:0,Ht=!Ut&&!!An&&/Apple Computer/.test(An.vendor),Bi=Ht&&(/Mobile\/\w+/.test(qn)||!!An&&An.maxTouchPoints>2),an=Bi||(An?/Mac/.test(An.platform):!1),Ph=An?/Win/.test(An.platform):!1,hn=/Android \d/.test(qn),ma=!!Po&&"webkitFontSmoothing"in Po.documentElement.style,Lh=ma?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Nh(a){return{left:0,right:a.documentElement.clientWidth,top:0,bottom:a.documentElement.clientHeight}}function Pn(a,t){return typeof a=="number"?a:a[t]}function Dh(a){let t=a.getBoundingClientRect(),e=t.width/a.offsetWidth||1,r=t.height/a.offsetHeight||1;return{left:t.left,right:t.left+a.clientWidth*e,top:t.top,bottom:t.top+a.clientHeight*r}}function Lo(a,t,e){let r=a.someProp("scrollThreshold")||0,o=a.someProp("scrollMargin")||5,c=a.dom.ownerDocument;for(let d=e||a.dom;d;d=cr(d)){if(d.nodeType!=1)continue;let p=d,m=p==c.body,b=m?Nh(c):Dh(p),x=0,w=0;if(t.top<b.top+Pn(r,"top")?w=-(b.top-t.top+Pn(o,"top")):t.bottom>b.bottom-Pn(r,"bottom")&&(w=t.bottom-b.bottom+Pn(o,"bottom")),t.left<b.left+Pn(r,"left")?x=-(b.left-t.left+Pn(o,"left")):t.right>b.right-Pn(r,"right")&&(x=t.right-b.right+Pn(o,"right")),x||w)if(m)c.defaultView.scrollBy(x,w);else{let k=p.scrollLeft,A=p.scrollTop;w&&(p.scrollTop+=w),x&&(p.scrollLeft+=x);let T=p.scrollLeft-k,P=p.scrollTop-A;t={left:t.left-T,top:t.top-P,right:t.right-T,bottom:t.bottom-P}}if(m)break}}function Ih(a){let t=a.dom.getBoundingClientRect(),e=Math.max(0,t.top),r,o;for(let c=(t.left+t.right)/2,d=e+1;d<Math.min(innerHeight,t.bottom);d+=5){let p=a.root.elementFromPoint(c,d);if(!p||p==a.dom||!a.dom.contains(p))continue;let m=p.getBoundingClientRect();if(m.top>=e-20){r=p,o=m.top;break}}return{refDOM:r,refTop:o,stack:fc(a.dom)}}function fc(a){let t=[],e=a.ownerDocument;for(let r=a;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),a!=e);r=cr(r));return t}function Rh({refDOM:a,refTop:t,stack:e}){let r=a?a.getBoundingClientRect().top:0;pc(e,r==0?0:r-t)}function pc(a,t){for(let e=0;e<a.length;e++){let{dom:r,top:o,left:c}=a[e];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=c&&(r.scrollLeft=c)}}let bi=null;function _h(a){if(a.setActive)return a.setActive();if(bi)return a.focus(bi);let t=fc(a);a.focus(bi==null?{get preventScroll(){return bi={preventScroll:!0},!0}}:void 0),bi||(bi=!1,pc(t,0))}function gc(a,t){let e,r=2e8,o,c=0,d=t.top,p=t.top,m,b;for(let x=a.firstChild,w=0;x;x=x.nextSibling,w++){let k;if(x.nodeType==1)k=x.getClientRects();else if(x.nodeType==3)k=Mn(x).getClientRects();else continue;for(let A=0;A<k.length;A++){let T=k[A];if(T.top<=d&&T.bottom>=p){d=Math.max(T.bottom,d),p=Math.min(T.top,p);let P=T.left>t.left?T.left-t.left:T.right<t.left?t.left-T.right:0;if(P<r){e=x,r=P,o=P&&e.nodeType==3?{left:T.right<t.left?T.right:T.left,top:t.top}:t,x.nodeType==1&&P&&(c=w+(t.left>=(T.left+T.right)/2?1:0));continue}}else T.top>t.top&&!m&&T.left<=t.left&&T.right>=t.left&&(m=x,b={left:Math.max(T.left,Math.min(T.right,t.left)),top:T.top});!e&&(t.left>=T.right&&t.top>=T.top||t.left>=T.left&&t.top>=T.bottom)&&(c=w+1)}}return!e&&m&&(e=m,o=b,r=0),e&&e.nodeType==3?zh(e,o):!e||r&&e.nodeType==1?{node:a,offset:c}:gc(e,o)}function zh(a,t){let e=a.nodeValue.length,r=document.createRange();for(let o=0;o<e;o++){r.setEnd(a,o+1),r.setStart(a,o);let c=Nn(r,1);if(c.top!=c.bottom&&Ys(t,c))return{node:a,offset:o+(t.left>=(c.left+c.right)/2?1:0)}}return{node:a,offset:0}}function Ys(a,t){return a.left>=t.left-1&&a.left<=t.right+1&&a.top>=t.top-1&&a.top<=t.bottom+1}function Fh(a,t){let e=a.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<a.getBoundingClientRect().left?e:a}function Bh(a,t,e){let{node:r,offset:o}=gc(t,e),c=-1;if(r.nodeType==1&&!r.firstChild){let d=r.getBoundingClientRect();c=d.left!=d.right&&e.left>(d.left+d.right)/2?1:-1}return a.docView.posFromDOM(r,o,c)}function Hh(a,t,e,r){let o=-1;for(let c=t,d=!1;c!=a.dom;){let p=a.docView.nearestDesc(c,!0);if(!p)return null;if(p.dom.nodeType==1&&(p.node.isBlock&&p.parent&&!d||!p.contentDOM)){let m=p.dom.getBoundingClientRect();if(p.node.isBlock&&p.parent&&!d&&(d=!0,m.left>r.left||m.top>r.top?o=p.posBefore:(m.right<r.left||m.bottom<r.top)&&(o=p.posAfter)),!p.contentDOM&&o<0)return(p.node.isBlock?r.top<(m.top+m.bottom)/2:r.left<(m.left+m.right)/2)?p.posBefore:p.posAfter}c=p.dom.parentNode}return o>-1?o:a.docView.posFromDOM(t,e,-1)}function mc(a,t,e){let r=a.childNodes.length;if(r&&e.top<e.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-e.top)/(e.bottom-e.top))-2)),c=o;;){let d=a.childNodes[c];if(d.nodeType==1){let p=d.getClientRects();for(let m=0;m<p.length;m++){let b=p[m];if(Ys(t,b))return mc(d,t,b)}}if((c=(c+1)%r)==o)break}return a}function Yh(a,t){let e=a.dom.ownerDocument,r,o=0,c=Mh(e,t.left,t.top);c&&({node:r,offset:o}=c);let d=(a.root.elementFromPoint?a.root:e).elementFromPoint(t.left,t.top),p;if(!d||!a.dom.contains(d.nodeType!=1?d.parentNode:d)){let b=a.dom.getBoundingClientRect();if(!Ys(t,b)||(d=mc(a.dom,t,b),!d))return null}if(Ht)for(let b=d;r&&b;b=cr(b))b.draggable&&(r=void 0);if(d=Fh(d,t),r){if(pn&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let b=r.childNodes[o],x;b.nodeName=="IMG"&&(x=b.getBoundingClientRect()).right<=t.left&&x.bottom>t.top&&o++}r==a.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?p=a.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(p=Hh(a,r,o,t))}p==null&&(p=Bh(a,d,t));let m=a.docView.nearestDesc(d,!0);return{pos:p,inside:m?m.posAtStart-m.border:-1}}function No(a){return a.top<a.bottom||a.left<a.right}function Nn(a,t){let e=a.getClientRects();if(e.length){let r=e[t<0?0:e.length-1];if(No(r))return r}return Array.prototype.find.call(e,No)||a.getBoundingClientRect()}const Xh=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function yc(a,t,e){let{node:r,offset:o,atom:c}=a.docView.domFromPos(t,e<0?-1:1),d=ma||pn;if(r.nodeType==3)if(d&&(Xh.test(r.nodeValue)||(e<0?!o:o==r.nodeValue.length))){let m=Nn(Mn(r,o,o),e);if(pn&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let b=Nn(Mn(r,o-1,o-1),-1);if(b.top==m.top){let x=Nn(Mn(r,o,o+1),-1);if(x.top!=m.top)return Gi(x,x.left<b.left)}}return m}else{let m=o,b=o,x=e<0?1:-1;return e<0&&!o?(b++,x=-1):e>=0&&o==r.nodeValue.length?(m--,x=1):e<0?m--:b++,Gi(Nn(Mn(r,m,b),x),x<0)}if(!a.state.doc.resolve(t-(c||0)).parent.inlineContent){if(c==null&&o&&(e<0||o==bn(r))){let m=r.childNodes[o-1];if(m.nodeType==1)return Ga(m.getBoundingClientRect(),!1)}if(c==null&&o<bn(r)){let m=r.childNodes[o];if(m.nodeType==1)return Ga(m.getBoundingClientRect(),!0)}return Ga(r.getBoundingClientRect(),e>=0)}if(c==null&&o&&(e<0||o==bn(r))){let m=r.childNodes[o-1],b=m.nodeType==3?Mn(m,bn(m)-(d?0:1)):m.nodeType==1&&(m.nodeName!="BR"||!m.nextSibling)?m:null;if(b)return Gi(Nn(b,1),!1)}if(c==null&&o<bn(r)){let m=r.childNodes[o];for(;m.pmViewDesc&&m.pmViewDesc.ignoreForCoords;)m=m.nextSibling;let b=m?m.nodeType==3?Mn(m,0,d?0:1):m.nodeType==1?m:null:null;if(b)return Gi(Nn(b,-1),!0)}return Gi(Nn(r.nodeType==3?Mn(r):r,-e),e>=0)}function Gi(a,t){if(a.width==0)return a;let e=t?a.left:a.right;return{top:a.top,bottom:a.bottom,left:e,right:e}}function Ga(a,t){if(a.height==0)return a;let e=t?a.top:a.bottom;return{top:e,bottom:e,left:a.left,right:a.right}}function vc(a,t,e){let r=a.state,o=a.root.activeElement;r!=t&&a.updateState(t),o!=a.dom&&a.focus();try{return e()}finally{r!=t&&a.updateState(r),o!=a.dom&&o&&o.focus()}}function Wh(a,t,e){let r=t.selection,o=e=="up"?r.$from:r.$to;return vc(a,t,()=>{let{node:c}=a.docView.domFromPos(o.pos,e=="up"?-1:1);for(;;){let p=a.docView.nearestDesc(c,!0);if(!p)break;if(p.node.isBlock){c=p.contentDOM||p.dom;break}c=p.dom.parentNode}let d=yc(a,o.pos,1);for(let p=c.firstChild;p;p=p.nextSibling){let m;if(p.nodeType==1)m=p.getClientRects();else if(p.nodeType==3)m=Mn(p,0,p.nodeValue.length).getClientRects();else continue;for(let b=0;b<m.length;b++){let x=m[b];if(x.bottom>x.top+1&&(e=="up"?d.top-x.top>(x.bottom-d.top)*2:x.bottom-d.bottom>(d.bottom-x.top)*2))return!1}}return!0})}const jh=/[\u0590-\u08ac]/;function Vh(a,t,e){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,c=!o,d=o==r.parent.content.size,p=a.domSelection();return!jh.test(r.parent.textContent)||!p.modify?e=="left"||e=="backward"?c:d:vc(a,t,()=>{let{focusNode:m,focusOffset:b,anchorNode:x,anchorOffset:w}=a.domSelectionRange(),k=p.caretBidiLevel;p.modify("move",e,"character");let A=r.depth?a.docView.domAfterPos(r.before()):a.dom,{focusNode:T,focusOffset:P}=a.domSelectionRange(),I=T&&!A.contains(T.nodeType==1?T:T.parentNode)||m==T&&b==P;try{p.collapse(x,w),m&&(m!=x||b!=w)&&p.extend&&p.extend(m,b)}catch{}return k!=null&&(p.caretBidiLevel=k),I})}let Do=null,Io=null,Ro=!1;function qh(a,t,e){return Do==t&&Io==e?Ro:(Do=t,Io=e,Ro=e=="up"||e=="down"?Wh(a,t,e):Vh(a,t,e))}const ln=0,_o=1,ri=2,Cn=3;class mr{constructor(t,e,r,o){this.parent=t,this.children=e,this.dom=r,this.contentDOM=o,this.dirty=ln,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,r=this.posAtStart;;e++){let o=this.children[e];if(o==t)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let c,d;if(t==this.contentDOM)c=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;c=t.previousSibling}for(;c&&!((d=c.pmViewDesc)&&d.parent==this);)c=c.previousSibling;return c?this.posBeforeChild(d)+d.size:this.posAtStart}else{let c,d;if(t==this.contentDOM)c=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;c=t.nextSibling}for(;c&&!((d=c.pmViewDesc)&&d.parent==this);)c=c.nextSibling;return c?this.posBeforeChild(d):this.posAtEnd}let o;if(t==this.dom&&this.contentDOM)o=e>on(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(let c=t;;c=c.parentNode){if(c==this.dom){o=!1;break}if(c.previousSibling)break}if(o==null&&e==t.childNodes.length)for(let c=t;;c=c.parentNode){if(c==this.dom){o=!0;break}if(c.nextSibling)break}}return(o==null?r>0:o)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let r=!0,o=t;o;o=o.parentNode){let c=this.getDesc(o),d;if(c&&(!e||c.node))if(r&&(d=c.nodeDOM)&&!(d.nodeType==1?d.contains(t.nodeType==1?t:t.parentNode):d==t))r=!1;else return c}}getDesc(t){let e=t.pmViewDesc;for(let r=e;r;r=r.parent)if(r==this)return e}posFromDOM(t,e,r){for(let o=t;o;o=o.parentNode){let c=this.getDesc(o);if(c)return c.localPosFromDOM(t,e,r)}return-1}descAt(t){for(let e=0,r=0;e<this.children.length;e++){let o=this.children[e],c=r+o.size;if(r==t&&c!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(t<c)return o.descAt(t-r-o.border);r=c}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,o=0;for(let c=0;r<this.children.length;r++){let d=this.children[r],p=c+d.size;if(p>t||d instanceof bc){o=t-c;break}c=p}if(o)return this.children[r].domFromPos(o-this.children[r].border,e);for(let c;r&&!(c=this.children[r-1]).size&&c instanceof xc&&c.side>=0;r--);if(e<=0){let c,d=!0;for(;c=r?this.children[r-1]:null,!(!c||c.dom.parentNode==this.contentDOM);r--,d=!1);return c&&e&&d&&!c.border&&!c.domAtom?c.domFromPos(c.size,e):{node:this.contentDOM,offset:c?on(c.dom)+1:0}}else{let c,d=!0;for(;c=r<this.children.length?this.children[r]:null,!(!c||c.dom.parentNode==this.contentDOM);r++,d=!1);return c&&d&&!c.border&&!c.domAtom?c.domFromPos(0,e):{node:this.contentDOM,offset:c?on(c.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,c=-1;for(let d=r,p=0;;p++){let m=this.children[p],b=d+m.size;if(o==-1&&t<=b){let x=d+m.border;if(t>=x&&e<=b-m.border&&m.node&&m.contentDOM&&this.contentDOM.contains(m.contentDOM))return m.parseRange(t,e,x);t=d;for(let w=p;w>0;w--){let k=this.children[w-1];if(k.size&&k.dom.parentNode==this.contentDOM&&!k.emptyChildAt(1)){o=on(k.dom)+1;break}t-=k.size}o==-1&&(o=0)}if(o>-1&&(b>e||p==this.children.length-1)){e=b;for(let x=p+1;x<this.children.length;x++){let w=this.children[x];if(w.size&&w.dom.parentNode==this.contentDOM&&!w.emptyChildAt(-1)){c=on(w.dom);break}e+=w.size}c==-1&&(c=this.contentDOM.childNodes.length);break}d=b}return{node:this.contentDOM,from:t,to:e,fromOffset:o,toOffset:c}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:r}=this.domFromPos(t,0);if(e.nodeType!=1||r==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[r]}setSelection(t,e,r,o=!1){let c=Math.min(t,e),d=Math.max(t,e);for(let k=0,A=0;k<this.children.length;k++){let T=this.children[k],P=A+T.size;if(c>A&&d<P)return T.setSelection(t-A-T.border,e-A-T.border,r,o);A=P}let p=this.domFromPos(t,t?-1:1),m=e==t?p:this.domFromPos(e,e?-1:1),b=r.getSelection(),x=!1;if((pn||Ht)&&t==e){let{node:k,offset:A}=p;if(k.nodeType==3)x=!!(A&&k.nodeValue[A-1]==`
`);else{let T=k.childNodes[A-1];x=T&&(T.nodeName=="BR"||T.contentEditable=="false")}}if(pn&&b.focusNode&&b.focusNode!=m.node&&b.focusNode.nodeType==1){let k=b.focusNode.childNodes[b.focusOffset];k&&k.contentEditable=="false"&&(o=!0)}if(!(o||x&&Ht)&&fi(p.node,p.offset,b.anchorNode,b.anchorOffset)&&fi(m.node,m.offset,b.focusNode,b.focusOffset))return;let w=!1;if((b.extend||t==e)&&!x){b.collapse(p.node,p.offset);try{t!=e&&b.extend(m.node,m.offset),w=!0}catch{}}if(!w){if(t>e){let A=p;p=m,m=A}let k=document.createRange();k.setEnd(m.node,m.offset),k.setStart(p.node,p.offset),b.removeAllRanges(),b.addRange(k)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let r=0,o=0;o<this.children.length;o++){let c=this.children[o],d=r+c.size;if(r==d?t<=d&&e>=r:t<d&&e>r){let p=r+c.border,m=d-c.border;if(t>=p&&e<=m){this.dirty=t==r||e==d?ri:_o,t==p&&e==m&&(c.contentLost||c.dom.parentNode!=this.contentDOM)?c.dirty=Cn:c.markDirty(t-p,e-p);return}else c.dirty=c.dom==c.contentDOM&&c.dom.parentNode==this.contentDOM&&!c.children.length?ri:Cn}r=d}this.dirty=ri}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let r=t==1?ri:_o;e.dirty<r&&(e.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class xc extends mr{constructor(t,e,r,o){let c,d=e.type.toDOM;if(typeof d=="function"&&(d=d(r,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)})),!e.type.spec.raw){if(d.nodeType!=1){let p=document.createElement("span");p.appendChild(d),d=p}d.contentEditable="false",d.classList.add("ProseMirror-widget")}super(t,[],d,null),this.widget=e,this.widget=e,c=this}matchesWidget(t){return this.dirty==ln&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return e?e(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Gh extends mr{constructor(t,e,r,o){super(t,[],e,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class pi extends mr{constructor(t,e,r,o){super(t,[],r,o),this.mark=e}static create(t,e,r,o){let c=o.nodeViews[e.type.name],d=c&&c(e,o,r);return(!d||!d.dom)&&(d=wn.renderSpec(document,e.type.spec.toDOM(e,r))),new pi(t,e,d.dom,d.contentDOM||d.dom)}parseRule(){return this.dirty&Cn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return this.dirty!=Cn&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=ln){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ln}}slice(t,e,r){let o=pi.create(this.parent,this.mark,!0,r),c=this.children,d=this.size;e<d&&(c=ws(c,e,d,r)),t>0&&(c=ws(c,0,t,r));for(let p=0;p<c.length;p++)c[p].parent=o;return o.children=c,o}}class Yn extends mr{constructor(t,e,r,o,c,d,p,m,b){super(t,[],c,d),this.node=e,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=p}static create(t,e,r,o,c,d){let p=c.nodeViews[e.type.name],m,b=p&&p(e,c,()=>{if(!m)return d;if(m.parent)return m.parent.posBeforeChild(m)},r,o),x=b&&b.dom,w=b&&b.contentDOM;if(e.isText){if(!x)x=document.createTextNode(e.text);else if(x.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else x||({dom:x,contentDOM:w}=wn.renderSpec(document,e.type.spec.toDOM(e)));!w&&!e.isText&&x.nodeName!="BR"&&(x.hasAttribute("contenteditable")||(x.contentEditable="false"),e.type.spec.draggable&&(x.draggable=!0));let k=x;return x=Sc(x,r,e),b?m=new Uh(t,e,r,o,x,w||null,k,b,c,d+1):e.isText?new ya(t,e,r,o,x,k,c):new Yn(t,e,r,o,x,w||null,k,c,d+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let e=this.children.length-1;e>=0;e--){let r=this.children[e];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Pe.empty)}return t}matchesNode(t,e,r){return this.dirty==ln&&t.eq(this.node)&&bs(e,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let r=this.node.inlineContent,o=e,c=t.composing?this.localCompositionInfo(t,e):null,d=c&&c.pos>-1?c:null,p=c&&c.pos<0,m=new Kh(this,d&&d.node,t);Qh(this.node,this.innerDeco,(b,x,w)=>{b.spec.marks?m.syncToMarks(b.spec.marks,r,t):b.type.side>=0&&!w&&m.syncToMarks(x==this.node.childCount?lt.none:this.node.child(x).marks,r,t),m.placeWidget(b,t,o)},(b,x,w,k)=>{m.syncToMarks(b.marks,r,t);let A;m.findNodeMatch(b,x,w,k)||p&&t.state.selection.from>o&&t.state.selection.to<o+b.nodeSize&&(A=m.findIndexWithChild(c.node))>-1&&m.updateNodeAt(b,x,w,A,t)||m.updateNextNode(b,x,w,t,k,o)||m.addNode(b,x,w,t,o),o+=b.nodeSize}),m.syncToMarks([],r,t),this.node.isTextblock&&m.addTextblockHacks(),m.destroyRest(),(m.changed||this.dirty==ri)&&(d&&this.protectLocalComposition(t,d),wc(this.contentDOM,this.children,t),Bi&&ed(this.dom))}localCompositionInfo(t,e){let{from:r,to:o}=t.state.selection;if(!(t.state.selection instanceof it)||r<e||o>e+this.node.content.size)return null;let c=t.domSelectionRange(),d=td(c.focusNode,c.focusOffset);if(!d||!this.dom.contains(d.parentNode))return null;if(this.node.inlineContent){let p=d.nodeValue,m=nd(this.node.content,p,r-e,o-e);return m<0?null:{node:d,pos:m,text:p}}else return{node:d,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:r,text:o}){if(this.getDesc(e))return;let c=e;for(;c.parentNode!=this.contentDOM;c=c.parentNode){for(;c.previousSibling;)c.parentNode.removeChild(c.previousSibling);for(;c.nextSibling;)c.parentNode.removeChild(c.nextSibling);c.pmViewDesc&&(c.pmViewDesc=void 0)}let d=new Gh(this,c,e,o);t.input.compositionNodes.push(d),this.children=ws(this.children,r,r+o.length,t,d)}update(t,e,r,o){return this.dirty==Cn||!t.sameMarkup(this.node)?!1:(this.updateInner(t,e,r,o),!0)}updateInner(t,e,r,o){this.updateOuterDeco(e),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=ln}updateOuterDeco(t){if(bs(t,this.outerDeco))return;let e=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=kc(this.dom,this.nodeDOM,xs(this.outerDeco,this.node,e),xs(t,this.node,e)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function zo(a,t,e,r,o){Sc(r,t,a);let c=new Yn(void 0,a,t,e,r,r,r,o,0);return c.contentDOM&&c.updateChildren(o,0),c}class ya extends Yn{constructor(t,e,r,o,c,d,p){super(t,e,r,o,c,null,d,p,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,r,o){return this.dirty==Cn||this.dirty!=ln&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(e),(this.dirty!=ln||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=t,this.dirty=ln,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,r){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,e,r){let o=this.node.cut(t,e),c=document.createTextNode(o.text);return new ya(this.parent,o,this.outerDeco,this.innerDeco,c,c,r)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(t==0||e==this.nodeDOM.nodeValue.length)&&(this.dirty=Cn)}get domAtom(){return!1}}class bc extends mr{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ln&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Uh extends Yn{constructor(t,e,r,o,c,d,p,m,b,x){super(t,e,r,o,c,d,p,b,x),this.spec=m}update(t,e,r,o){if(this.dirty==Cn)return!1;if(this.spec.update){let c=this.spec.update(t,e,r);return c&&this.updateInner(t,e,r,o),c}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,e,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,r,o){this.spec.setSelection?this.spec.setSelection(t,e,r):super.setSelection(t,e,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function wc(a,t,e){let r=a.firstChild,o=!1;for(let c=0;c<t.length;c++){let d=t[c],p=d.dom;if(p.parentNode==a){for(;p!=r;)r=Fo(r),o=!0;r=r.nextSibling}else o=!0,a.insertBefore(p,r);if(d instanceof pi){let m=r?r.previousSibling:a.lastChild;wc(d.contentDOM,d.children,e),r=m?m.nextSibling:a.firstChild}}for(;r;)r=Fo(r),o=!0;o&&e.trackWrites==a&&(e.trackWrites=null)}const tr=function(a){a&&(this.nodeName=a)};tr.prototype=Object.create(null);const ai=[new tr];function xs(a,t,e){if(a.length==0)return ai;let r=e?ai[0]:new tr,o=[r];for(let c=0;c<a.length;c++){let d=a[c].type.attrs;if(!!d){d.nodeName&&o.push(r=new tr(d.nodeName));for(let p in d){let m=d[p];m!=null&&(e&&o.length==1&&o.push(r=new tr(t.isInline?"span":"div")),p=="class"?r.class=(r.class?r.class+" ":"")+m:p=="style"?r.style=(r.style?r.style+";":"")+m:p!="nodeName"&&(r[p]=m))}}}return o}function kc(a,t,e,r){if(e==ai&&r==ai)return t;let o=t;for(let c=0;c<r.length;c++){let d=r[c],p=e[c];if(c){let m;p&&p.nodeName==d.nodeName&&o!=a&&(m=o.parentNode)&&m.nodeName.toLowerCase()==d.nodeName||(m=document.createElement(d.nodeName),m.pmIsDeco=!0,m.appendChild(o),p=ai[0]),o=m}$h(o,p||ai[0],d)}return o}function $h(a,t,e){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in e)&&a.removeAttribute(r);for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&e[r]!=t[r]&&a.setAttribute(r,e[r]);if(t.class!=e.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=e.class?e.class.split(" ").filter(Boolean):[];for(let c=0;c<r.length;c++)o.indexOf(r[c])==-1&&a.classList.remove(r[c]);for(let c=0;c<o.length;c++)r.indexOf(o[c])==-1&&a.classList.add(o[c]);a.classList.length==0&&a.removeAttribute("class")}if(t.style!=e.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(t.style);)a.style.removeProperty(o[1])}e.style&&(a.style.cssText+=e.style)}}function Sc(a,t,e){return kc(a,a,ai,xs(t,e,a.nodeType!=1))}function bs(a,t){if(a.length!=t.length)return!1;for(let e=0;e<a.length;e++)if(!a[e].type.eq(t[e].type))return!1;return!0}function Fo(a){let t=a.nextSibling;return a.parentNode.removeChild(a),t}class Kh{constructor(t,e,r){this.lock=e,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Zh(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let r=t;r<e;r++)this.top.children[r].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,r){let o=0,c=this.stack.length>>1,d=Math.min(c,t.length);for(;o<d&&(o==c-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<c;)this.destroyRest(),this.top.dirty=ln,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<t.length;){this.stack.push(this.top,this.index+1);let p=-1;for(let m=this.index;m<Math.min(this.index+3,this.top.children.length);m++){let b=this.top.children[m];if(b.matchesMark(t[c])&&!this.isLocked(b.dom)){p=m;break}}if(p>-1)p>this.index&&(this.changed=!0,this.destroyBetween(this.index,p)),this.top=this.top.children[this.index];else{let m=pi.create(this.top,t[c],e,r);this.top.children.splice(this.index,0,m),this.top=m,this.changed=!0}this.index=0,c++}}findNodeMatch(t,e,r,o){let c=-1,d;if(o>=this.preMatch.index&&(d=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&d.matchesNode(t,e,r))c=this.top.children.indexOf(d,this.index);else for(let p=this.index,m=Math.min(this.top.children.length,p+5);p<m;p++){let b=this.top.children[p];if(b.matchesNode(t,e,r)&&!this.preMatch.matched.has(b)){c=p;break}}return c<0?!1:(this.destroyBetween(this.index,c),this.index++,!0)}updateNodeAt(t,e,r,o,c){let d=this.top.children[o];return d.dirty==Cn&&d.dom==d.contentDOM&&(d.dirty=ri),d.update(t,e,r,c)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}t=e}}updateNextNode(t,e,r,o,c,d){for(let p=this.index;p<this.top.children.length;p++){let m=this.top.children[p];if(m instanceof Yn){let b=this.preMatch.matched.get(m);if(b!=null&&b!=c)return!1;let x=m.dom,w,k=this.isLocked(x)&&!(t.isText&&m.node&&m.node.isText&&m.nodeDOM.nodeValue==t.text&&m.dirty!=Cn&&bs(e,m.outerDeco));if(!k&&m.update(t,e,r,o))return this.destroyBetween(this.index,p),m.dom!=x&&(this.changed=!0),this.index++,!0;if(!k&&(w=this.recreateWrapper(m,t,e,r,o,d)))return this.top.children[this.index]=w,w.dirty=ri,w.updateChildren(o,d+1),w.dirty=ln,this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,r,o,c,d){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content))return null;let p=Yn.create(this.top,e,r,o,c,d);if(!p.contentDOM)return null;p.children=t.children,t.children=[];for(let m of p.children)m.parent=p;return p}addNode(t,e,r,o,c){let d=Yn.create(this.top,t,e,r,o,c);d.contentDOM&&d.updateChildren(o,c+1),this.top.children.splice(this.index++,0,d),this.changed=!0}placeWidget(t,e,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(t)&&(t==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let c=new xc(this.top,t,e,r);this.top.children.splice(this.index++,0,c),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof pi;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof ya)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Ht||_t)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new bc(this.top,[],r,null);e!=this.top?e.children.push(o):e.children.splice(this.index++,0,o),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Zh(a,t){let e=t,r=e.children.length,o=a.childCount,c=new Map,d=[];e:for(;o>0;){let p;for(;;)if(r){let b=e.children[r-1];if(b instanceof pi)e=b,r=b.children.length;else{p=b,r--;break}}else{if(e==t)break e;r=e.parent.children.indexOf(e),e=e.parent}let m=p.node;if(!!m){if(m!=a.child(o-1))break;--o,c.set(p,o),d.push(p)}}return{index:o,matched:c,matches:d.reverse()}}function Jh(a,t){return a.type.side-t.type.side}function Qh(a,t,e,r){let o=t.locals(a),c=0;if(o.length==0){for(let b=0;b<a.childCount;b++){let x=a.child(b);r(x,o,t.forChild(c,x),b),c+=x.nodeSize}return}let d=0,p=[],m=null;for(let b=0;;){if(d<o.length&&o[d].to==c){let T=o[d++],P;for(;d<o.length&&o[d].to==c;)(P||(P=[T])).push(o[d++]);if(P){P.sort(Jh);for(let I=0;I<P.length;I++)e(P[I],b,!!m)}else e(T,b,!!m)}let x,w;if(m)w=-1,x=m,m=null;else if(b<a.childCount)w=b,x=a.child(b++);else break;for(let T=0;T<p.length;T++)p[T].to<=c&&p.splice(T--,1);for(;d<o.length&&o[d].from<=c&&o[d].to>c;)p.push(o[d++]);let k=c+x.nodeSize;if(x.isText){let T=k;d<o.length&&o[d].from<T&&(T=o[d].from);for(let P=0;P<p.length;P++)p[P].to<T&&(T=p[P].to);T<k&&(m=x.cut(T-c),x=x.cut(0,T-c),k=T,w=-1)}let A=x.isInline&&!x.isLeaf?p.filter(T=>!T.inline):p.slice();r(x,A,t.forChild(c,x),w),c=k}}function ed(a){if(a.nodeName=="UL"||a.nodeName=="OL"){let t=a.style.cssText;a.style.cssText=t+"; list-style: square !important",window.getComputedStyle(a).listStyle,a.style.cssText=t}}function td(a,t){for(;;){if(a.nodeType==3)return a;if(a.nodeType==1&&t>0){if(a.childNodes.length>t&&a.childNodes[t].nodeType==3)return a.childNodes[t];a=a.childNodes[t-1],t=bn(a)}else if(a.nodeType==1&&t<a.childNodes.length)a=a.childNodes[t],t=0;else return null}}function nd(a,t,e,r){for(let o=0,c=0;o<a.childCount&&c<=r;){let d=a.child(o++),p=c;if(c+=d.nodeSize,!d.isText)continue;let m=d.text;for(;o<a.childCount;){let b=a.child(o++);if(c+=b.nodeSize,!b.isText)break;m+=b.text}if(c>=e){let b=p<r?m.lastIndexOf(t,r-p-1):-1;if(b>=0&&b+t.length+p>=e)return p+b;if(e==r&&m.length>=r+t.length-p&&m.slice(r-p,r-p+t.length)==t)return r}}return-1}function ws(a,t,e,r,o){let c=[];for(let d=0,p=0;d<a.length;d++){let m=a[d],b=p,x=p+=m.size;b>=e||x<=t?c.push(m):(b<t&&c.push(m.slice(0,t-b,r)),o&&(c.push(o),o=void 0),x>e&&c.push(m.slice(e-b,m.size,r)))}return c}function Xs(a,t=null){let e=a.domSelectionRange(),r=a.state.doc;if(!e.focusNode)return null;let o=a.docView.nearestDesc(e.focusNode),c=o&&o.size==0,d=a.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(d<0)return null;let p=r.resolve(d),m,b;if(ga(e)){for(m=p;o&&!o.node;)o=o.parent;let x=o.node;if(o&&x.isAtom&&Ve.isSelectable(x)&&o.parent&&!(x.isInline&&Ch(e.focusNode,e.focusOffset,o.dom))){let w=o.posBefore;b=new Ve(d==w?p:r.resolve(w))}}else{let x=a.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(x<0)return null;m=r.resolve(x)}if(!b){let x=t=="pointer"||a.state.selection.head<p.pos&&!c?1:-1;b=Ws(a,m,p,x)}return b}function Ac(a){return a.editable?a.hasFocus():Ec(a)&&document.activeElement&&document.activeElement.contains(a.dom)}function Tn(a,t=!1){let e=a.state.selection;if(Cc(a,e),!!Ac(a)){if(!t&&a.input.mouseDown&&a.input.mouseDown.allowDefault&&_t){let r=a.domSelectionRange(),o=a.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&fi(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){a.input.mouseDown.delayedSelectionSync=!0,a.domObserver.setCurSelection();return}}if(a.domObserver.disconnectSelection(),a.cursorWrapper)rd(a);else{let{anchor:r,head:o}=e,c,d;Bo&&!(e instanceof it)&&(e.$from.parent.inlineContent||(c=Ho(a,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(d=Ho(a,e.to))),a.docView.setSelection(r,o,a.root,t),Bo&&(c&&Yo(c),d&&Yo(d)),e.visible?a.dom.classList.remove("ProseMirror-hideselection"):(a.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&id(a))}a.domObserver.setCurSelection(),a.domObserver.connectSelection()}}const Bo=Ht||_t&&Th<63;function Ho(a,t){let{node:e,offset:r}=a.docView.domFromPos(t,0),o=r<e.childNodes.length?e.childNodes[r]:null,c=r?e.childNodes[r-1]:null;if(Ht&&o&&o.contentEditable=="false")return Ua(o);if((!o||o.contentEditable=="false")&&(!c||c.contentEditable=="false")){if(o)return Ua(o);if(c)return Ua(c)}}function Ua(a){return a.contentEditable="true",Ht&&a.draggable&&(a.draggable=!1,a.wasDraggable=!0),a}function Yo(a){a.contentEditable="false",a.wasDraggable&&(a.draggable=!0,a.wasDraggable=null)}function id(a){let t=a.dom.ownerDocument;t.removeEventListener("selectionchange",a.input.hideSelectionGuard);let e=a.domSelectionRange(),r=e.anchorNode,o=e.anchorOffset;t.addEventListener("selectionchange",a.input.hideSelectionGuard=()=>{(e.anchorNode!=r||e.anchorOffset!=o)&&(t.removeEventListener("selectionchange",a.input.hideSelectionGuard),setTimeout(()=>{(!Ac(a)||a.state.selection.visible)&&a.dom.classList.remove("ProseMirror-hideselection")},20))})}function rd(a){let t=a.domSelection(),e=document.createRange(),r=a.cursorWrapper.dom,o=r.nodeName=="IMG";o?e.setEnd(r.parentNode,on(r)+1):e.setEnd(r,0),e.collapse(!1),t.removeAllRanges(),t.addRange(e),!o&&!a.state.selection.visible&&Ut&&Hn<=11&&(r.disabled=!0,r.disabled=!1)}function Cc(a,t){if(t instanceof Ve){let e=a.docView.descAt(t.from);e!=a.lastSelectedViewDesc&&(Xo(a),e&&e.selectNode(),a.lastSelectedViewDesc=e)}else Xo(a)}function Xo(a){a.lastSelectedViewDesc&&(a.lastSelectedViewDesc.parent&&a.lastSelectedViewDesc.deselectNode(),a.lastSelectedViewDesc=void 0)}function Ws(a,t,e,r){return a.someProp("createSelectionBetween",o=>o(a,t,e))||it.between(t,e,r)}function Wo(a){return a.editable&&!a.hasFocus()?!1:Ec(a)}function Ec(a){let t=a.domSelectionRange();if(!t.anchorNode)return!1;try{return a.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(a.editable||a.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function ad(a){let t=a.docView.domFromPos(a.state.selection.anchor,0),e=a.domSelectionRange();return fi(t.node,t.offset,e.anchorNode,e.anchorOffset)}function ks(a,t){let{$anchor:e,$head:r}=a.selection,o=t>0?e.max(r):e.min(r),c=o.parent.inlineContent?o.depth?a.doc.resolve(t>0?o.after():o.before()):null:o;return c&&tt.findFrom(c,t)}function ti(a,t){return a.dispatch(a.state.tr.setSelection(t).scrollIntoView()),!0}function jo(a,t,e){let r=a.state.selection;if(r instanceof it){if(!r.empty||e.indexOf("s")>-1)return!1;if(a.endOfTextblock(t>0?"forward":"backward")){let o=ks(a.state,t);return o&&o instanceof Ve?ti(a,o):!1}else if(!(an&&e.indexOf("m")>-1)){let o=r.$head,c=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,d;if(!c||c.isText)return!1;let p=t<0?o.pos-c.nodeSize:o.pos;return c.isAtom||(d=a.docView.descAt(p))&&!d.contentDOM?Ve.isSelectable(c)?ti(a,new Ve(t<0?a.state.doc.resolve(o.pos-c.nodeSize):o)):ma?ti(a,new it(a.state.doc.resolve(t<0?p:p+c.nodeSize))):!1:!1}}else{if(r instanceof Ve&&r.node.isInline)return ti(a,new it(t>0?r.$to:r.$from));{let o=ks(a.state,t);return o?ti(a,o):!1}}}function jr(a){return a.nodeType==3?a.nodeValue.length:a.childNodes.length}function nr(a){let t=a.pmViewDesc;return t&&t.size==0&&(a.nextSibling||a.nodeName!="BR")}function Ui(a,t){return t<0?sd(a):Oc(a)}function sd(a){let t=a.domSelectionRange(),e=t.focusNode,r=t.focusOffset;if(!e)return;let o,c,d=!1;for(pn&&e.nodeType==1&&r<jr(e)&&nr(e.childNodes[r])&&(d=!0);;)if(r>0){if(e.nodeType!=1)break;{let p=e.childNodes[r-1];if(nr(p))o=e,c=--r;else if(p.nodeType==3)e=p,r=e.nodeValue.length;else break}}else{if(Mc(e))break;{let p=e.previousSibling;for(;p&&nr(p);)o=e.parentNode,c=on(p),p=p.previousSibling;if(p)e=p,r=jr(e);else{if(e=e.parentNode,e==a.dom)break;r=0}}}d?Ss(a,e,r):o&&Ss(a,o,c)}function Oc(a){let t=a.domSelectionRange(),e=t.focusNode,r=t.focusOffset;if(!e)return;let o=jr(e),c,d;for(;;)if(r<o){if(e.nodeType!=1)break;let p=e.childNodes[r];if(nr(p))c=e,d=++r;else break}else{if(Mc(e))break;{let p=e.nextSibling;for(;p&&nr(p);)c=p.parentNode,d=on(p)+1,p=p.nextSibling;if(p)e=p,r=0,o=jr(e);else{if(e=e.parentNode,e==a.dom)break;r=o=0}}}c&&Ss(a,c,d)}function Mc(a){let t=a.pmViewDesc;return t&&t.node&&t.node.isBlock}function Ss(a,t,e){let r=a.domSelection();if(ga(r)){let c=document.createRange();c.setEnd(t,e),c.setStart(t,e),r.removeAllRanges(),r.addRange(c)}else r.extend&&r.extend(t,e);a.domObserver.setCurSelection();let{state:o}=a;setTimeout(()=>{a.state==o&&Tn(a)},50)}function Vo(a,t){let e=a.state.doc.resolve(t);if(!(_t||Ph)&&e.parent.inlineContent){let o=a.coordsAtPos(t);if(t>e.start()){let c=a.coordsAtPos(t-1),d=(c.top+c.bottom)/2;if(d>o.top&&d<o.bottom&&Math.abs(c.left-o.left)>1)return c.left<o.left?"ltr":"rtl"}if(t<e.end()){let c=a.coordsAtPos(t+1),d=(c.top+c.bottom)/2;if(d>o.top&&d<o.bottom&&Math.abs(c.left-o.left)>1)return c.left>o.left?"ltr":"rtl"}}return getComputedStyle(a.dom).direction=="rtl"?"rtl":"ltr"}function qo(a,t,e){let r=a.state.selection;if(r instanceof it&&!r.empty||e.indexOf("s")>-1||an&&e.indexOf("m")>-1)return!1;let{$from:o,$to:c}=r;if(!o.parent.inlineContent||a.endOfTextblock(t<0?"up":"down")){let d=ks(a.state,t);if(d&&d instanceof Ve)return ti(a,d)}if(!o.parent.inlineContent){let d=t<0?o:c,p=r instanceof fn?tt.near(d,t):tt.findFrom(d,t);return p?ti(a,p):!1}return!1}function Go(a,t){if(!(a.state.selection instanceof it))return!0;let{$head:e,$anchor:r,empty:o}=a.state.selection;if(!e.sameParent(r))return!0;if(!o)return!1;if(a.endOfTextblock(t>0?"forward":"backward"))return!0;let c=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(c&&!c.isText){let d=a.state.tr;return t<0?d.delete(e.pos-c.nodeSize,e.pos):d.delete(e.pos,e.pos+c.nodeSize),a.dispatch(d),!0}return!1}function Uo(a,t,e){a.domObserver.stop(),t.contentEditable=e,a.domObserver.start()}function od(a){if(!Ht||a.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=a.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;Uo(a,r,"true"),setTimeout(()=>Uo(a,r,"false"),20)}return!1}function ld(a){let t="";return a.ctrlKey&&(t+="c"),a.metaKey&&(t+="m"),a.altKey&&(t+="a"),a.shiftKey&&(t+="s"),t}function cd(a,t){let e=t.keyCode,r=ld(t);if(e==8||an&&e==72&&r=="c")return Go(a,-1)||Ui(a,-1);if(e==46||an&&e==68&&r=="c")return Go(a,1)||Ui(a,1);if(e==13||e==27)return!0;if(e==37||an&&e==66&&r=="c"){let o=e==37?Vo(a,a.state.selection.from)=="ltr"?-1:1:-1;return jo(a,o,r)||Ui(a,o)}else if(e==39||an&&e==70&&r=="c"){let o=e==39?Vo(a,a.state.selection.from)=="ltr"?1:-1:1;return jo(a,o,r)||Ui(a,o)}else{if(e==38||an&&e==80&&r=="c")return qo(a,-1,r)||Ui(a,-1);if(e==40||an&&e==78&&r=="c")return od(a)||qo(a,1,r)||Oc(a);if(r==(an?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function Tc(a,t){a.someProp("transformCopied",A=>{t=A(t,a)});let e=[],{content:r,openStart:o,openEnd:c}=t;for(;o>1&&c>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,c--;let A=r.firstChild;e.push(A.type.name,A.attrs!=A.type.defaultAttrs?A.attrs:null),r=A.content}let d=a.someProp("clipboardSerializer")||wn.fromSchema(a.state.schema),p=Rc(),m=p.createElement("div");m.appendChild(d.serializeFragment(r,{document:p}));let b=m.firstChild,x,w=0;for(;b&&b.nodeType==1&&(x=Ic[b.nodeName.toLowerCase()]);){for(let A=x.length-1;A>=0;A--){let T=p.createElement(x[A]);for(;m.firstChild;)T.appendChild(m.firstChild);m.appendChild(T),w++}b=m.firstChild}b&&b.nodeType==1&&b.setAttribute("data-pm-slice",`${o} ${c}${w?` -${w}`:""} ${JSON.stringify(e)}`);let k=a.someProp("clipboardTextSerializer",A=>A(t,a))||t.content.textBetween(0,t.content.size,`

`);return{dom:m,text:k}}function Pc(a,t,e,r,o){let c=o.parent.type.spec.code,d,p;if(!e&&!t)return null;let m=t&&(r||c||!e);if(m){if(a.someProp("transformPastedText",k=>{t=k(t,c||r,a)}),c)return t?new Fe(Pe.from(a.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):Fe.empty;let w=a.someProp("clipboardTextParser",k=>k(t,o,r,a));if(w)p=w;else{let k=o.marks(),{schema:A}=a.state,T=wn.fromSchema(A);d=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(P=>{let I=d.appendChild(document.createElement("p"));P&&I.appendChild(T.serializeNode(A.text(P,k)))})}}else a.someProp("transformPastedHTML",w=>{e=w(e,a)}),d=dd(e),ma&&fd(d);let b=d&&d.querySelector("[data-pm-slice]"),x=b&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(b.getAttribute("data-pm-slice")||"");if(x&&x[3])for(let w=+x[3];w>0;w--){let k=d.firstChild;for(;k&&k.nodeType!=1;)k=k.nextSibling;if(!k)break;d=k}if(p||(p=(a.someProp("clipboardParser")||a.someProp("domParser")||_i.fromSchema(a.state.schema)).parseSlice(d,{preserveWhitespace:!!(m||x),context:o,ruleFromNode(k){return k.nodeName=="BR"&&!k.nextSibling&&k.parentNode&&!ud.test(k.parentNode.nodeName)?{ignore:!0}:null}})),x)p=pd($o(p,+x[1],+x[2]),x[4]);else if(p=Fe.maxOpen(hd(p.content,o),!0),p.openStart||p.openEnd){let w=0,k=0;for(let A=p.content.firstChild;w<p.openStart&&!A.type.spec.isolating;w++,A=A.firstChild);for(let A=p.content.lastChild;k<p.openEnd&&!A.type.spec.isolating;k++,A=A.lastChild);p=$o(p,w,k)}return a.someProp("transformPasted",w=>{p=w(p,a)}),p}const ud=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function hd(a,t){if(a.childCount<2)return a;for(let e=t.depth;e>=0;e--){let o=t.node(e).contentMatchAt(t.index(e)),c,d=[];if(a.forEach(p=>{if(!d)return;let m=o.findWrapping(p.type),b;if(!m)return d=null;if(b=d.length&&c.length&&Nc(m,c,p,d[d.length-1],0))d[d.length-1]=b;else{d.length&&(d[d.length-1]=Dc(d[d.length-1],c.length));let x=Lc(p,m);d.push(x),o=o.matchType(x.type),c=m}}),d)return Pe.from(d)}return a}function Lc(a,t,e=0){for(let r=t.length-1;r>=e;r--)a=t[r].create(null,Pe.from(a));return a}function Nc(a,t,e,r,o){if(o<a.length&&o<t.length&&a[o]==t[o]){let c=Nc(a,t,e,r.lastChild,o+1);if(c)return r.copy(r.content.replaceChild(r.childCount-1,c));if(r.contentMatchAt(r.childCount).matchType(o==a.length-1?e.type:a[o+1]))return r.copy(r.content.append(Pe.from(Lc(e,a,o+1))))}}function Dc(a,t){if(t==0)return a;let e=a.content.replaceChild(a.childCount-1,Dc(a.lastChild,t-1)),r=a.contentMatchAt(a.childCount).fillBefore(Pe.empty,!0);return a.copy(e.append(r))}function As(a,t,e,r,o,c){let d=t<0?a.firstChild:a.lastChild,p=d.content;return a.childCount>1&&(c=0),o<r-1&&(p=As(p,t,e,r,o+1,c)),o>=e&&(p=t<0?d.contentMatchAt(0).fillBefore(p,c<=o).append(p):p.append(d.contentMatchAt(d.childCount).fillBefore(Pe.empty,!0))),a.replaceChild(t<0?0:a.childCount-1,d.copy(p))}function $o(a,t,e){return t<a.openStart&&(a=new Fe(As(a.content,-1,t,a.openStart,0,a.openEnd),t,a.openEnd)),e<a.openEnd&&(a=new Fe(As(a.content,1,e,a.openEnd,0,0),a.openStart,e)),a}const Ic={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ko=null;function Rc(){return Ko||(Ko=document.implementation.createHTMLDocument("title"))}function dd(a){let t=/^(\s*<meta [^>]*>)*/.exec(a);t&&(a=a.slice(t[0].length));let e=Rc().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(a),o;if((o=r&&Ic[r[1].toLowerCase()])&&(a=o.map(c=>"<"+c+">").join("")+a+o.map(c=>"</"+c+">").reverse().join("")),e.innerHTML=a,o)for(let c=0;c<o.length;c++)e=e.querySelector(o[c])||e;return e}function fd(a){let t=a.querySelectorAll(_t?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let r=t[e];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(a.ownerDocument.createTextNode(" "),r)}}function pd(a,t){if(!a.size)return a;let e=a.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return a}let{content:o,openStart:c,openEnd:d}=a;for(let p=r.length-2;p>=0;p-=2){let m=e.nodes[r[p]];if(!m||m.hasRequiredAttrs())break;o=Pe.from(m.create(r[p+1],o)),c++,d++}return new Fe(o,c,d)}const Yt={},Xt={},gd={touchstart:!0,touchmove:!0};class md{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function yd(a){for(let t in Yt){let e=Yt[t];a.dom.addEventListener(t,a.input.eventHandlers[t]=r=>{xd(a,r)&&!js(a,r)&&(a.editable||!(r.type in Xt))&&e(a,r)},gd[t]?{passive:!0}:void 0)}Ht&&a.dom.addEventListener("input",()=>null),Cs(a)}function Bn(a,t){a.input.lastSelectionOrigin=t,a.input.lastSelectionTime=Date.now()}function vd(a){a.domObserver.stop();for(let t in a.input.eventHandlers)a.dom.removeEventListener(t,a.input.eventHandlers[t]);clearTimeout(a.input.composingTimeout),clearTimeout(a.input.lastIOSEnterFallbackTimeout)}function Cs(a){a.someProp("handleDOMEvents",t=>{for(let e in t)a.input.eventHandlers[e]||a.dom.addEventListener(e,a.input.eventHandlers[e]=r=>js(a,r))})}function js(a,t){return a.someProp("handleDOMEvents",e=>{let r=e[t.type];return r?r(a,t)||t.defaultPrevented:!1})}function xd(a,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=a.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function bd(a,t){!js(a,t)&&Yt[t.type]&&(a.editable||!(t.type in Xt))&&Yt[t.type](a,t)}Xt.keydown=(a,t)=>{let e=t;if(a.input.shiftKey=e.keyCode==16||e.shiftKey,!zc(a,e)&&(a.input.lastKeyCode=e.keyCode,a.input.lastKeyCodeTime=Date.now(),!(hn&&_t&&e.keyCode==13)))if(e.keyCode!=229&&a.domObserver.forceFlush(),Bi&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let r=Date.now();a.input.lastIOSEnter=r,a.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{a.input.lastIOSEnter==r&&(a.someProp("handleKeyDown",o=>o(a,ei(13,"Enter"))),a.input.lastIOSEnter=0)},200)}else a.someProp("handleKeyDown",r=>r(a,e))||cd(a,e)?e.preventDefault():Bn(a,"key")};Xt.keyup=(a,t)=>{t.keyCode==16&&(a.input.shiftKey=!1)};Xt.keypress=(a,t)=>{let e=t;if(zc(a,e)||!e.charCode||e.ctrlKey&&!e.altKey||an&&e.metaKey)return;if(a.someProp("handleKeyPress",o=>o(a,e))){e.preventDefault();return}let r=a.state.selection;if(!(r instanceof it)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(e.charCode);!/[\r\n]/.test(o)&&!a.someProp("handleTextInput",c=>c(a,r.$from.pos,r.$to.pos,o))&&a.dispatch(a.state.tr.insertText(o).scrollIntoView()),e.preventDefault()}};function va(a){return{left:a.clientX,top:a.clientY}}function wd(a,t){let e=t.x-a.clientX,r=t.y-a.clientY;return e*e+r*r<100}function Vs(a,t,e,r,o){if(r==-1)return!1;let c=a.state.doc.resolve(r);for(let d=c.depth+1;d>0;d--)if(a.someProp(t,p=>d>c.depth?p(a,e,c.nodeAfter,c.before(d),o,!0):p(a,e,c.node(d),c.before(d),o,!1)))return!0;return!1}function Ri(a,t,e){a.focused||a.focus();let r=a.state.tr.setSelection(t);e=="pointer"&&r.setMeta("pointer",!0),a.dispatch(r)}function kd(a,t){if(t==-1)return!1;let e=a.state.doc.resolve(t),r=e.nodeAfter;return r&&r.isAtom&&Ve.isSelectable(r)?(Ri(a,new Ve(e),"pointer"),!0):!1}function Sd(a,t){if(t==-1)return!1;let e=a.state.selection,r,o;e instanceof Ve&&(r=e.node);let c=a.state.doc.resolve(t);for(let d=c.depth+1;d>0;d--){let p=d>c.depth?c.nodeAfter:c.node(d);if(Ve.isSelectable(p)){r&&e.$from.depth>0&&d>=e.$from.depth&&c.before(e.$from.depth+1)==e.$from.pos?o=c.before(e.$from.depth):o=c.before(d);break}}return o!=null?(Ri(a,Ve.create(a.state.doc,o),"pointer"),!0):!1}function Ad(a,t,e,r,o){return Vs(a,"handleClickOn",t,e,r)||a.someProp("handleClick",c=>c(a,t,r))||(o?Sd(a,e):kd(a,e))}function Cd(a,t,e,r){return Vs(a,"handleDoubleClickOn",t,e,r)||a.someProp("handleDoubleClick",o=>o(a,t,r))}function Ed(a,t,e,r){return Vs(a,"handleTripleClickOn",t,e,r)||a.someProp("handleTripleClick",o=>o(a,t,r))||Od(a,e,r)}function Od(a,t,e){if(e.button!=0)return!1;let r=a.state.doc;if(t==-1)return r.inlineContent?(Ri(a,it.create(r,0,r.content.size),"pointer"),!0):!1;let o=r.resolve(t);for(let c=o.depth+1;c>0;c--){let d=c>o.depth?o.nodeAfter:o.node(c),p=o.before(c);if(d.inlineContent)Ri(a,it.create(r,p+1,p+1+d.content.size),"pointer");else if(Ve.isSelectable(d))Ri(a,Ve.create(r,p),"pointer");else continue;return!0}}function qs(a){return Vr(a)}const _c=an?"metaKey":"ctrlKey";Yt.mousedown=(a,t)=>{let e=t;a.input.shiftKey=e.shiftKey;let r=qs(a),o=Date.now(),c="singleClick";o-a.input.lastClick.time<500&&wd(e,a.input.lastClick)&&!e[_c]&&(a.input.lastClick.type=="singleClick"?c="doubleClick":a.input.lastClick.type=="doubleClick"&&(c="tripleClick")),a.input.lastClick={time:o,x:e.clientX,y:e.clientY,type:c};let d=a.posAtCoords(va(e));!d||(c=="singleClick"?(a.input.mouseDown&&a.input.mouseDown.done(),a.input.mouseDown=new Md(a,d,e,!!r)):(c=="doubleClick"?Cd:Ed)(a,d.pos,d.inside,e)?e.preventDefault():Bn(a,"pointer"))};class Md{constructor(t,e,r,o){this.view=t,this.pos=e,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[_c],this.allowDefault=r.shiftKey;let c,d;if(e.inside>-1)c=t.state.doc.nodeAt(e.inside),d=e.inside;else{let x=t.state.doc.resolve(e.pos);c=x.parent,d=x.depth?x.before():0}const p=o?null:r.target,m=p?t.docView.nearestDesc(p,!0):null;this.target=m?m.dom:null;let{selection:b}=t.state;(r.button==0&&c.type.spec.draggable&&c.type.spec.selectable!==!1||b instanceof Ve&&b.from<=d&&b.to>d)&&(this.mightDrag={node:c,pos:d,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&pn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Bn(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Tn(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(va(t))),this.updateAllowDefault(t),this.allowDefault||!e?Bn(this.view,"pointer"):Ad(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Ht&&this.mightDrag&&!this.mightDrag.node.isAtom||_t&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Ri(this.view,tt.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Bn(this.view,"pointer")}move(t){this.updateAllowDefault(t),Bn(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Yt.touchstart=a=>{a.input.lastTouch=Date.now(),qs(a),Bn(a,"pointer")};Yt.touchmove=a=>{a.input.lastTouch=Date.now(),Bn(a,"pointer")};Yt.contextmenu=a=>qs(a);function zc(a,t){return a.composing?!0:Ht&&Math.abs(t.timeStamp-a.input.compositionEndedAt)<500?(a.input.compositionEndedAt=-2e8,!0):!1}const Td=hn?5e3:-1;Xt.compositionstart=Xt.compositionupdate=a=>{if(!a.composing){a.domObserver.flush();let{state:t}=a,e=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))a.markCursor=a.state.storedMarks||e.marks(),Vr(a,!0),a.markCursor=null;else if(Vr(a),pn&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let r=a.domSelectionRange();for(let o=r.focusNode,c=r.focusOffset;o&&o.nodeType==1&&c!=0;){let d=c<0?o.lastChild:o.childNodes[c-1];if(!d)break;if(d.nodeType==3){a.domSelection().collapse(d,d.nodeValue.length);break}else o=d,c=-1}}a.input.composing=!0}Fc(a,Td)};Xt.compositionend=(a,t)=>{a.composing&&(a.input.composing=!1,a.input.compositionEndedAt=t.timeStamp,a.input.compositionID++,Fc(a,20))};function Fc(a,t){clearTimeout(a.input.composingTimeout),t>-1&&(a.input.composingTimeout=setTimeout(()=>Vr(a),t))}function Bc(a){for(a.composing&&(a.input.composing=!1,a.input.compositionEndedAt=Pd());a.input.compositionNodes.length>0;)a.input.compositionNodes.pop().markParentsDirty()}function Pd(){let a=document.createEvent("Event");return a.initEvent("event",!0,!0),a.timeStamp}function Vr(a,t=!1){if(!(hn&&a.domObserver.flushingSoon>=0)){if(a.domObserver.forceFlush(),Bc(a),t||a.docView&&a.docView.dirty){let e=Xs(a);return e&&!e.eq(a.state.selection)?a.dispatch(a.state.tr.setSelection(e)):a.updateState(a.state),!0}return!1}}function Ld(a,t){if(!a.dom.parentNode)return;let e=a.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),a.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),a.focus()},50)}const Hi=Ut&&Hn<15||Bi&&Lh<604;Yt.copy=Xt.cut=(a,t)=>{let e=t,r=a.state.selection,o=e.type=="cut";if(r.empty)return;let c=Hi?null:e.clipboardData,d=r.content(),{dom:p,text:m}=Tc(a,d);c?(e.preventDefault(),c.clearData(),c.setData("text/html",p.innerHTML),c.setData("text/plain",m)):Ld(a,p),o&&a.dispatch(a.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Nd(a){return a.openStart==0&&a.openEnd==0&&a.content.childCount==1?a.content.firstChild:null}function Dd(a,t){if(!a.dom.parentNode)return;let e=a.input.shiftKey||a.state.selection.$from.parent.type.spec.code,r=a.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{a.focus(),r.parentNode&&r.parentNode.removeChild(r),e?ur(a,r.value,null,a.input.shiftKey,t):ur(a,r.textContent,r.innerHTML,a.input.shiftKey,t)},50)}function ur(a,t,e,r,o){let c=Pc(a,t,e,r,a.state.selection.$from);if(a.someProp("handlePaste",m=>m(a,o,c||Fe.empty)))return!0;if(!c)return!1;let d=Nd(c),p=d?a.state.tr.replaceSelectionWith(d,a.input.shiftKey):a.state.tr.replaceSelection(c);return a.dispatch(p.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Xt.paste=(a,t)=>{let e=t;if(a.composing&&!hn)return;let r=Hi?null:e.clipboardData;r&&ur(a,r.getData("text/plain"),r.getData("text/html"),a.input.shiftKey,e)?e.preventDefault():Dd(a,e)};class Id{constructor(t,e){this.slice=t,this.move=e}}const Hc=an?"altKey":"ctrlKey";Yt.dragstart=(a,t)=>{let e=t,r=a.input.mouseDown;if(r&&r.done(),!e.dataTransfer)return;let o=a.state.selection,c=o.empty?null:a.posAtCoords(va(e));if(!(c&&c.pos>=o.from&&c.pos<=(o instanceof Ve?o.to-1:o.to))){if(r&&r.mightDrag)a.dispatch(a.state.tr.setSelection(Ve.create(a.state.doc,r.mightDrag.pos)));else if(e.target&&e.target.nodeType==1){let b=a.docView.nearestDesc(e.target,!0);b&&b.node.type.spec.draggable&&b!=a.docView&&a.dispatch(a.state.tr.setSelection(Ve.create(a.state.doc,b.posBefore)))}}let d=a.state.selection.content(),{dom:p,text:m}=Tc(a,d);e.dataTransfer.clearData(),e.dataTransfer.setData(Hi?"Text":"text/html",p.innerHTML),e.dataTransfer.effectAllowed="copyMove",Hi||e.dataTransfer.setData("text/plain",m),a.dragging=new Id(d,!e[Hc])};Yt.dragend=a=>{let t=a.dragging;window.setTimeout(()=>{a.dragging==t&&(a.dragging=null)},50)};Xt.dragover=Xt.dragenter=(a,t)=>t.preventDefault();Xt.drop=(a,t)=>{let e=t,r=a.dragging;if(a.dragging=null,!e.dataTransfer)return;let o=a.posAtCoords(va(e));if(!o)return;let c=a.state.doc.resolve(o.pos),d=r&&r.slice;d?a.someProp("transformPasted",T=>{d=T(d,a)}):d=Pc(a,e.dataTransfer.getData(Hi?"Text":"text/plain"),Hi?null:e.dataTransfer.getData("text/html"),!1,c);let p=!!(r&&!e[Hc]);if(a.someProp("handleDrop",T=>T(a,e,d||Fe.empty,p))){e.preventDefault();return}if(!d)return;e.preventDefault();let m=d?rc(a.state.doc,c.pos,d):c.pos;m==null&&(m=c.pos);let b=a.state.tr;p&&b.deleteSelection();let x=b.mapping.map(m),w=d.openStart==0&&d.openEnd==0&&d.content.childCount==1,k=b.doc;if(w?b.replaceRangeWith(x,x,d.content.firstChild):b.replaceRange(x,x,d),b.doc.eq(k))return;let A=b.doc.resolve(x);if(w&&Ve.isSelectable(d.content.firstChild)&&A.nodeAfter&&A.nodeAfter.sameMarkup(d.content.firstChild))b.setSelection(new Ve(A));else{let T=b.mapping.map(m);b.mapping.maps[b.mapping.maps.length-1].forEach((P,I,N,E)=>T=E),b.setSelection(Ws(a,A,b.doc.resolve(T)))}a.focus(),a.dispatch(b.setMeta("uiEvent","drop"))};Yt.focus=a=>{a.input.lastFocus=Date.now(),a.focused||(a.domObserver.stop(),a.dom.classList.add("ProseMirror-focused"),a.domObserver.start(),a.focused=!0,setTimeout(()=>{a.docView&&a.hasFocus()&&!a.domObserver.currentSelection.eq(a.domSelectionRange())&&Tn(a)},20))};Yt.blur=(a,t)=>{let e=t;a.focused&&(a.domObserver.stop(),a.dom.classList.remove("ProseMirror-focused"),a.domObserver.start(),e.relatedTarget&&a.dom.contains(e.relatedTarget)&&a.domObserver.currentSelection.clear(),a.focused=!1)};Yt.beforeinput=(a,t)=>{if(_t&&hn&&t.inputType=="deleteContentBackward"){a.domObserver.flushSoon();let{domChangeCount:r}=a.input;setTimeout(()=>{if(a.input.domChangeCount!=r||(a.dom.blur(),a.focus(),a.someProp("handleKeyDown",c=>c(a,ei(8,"Backspace")))))return;let{$cursor:o}=a.state.selection;o&&o.pos>0&&a.dispatch(a.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let a in Xt)Yt[a]=Xt[a];function hr(a,t){if(a==t)return!0;for(let e in a)if(a[e]!==t[e])return!1;for(let e in t)if(!(e in a))return!1;return!0}class Gs{constructor(t,e){this.toDOM=t,this.spec=e||ui,this.side=this.spec.side||0}map(t,e,r,o){let{pos:c,deleted:d}=t.mapResult(e.from+o,this.side<0?-1:1);return d?null:new Qt(c-r,c-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Gs&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&hr(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Xn{constructor(t,e){this.attrs=t,this.spec=e||ui}map(t,e,r,o){let c=t.map(e.from+o,this.spec.inclusiveStart?-1:1)-r,d=t.map(e.to+o,this.spec.inclusiveEnd?1:-1)-r;return c>=d?null:new Qt(c,d,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof Xn&&hr(this.attrs,t.attrs)&&hr(this.spec,t.spec)}static is(t){return t.type instanceof Xn}destroy(){}}class Us{constructor(t,e){this.attrs=t,this.spec=e||ui}map(t,e,r,o){let c=t.mapResult(e.from+o,1);if(c.deleted)return null;let d=t.mapResult(e.to+o,-1);return d.deleted||d.pos<=c.pos?null:new Qt(c.pos-r,d.pos-r,this)}valid(t,e){let{index:r,offset:o}=t.content.findIndex(e.from),c;return o==e.from&&!(c=t.child(r)).isText&&o+c.nodeSize==e.to}eq(t){return this==t||t instanceof Us&&hr(this.attrs,t.attrs)&&hr(this.spec,t.spec)}destroy(){}}class Qt{constructor(t,e,r){this.from=t,this.to=e,this.type=r}copy(t,e){return new Qt(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,r){return this.type.map(t,this,e,r)}static widget(t,e,r){return new Qt(t,t,new Gs(e,r))}static inline(t,e,r,o){return new Qt(t,e,new Xn(r,o))}static node(t,e,r,o){return new Qt(t,e,new Us(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xn}}const Si=[],ui={};class xt{constructor(t,e){this.local=t.length?t:Si,this.children=e.length?e:Si}static create(t,e){return e.length?qr(e,t,0,ui):Dt}find(t,e,r){let o=[];return this.findInner(t==null?0:t,e==null?1e9:e,o,0,r),o}findInner(t,e,r,o,c){for(let d=0;d<this.local.length;d++){let p=this.local[d];p.from<=e&&p.to>=t&&(!c||c(p.spec))&&r.push(p.copy(p.from+o,p.to+o))}for(let d=0;d<this.children.length;d+=3)if(this.children[d]<e&&this.children[d+1]>t){let p=this.children[d]+1;this.children[d+2].findInner(t-p,e-p,r,o+p,c)}}map(t,e,r){return this==Dt||t.maps.length==0?this:this.mapInner(t,e,0,0,r||ui)}mapInner(t,e,r,o,c){let d;for(let p=0;p<this.local.length;p++){let m=this.local[p].map(t,r,o);m&&m.type.valid(e,m)?(d||(d=[])).push(m):c.onRemove&&c.onRemove(this.local[p].spec)}return this.children.length?Rd(this.children,d||[],t,e,r,o,c):d?new xt(d.sort(hi),Si):Dt}add(t,e){return e.length?this==Dt?xt.create(t,e):this.addInner(t,e,0):this}addInner(t,e,r){let o,c=0;t.forEach((p,m)=>{let b=m+r,x;if(!!(x=Xc(e,p,b))){for(o||(o=this.children.slice());c<o.length&&o[c]<m;)c+=3;o[c]==m?o[c+2]=o[c+2].addInner(p,x,b+1):o.splice(c,0,m,m+p.nodeSize,qr(x,p,b+1,ui)),c+=3}});let d=Yc(c?Wc(e):e,-r);for(let p=0;p<d.length;p++)d[p].type.valid(t,d[p])||d.splice(p--,1);return new xt(d.length?this.local.concat(d).sort(hi):this.local,o||this.children)}remove(t){return t.length==0||this==Dt?this:this.removeInner(t,0)}removeInner(t,e){let r=this.children,o=this.local;for(let c=0;c<r.length;c+=3){let d,p=r[c]+e,m=r[c+1]+e;for(let x=0,w;x<t.length;x++)(w=t[x])&&w.from>p&&w.to<m&&(t[x]=null,(d||(d=[])).push(w));if(!d)continue;r==this.children&&(r=this.children.slice());let b=r[c+2].removeInner(d,p+1);b!=Dt?r[c+2]=b:(r.splice(c,3),c-=3)}if(o.length){for(let c=0,d;c<t.length;c++)if(d=t[c])for(let p=0;p<o.length;p++)o[p].eq(d,e)&&(o==this.local&&(o=this.local.slice()),o.splice(p--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new xt(o,r):Dt}forChild(t,e){if(this==Dt)return this;if(e.isLeaf)return xt.empty;let r,o;for(let p=0;p<this.children.length;p+=3)if(this.children[p]>=t){this.children[p]==t&&(r=this.children[p+2]);break}let c=t+1,d=c+e.content.size;for(let p=0;p<this.local.length;p++){let m=this.local[p];if(m.from<d&&m.to>c&&m.type instanceof Xn){let b=Math.max(c,m.from)-c,x=Math.min(d,m.to)-c;b<x&&(o||(o=[])).push(m.copy(b,x))}}if(o){let p=new xt(o.sort(hi),Si);return r?new Rn([p,r]):p}return r||Dt}eq(t){if(this==t)return!0;if(!(t instanceof xt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return $s(this.localsInner(t))}localsInner(t){if(this==Dt)return Si;if(t.inlineContent||!this.local.some(Xn.is))return this.local;let e=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xn||e.push(this.local[r]);return e}}xt.empty=new xt([],[]);xt.removeOverlap=$s;const Dt=xt.empty;class Rn{constructor(t){this.members=t}map(t,e){const r=this.members.map(o=>o.map(t,e,ui));return Rn.from(r)}forChild(t,e){if(e.isLeaf)return xt.empty;let r=[];for(let o=0;o<this.members.length;o++){let c=this.members[o].forChild(t,e);c!=Dt&&(c instanceof Rn?r=r.concat(c.members):r.push(c))}return Rn.from(r)}eq(t){if(!(t instanceof Rn)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,r=!0;for(let o=0;o<this.members.length;o++){let c=this.members[o].localsInner(t);if(!!c.length)if(!e)e=c;else{r&&(e=e.slice(),r=!1);for(let d=0;d<c.length;d++)e.push(c[d])}}return e?$s(r?e:e.sort(hi)):Si}static from(t){switch(t.length){case 0:return Dt;case 1:return t[0];default:return new Rn(t.every(e=>e instanceof xt)?t:t.reduce((e,r)=>e.concat(r instanceof xt?r:r.members),[]))}}}function Rd(a,t,e,r,o,c,d){let p=a.slice();for(let b=0,x=c;b<e.maps.length;b++){let w=0;e.maps[b].forEach((k,A,T,P)=>{let I=P-T-(A-k);for(let N=0;N<p.length;N+=3){let E=p[N+1];if(E<0||k>E+x-w)continue;let F=p[N]+x-w;A>=F?p[N+1]=k<=F?-2:-1:T>=o&&I&&(p[N]+=I,p[N+1]+=I)}w+=I}),x=e.maps[b].map(x,-1)}let m=!1;for(let b=0;b<p.length;b+=3)if(p[b+1]<0){if(p[b+1]==-2){m=!0,p[b+1]=-1;continue}let x=e.map(a[b]+c),w=x-o;if(w<0||w>=r.content.size){m=!0;continue}let k=e.map(a[b+1]+c,-1),A=k-o,{index:T,offset:P}=r.content.findIndex(w),I=r.maybeChild(T);if(I&&P==w&&P+I.nodeSize==A){let N=p[b+2].mapInner(e,I,x+1,a[b]+c+1,d);N!=Dt?(p[b]=w,p[b+1]=A,p[b+2]=N):(p[b+1]=-2,m=!0)}else m=!0}if(m){let b=_d(p,a,t,e,o,c,d),x=qr(b,r,0,d);t=x.local;for(let w=0;w<p.length;w+=3)p[w+1]<0&&(p.splice(w,3),w-=3);for(let w=0,k=0;w<x.children.length;w+=3){let A=x.children[w];for(;k<p.length&&p[k]<A;)k+=3;p.splice(k,0,x.children[w],x.children[w+1],x.children[w+2])}}return new xt(t.sort(hi),p)}function Yc(a,t){if(!t||!a.length)return a;let e=[];for(let r=0;r<a.length;r++){let o=a[r];e.push(new Qt(o.from+t,o.to+t,o.type))}return e}function _d(a,t,e,r,o,c,d){function p(m,b){for(let x=0;x<m.local.length;x++){let w=m.local[x].map(r,o,b);w?e.push(w):d.onRemove&&d.onRemove(m.local[x].spec)}for(let x=0;x<m.children.length;x+=3)p(m.children[x+2],m.children[x]+b+1)}for(let m=0;m<a.length;m+=3)a[m+1]==-1&&p(a[m+2],t[m]+c+1);return e}function Xc(a,t,e){if(t.isLeaf)return null;let r=e+t.nodeSize,o=null;for(let c=0,d;c<a.length;c++)(d=a[c])&&d.from>e&&d.to<r&&((o||(o=[])).push(d),a[c]=null);return o}function Wc(a){let t=[];for(let e=0;e<a.length;e++)a[e]!=null&&t.push(a[e]);return t}function qr(a,t,e,r){let o=[],c=!1;t.forEach((p,m)=>{let b=Xc(a,p,m+e);if(b){c=!0;let x=qr(b,p,e+m+1,r);x!=Dt&&o.push(m,m+p.nodeSize,x)}});let d=Yc(c?Wc(a):a,-e).sort(hi);for(let p=0;p<d.length;p++)d[p].type.valid(t,d[p])||(r.onRemove&&r.onRemove(d[p].spec),d.splice(p--,1));return d.length||o.length?new xt(d,o):Dt}function hi(a,t){return a.from-t.from||a.to-t.to}function $s(a){let t=a;for(let e=0;e<t.length-1;e++){let r=t[e];if(r.from!=r.to)for(let o=e+1;o<t.length;o++){let c=t[o];if(c.from==r.from){c.to!=r.to&&(t==a&&(t=a.slice()),t[o]=c.copy(c.from,r.to),Zo(t,o+1,c.copy(r.to,c.to)));continue}else{c.from<r.to&&(t==a&&(t=a.slice()),t[e]=r.copy(r.from,c.from),Zo(t,o,r.copy(c.from,r.to)));break}}}return t}function Zo(a,t,e){for(;t<a.length&&hi(e,a[t])>0;)t++;a.splice(t,0,e)}function $a(a){let t=[];return a.someProp("decorations",e=>{let r=e(a.state);r&&r!=Dt&&t.push(r)}),a.cursorWrapper&&t.push(xt.create(a.state.doc,[a.cursorWrapper.deco])),Rn.from(t)}const zd={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Fd=Ut&&Hn<=11;class Bd{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Hd{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Bd,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Ut&&Hn<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),Fd&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,zd)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!Wo(this.view)){if(this.suppressingSelectionUpdates)return Tn(this.view);if(Ut&&Hn<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&fi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,r;for(let c=t.focusNode;c;c=cr(c))e.add(c);for(let c=t.anchorNode;c;c=cr(c))if(e.has(c)){r=c;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let r=t.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Wo(t)&&!this.ignoreSelectionChange(r),c=-1,d=-1,p=!1,m=[];if(t.editable)for(let x=0;x<e.length;x++){let w=this.registerMutation(e[x],m);w&&(c=c<0?w.from:Math.min(w.from,c),d=d<0?w.to:Math.max(w.to,d),w.typeOver&&(p=!0))}if(pn&&m.length>1){let x=m.filter(w=>w.nodeName=="BR");if(x.length==2){let w=x[0],k=x[1];w.parentNode&&w.parentNode.parentNode==k.parentNode?k.remove():w.remove()}}let b=null;c<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&ga(r)&&(b=Xs(t))&&b.eq(tt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Tn(t),this.currentSelection.set(r),t.scrollToSelection()):(c>-1||o)&&(c>-1&&(t.docView.markDirty(c,d),Yd(t)),this.handleDOMChange(c,d,p,m),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Tn(t),this.currentSelection.set(r))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let x=0;x<t.addedNodes.length;x++)e.push(t.addedNodes[x]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,c=t.nextSibling;if(Ut&&Hn<=11&&t.addedNodes.length)for(let x=0;x<t.addedNodes.length;x++){let{previousSibling:w,nextSibling:k}=t.addedNodes[x];(!w||Array.prototype.indexOf.call(t.addedNodes,w)<0)&&(o=w),(!k||Array.prototype.indexOf.call(t.addedNodes,k)<0)&&(c=k)}let d=o&&o.parentNode==t.target?on(o)+1:0,p=r.localPosFromDOM(t.target,d,-1),m=c&&c.parentNode==t.target?on(c):t.target.childNodes.length,b=r.localPosFromDOM(t.target,m,1);return{from:p,to:b}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let Jo=new WeakMap,Qo=!1;function Yd(a){if(!Jo.has(a)&&(Jo.set(a,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(a.dom).whiteSpace)!==-1)){if(a.requiresGeckoHackNode=pn,Qo)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Qo=!0}}function Xd(a){let t;function e(m){m.preventDefault(),m.stopImmediatePropagation(),t=m.getTargetRanges()[0]}a.dom.addEventListener("beforeinput",e,!0),document.execCommand("indent"),a.dom.removeEventListener("beforeinput",e,!0);let r=t.startContainer,o=t.startOffset,c=t.endContainer,d=t.endOffset,p=a.domAtPos(a.state.selection.anchor);return fi(p.node,p.offset,c,d)&&([r,o,c,d]=[c,d,r,o]),{anchorNode:r,anchorOffset:o,focusNode:c,focusOffset:d}}function Wd(a,t,e){let{node:r,fromOffset:o,toOffset:c,from:d,to:p}=a.docView.parseRange(t,e),m=a.domSelectionRange(),b,x=m.anchorNode;if(x&&a.dom.contains(x.nodeType==1?x:x.parentNode)&&(b=[{node:x,offset:m.anchorOffset}],ga(m)||b.push({node:m.focusNode,offset:m.focusOffset})),_t&&a.input.lastKeyCode===8)for(let I=c;I>o;I--){let N=r.childNodes[I-1],E=N.pmViewDesc;if(N.nodeName=="BR"&&!E){c=I;break}if(!E||E.size)break}let w=a.state.doc,k=a.someProp("domParser")||_i.fromSchema(a.state.schema),A=w.resolve(d),T=null,P=k.parse(r,{topNode:A.parent,topMatch:A.parent.contentMatchAt(A.index()),topOpen:!0,from:o,to:c,preserveWhitespace:A.parent.type.whitespace=="pre"?"full":!0,findPositions:b,ruleFromNode:jd,context:A});if(b&&b[0].pos!=null){let I=b[0].pos,N=b[1]&&b[1].pos;N==null&&(N=I),T={anchor:I+d,head:N+d}}return{doc:P,sel:T,from:d,to:p}}function jd(a){let t=a.pmViewDesc;if(t)return t.parseRule();if(a.nodeName=="BR"&&a.parentNode){if(Ht&&/^(ul|ol)$/i.test(a.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(a.parentNode.lastChild==a||Ht&&/^(tr|table)$/i.test(a.parentNode.nodeName))return{ignore:!0}}else if(a.nodeName=="IMG"&&a.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Vd=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function qd(a,t,e,r,o){if(t<0){let W=a.input.lastSelectionTime>Date.now()-50?a.input.lastSelectionOrigin:null,te=Xs(a,W);if(te&&!a.state.selection.eq(te)){if(_t&&hn&&a.input.lastKeyCode===13&&Date.now()-100<a.input.lastKeyCodeTime&&a.someProp("handleKeyDown",X=>X(a,ei(13,"Enter"))))return;let U=a.state.tr.setSelection(te);W=="pointer"?U.setMeta("pointer",!0):W=="key"&&U.scrollIntoView(),a.composing&&U.setMeta("composition",a.input.compositionID),a.dispatch(U)}return}let c=a.state.doc.resolve(t),d=c.sharedDepth(e);t=c.before(d+1),e=a.state.doc.resolve(e).after(d+1);let p=a.state.selection,m=Wd(a,t,e),b=a.state.doc,x=b.slice(m.from,m.to),w,k;a.input.lastKeyCode===8&&Date.now()-100<a.input.lastKeyCodeTime?(w=a.state.selection.to,k="end"):(w=a.state.selection.from,k="start"),a.input.lastKeyCode=null;let A=$d(x.content,m.doc.content,m.from,w,k);if((Bi&&a.input.lastIOSEnter>Date.now()-225||hn)&&o.some(W=>W.nodeType==1&&!Vd.test(W.nodeName))&&(!A||A.endA>=A.endB)&&a.someProp("handleKeyDown",W=>W(a,ei(13,"Enter")))){a.input.lastIOSEnter=0;return}if(!A)if(r&&p instanceof it&&!p.empty&&p.$head.sameParent(p.$anchor)&&!a.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))A={start:p.from,endA:p.to,endB:p.to};else{if(m.sel){let W=el(a,a.state.doc,m.sel);if(W&&!W.eq(a.state.selection)){let te=a.state.tr.setSelection(W);a.composing&&te.setMeta("composition",a.input.compositionID),a.dispatch(te)}}return}if(_t&&a.cursorWrapper&&m.sel&&m.sel.anchor==a.cursorWrapper.deco.from&&m.sel.head==m.sel.anchor){let W=A.endB-A.start;m.sel={anchor:m.sel.anchor+W,head:m.sel.anchor+W}}a.input.domChangeCount++,a.state.selection.from<a.state.selection.to&&A.start==A.endB&&a.state.selection instanceof it&&(A.start>a.state.selection.from&&A.start<=a.state.selection.from+2&&a.state.selection.from>=m.from?A.start=a.state.selection.from:A.endA<a.state.selection.to&&A.endA>=a.state.selection.to-2&&a.state.selection.to<=m.to&&(A.endB+=a.state.selection.to-A.endA,A.endA=a.state.selection.to)),Ut&&Hn<=11&&A.endB==A.start+1&&A.endA==A.start&&A.start>m.from&&m.doc.textBetween(A.start-m.from-1,A.start-m.from+1)==" \xA0"&&(A.start--,A.endA--,A.endB--);let T=m.doc.resolveNoCache(A.start-m.from),P=m.doc.resolveNoCache(A.endB-m.from),I=b.resolve(A.start),N=T.sameParent(P)&&T.parent.inlineContent&&I.end()>=A.endA,E;if((Bi&&a.input.lastIOSEnter>Date.now()-225&&(!N||o.some(W=>W.nodeName=="DIV"||W.nodeName=="P"))||!N&&T.pos<m.doc.content.size&&(E=tt.findFrom(m.doc.resolve(T.pos+1),1,!0))&&E.head==P.pos)&&a.someProp("handleKeyDown",W=>W(a,ei(13,"Enter")))){a.input.lastIOSEnter=0;return}if(a.state.selection.anchor>A.start&&Ud(b,A.start,A.endA,T,P)&&a.someProp("handleKeyDown",W=>W(a,ei(8,"Backspace")))){hn&&_t&&a.domObserver.suppressSelectionUpdates();return}_t&&hn&&A.endB==A.start&&(a.input.lastAndroidDelete=Date.now()),hn&&!N&&T.start()!=P.start()&&P.parentOffset==0&&T.depth==P.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==A.endA&&(A.endB-=2,P=m.doc.resolveNoCache(A.endB-m.from),setTimeout(()=>{a.someProp("handleKeyDown",function(W){return W(a,ei(13,"Enter"))})},20));let F=A.start,D=A.endA,R,G,q;if(N){if(T.pos==P.pos)Ut&&Hn<=11&&T.parentOffset==0&&(a.domObserver.suppressSelectionUpdates(),setTimeout(()=>Tn(a),20)),R=a.state.tr.delete(F,D),G=b.resolve(A.start).marksAcross(b.resolve(A.endA));else if(A.endA==A.endB&&(q=Gd(T.parent.content.cut(T.parentOffset,P.parentOffset),I.parent.content.cut(I.parentOffset,A.endA-I.start()))))R=a.state.tr,q.type=="add"?R.addMark(F,D,q.mark):R.removeMark(F,D,q.mark);else if(T.parent.child(T.index()).isText&&T.index()==P.index()-(P.textOffset?0:1)){let W=T.parent.textBetween(T.parentOffset,P.parentOffset);if(a.someProp("handleTextInput",te=>te(a,F,D,W)))return;R=a.state.tr.insertText(W,F,D)}}if(R||(R=a.state.tr.replace(F,D,m.doc.slice(A.start-m.from,A.endB-m.from))),m.sel){let W=el(a,R.doc,m.sel);W&&!(_t&&hn&&a.composing&&W.empty&&(A.start!=A.endB||a.input.lastAndroidDelete<Date.now()-100)&&(W.head==F||W.head==R.mapping.map(D)-1)||Ut&&W.empty&&W.head==F)&&R.setSelection(W)}G&&R.ensureMarks(G),a.composing&&R.setMeta("composition",a.input.compositionID),a.dispatch(R.scrollIntoView())}function el(a,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:Ws(a,t.resolve(e.anchor),t.resolve(e.head))}function Gd(a,t){let e=a.firstChild.marks,r=t.firstChild.marks,o=e,c=r,d,p,m;for(let x=0;x<r.length;x++)o=r[x].removeFromSet(o);for(let x=0;x<e.length;x++)c=e[x].removeFromSet(c);if(o.length==1&&c.length==0)p=o[0],d="add",m=x=>x.mark(p.addToSet(x.marks));else if(o.length==0&&c.length==1)p=c[0],d="remove",m=x=>x.mark(p.removeFromSet(x.marks));else return null;let b=[];for(let x=0;x<t.childCount;x++)b.push(m(t.child(x)));if(Pe.from(b).eq(a))return{mark:p,type:d}}function Ud(a,t,e,r,o){if(!r.parent.isTextblock||e-t<=o.pos-r.pos||Ka(r,!0,!1)<o.pos)return!1;let c=a.resolve(t);if(c.parentOffset<c.parent.content.size||!c.parent.isTextblock)return!1;let d=a.resolve(Ka(c,!0,!0));return!d.parent.isTextblock||d.pos>e||Ka(d,!0,!1)<e?!1:r.parent.content.cut(r.parentOffset).eq(d.parent.content)}function Ka(a,t,e){let r=a.depth,o=t?a.end():a.pos;for(;r>0&&(t||a.indexAfter(r)==a.node(r).childCount);)r--,o++,t=!1;if(e){let c=a.node(r).maybeChild(a.indexAfter(r));for(;c&&!c.isLeaf;)c=c.firstChild,o++}return o}function $d(a,t,e,r,o){let c=a.findDiffStart(t,e);if(c==null)return null;let{a:d,b:p}=a.findDiffEnd(t,e+a.size,e+t.size);if(o=="end"){let m=Math.max(0,c-Math.min(d,p));r-=d+m-c}if(d<c&&a.size<t.size){let m=r<=c&&r>=d?c-r:0;c-=m,p=c+(p-d),d=c}else if(p<c){let m=r<=c&&r>=p?c-r:0;c-=m,d=c+(d-p),p=c}return{start:c,endA:d,endB:p}}class Kd{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new md,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(al),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=il(this),nl(this),this.nodeViews=rl(this),this.docView=zo(this.state.doc,tl(this),$a(this),this.dom,this),this.domObserver=new Hd(this,(r,o,c,d)=>qd(this,r,o,c,d)),this.domObserver.start(),yd(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Cs(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(al),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let r in this._props)e[r]=this._props[r];e.state=this.state;for(let r in t)e[r]=t[r];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){let r=this.state,o=!1,c=!1;t.storedMarks&&this.composing&&(Bc(this),c=!0),this.state=t;let d=r.plugins!=t.plugins||this._props.plugins!=e.plugins;if(d||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let k=rl(this);Jd(k,this.nodeViews)&&(this.nodeViews=k,o=!0)}(d||e.handleDOMEvents!=this._props.handleDOMEvents)&&Cs(this),this.editable=il(this),nl(this);let p=$a(this),m=tl(this),b=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",x=o||!this.docView.matchesNode(t.doc,m,p);(x||!t.selection.eq(r.selection))&&(c=!0);let w=b=="preserve"&&c&&this.dom.style.overflowAnchor==null&&Ih(this);if(c){this.domObserver.stop();let k=x&&(Ut||_t)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&Zd(r.selection,t.selection);if(x){let A=_t?this.trackWrites=this.domSelectionRange().focusNode:null;(o||!this.docView.update(t.doc,m,p,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=zo(t.doc,m,p,this.dom,this)),A&&!this.trackWrites&&(k=!0)}k||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ad(this))?Tn(this,k):(Cc(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),b=="reset"?this.dom.scrollTop=0:b=="to selection"?this.scrollToSelection():w&&Rh(w)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof Ve){let e=this.docView.domAfterPos(this.state.selection.from);e.nodeType==1&&Lo(this,e.getBoundingClientRect(),t)}else Lo(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let r=this.directPlugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let r=this.state.plugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let e=0;e<this.pluginViews.length;e++){let r=this.pluginViews[e];r.update&&r.update(this,t)}}someProp(t,e){let r=this._props&&this._props[t],o;if(r!=null&&(o=e?e(r):r))return o;for(let d=0;d<this.directPlugins.length;d++){let p=this.directPlugins[d].props[t];if(p!=null&&(o=e?e(p):p))return o}let c=this.state.plugins;if(c)for(let d=0;d<c.length;d++){let p=c[d].props[t];if(p!=null&&(o=e?e(p):p))return o}}hasFocus(){if(Ut){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&_h(this.dom),Tn(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return t||document}posAtCoords(t){return Yh(this,t)}coordsAtPos(t,e=1){return yc(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,r=-1){let o=this.docView.posFromDOM(t,e,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(t,e){return qh(this,e||this.state,t)}pasteHTML(t,e){return ur(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return ur(this,t,null,!0,e||new ClipboardEvent("paste"))}destroy(){!this.docView||(vd(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$a(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(t){return bd(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){return Ht&&this.root.nodeType===11&&Oh(this.dom.ownerDocument)==this.dom?Xd(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function tl(a){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(a.editable),a.someProp("attributes",e=>{if(typeof e=="function"&&(e=e(a.state)),e)for(let r in e)r=="class"?t.class+=" "+e[r]:r=="style"?t.style=(t.style?t.style+";":"")+e[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(e[r]))}),t.translate||(t.translate="no"),[Qt.node(0,a.state.doc.content.size,t)]}function nl(a){if(a.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),a.cursorWrapper={dom:t,deco:Qt.widget(a.state.selection.head,t,{raw:!0,marks:a.markCursor})}}else a.cursorWrapper=null}function il(a){return!a.someProp("editable",t=>t(a.state)===!1)}function Zd(a,t){let e=Math.min(a.$anchor.sharedDepth(a.head),t.$anchor.sharedDepth(t.head));return a.$anchor.start(e)!=t.$anchor.start(e)}function rl(a){let t=Object.create(null);function e(r){for(let o in r)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=r[o])}return a.someProp("nodeViews",e),a.someProp("markViews",e),t}function Jd(a,t){let e=0,r=0;for(let o in a){if(a[o]!=t[o])return!0;e++}for(let o in t)r++;return e!=r}function al(a){if(a.spec.state||a.spec.filterTransaction||a.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var jn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Gr={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},sl=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);var Qd=typeof navigator<"u"&&/Mac/.test(navigator.platform),ef=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),tf=Qd||sl&&+sl[1]<57;for(var Lt=0;Lt<10;Lt++)jn[48+Lt]=jn[96+Lt]=String(Lt);for(var Lt=1;Lt<=24;Lt++)jn[Lt+111]="F"+Lt;for(var Lt=65;Lt<=90;Lt++)jn[Lt]=String.fromCharCode(Lt+32),Gr[Lt]=String.fromCharCode(Lt);for(var Za in jn)Gr.hasOwnProperty(Za)||(Gr[Za]=jn[Za]);function nf(a){var t=tf&&(a.ctrlKey||a.altKey||a.metaKey)||ef&&a.shiftKey&&a.key&&a.key.length==1||a.key=="Unidentified",e=!t&&a.key||(a.shiftKey?Gr:jn)[a.keyCode]||a.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}const rf=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function af(a){let t=a.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let r,o,c,d;for(let p=0;p<t.length-1;p++){let m=t[p];if(/^(cmd|meta|m)$/i.test(m))d=!0;else if(/^a(lt)?$/i.test(m))r=!0;else if(/^(c|ctrl|control)$/i.test(m))o=!0;else if(/^s(hift)?$/i.test(m))c=!0;else if(/^mod$/i.test(m))rf?d=!0:o=!0;else throw new Error("Unrecognized modifier name: "+m)}return r&&(e="Alt-"+e),o&&(e="Ctrl-"+e),d&&(e="Meta-"+e),c&&(e="Shift-"+e),e}function sf(a){let t=Object.create(null);for(let e in a)t[af(e)]=a[e];return t}function Ja(a,t,e=!0){return t.altKey&&(a="Alt-"+a),t.ctrlKey&&(a="Ctrl-"+a),t.metaKey&&(a="Meta-"+a),e&&t.shiftKey&&(a="Shift-"+a),a}function of(a){return new zt({props:{handleKeyDown:jc(a)}})}function jc(a){let t=sf(a);return function(e,r){let o=nf(r),c,d=t[Ja(o,r)];if(d&&d(e.state,e.dispatch,e))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let p=t[Ja(o,r,!1)];if(p&&p(e.state,e.dispatch,e))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(c=jn[r.keyCode])&&c!=o){let p=t[Ja(c,r)];if(p&&p(e.state,e.dispatch,e))return!0}}return!1}}const lf=(a,t)=>a.selection.empty?!1:(t&&t(a.tr.deleteSelection().scrollIntoView()),!0);function cf(a,t){let{$cursor:e}=a.selection;return!e||(t?!t.endOfTextblock("backward",a):e.parentOffset>0)?null:e}const uf=(a,t,e)=>{let r=cf(a,e);if(!r)return!1;let o=Vc(r);if(!o){let d=r.blockRange(),p=d&&ji(d);return p==null?!1:(t&&t(a.tr.lift(d,p).scrollIntoView()),!0)}let c=o.nodeBefore;if(!c.type.spec.isolating&&Uc(a,o,t))return!0;if(r.parent.content.size==0&&(Yi(c,"end")||Ve.isSelectable(c))){let d=Bs(a.doc,r.before(),r.after(),Fe.empty);if(d&&d.slice.size<d.to-d.from){if(t){let p=a.tr.step(d);p.setSelection(Yi(c,"end")?tt.findFrom(p.doc.resolve(p.mapping.map(o.pos,-1)),-1):Ve.create(p.doc,o.pos-c.nodeSize)),t(p.scrollIntoView())}return!0}}return c.isAtom&&o.depth==r.depth-1?(t&&t(a.tr.delete(o.pos-c.nodeSize,o.pos).scrollIntoView()),!0):!1};function Yi(a,t,e=!1){for(let r=a;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(e&&r.childCount!=1)return!1}return!1}const hf=(a,t,e)=>{let{$head:r,empty:o}=a.selection,c=r;if(!o)return!1;if(r.parent.isTextblock){if(e?!e.endOfTextblock("backward",a):r.parentOffset>0)return!1;c=Vc(r)}let d=c&&c.nodeBefore;return!d||!Ve.isSelectable(d)?!1:(t&&t(a.tr.setSelection(Ve.create(a.doc,c.pos-d.nodeSize)).scrollIntoView()),!0)};function Vc(a){if(!a.parent.type.spec.isolating)for(let t=a.depth-1;t>=0;t--){if(a.index(t)>0)return a.doc.resolve(a.before(t+1));if(a.node(t).type.spec.isolating)break}return null}function df(a,t){let{$cursor:e}=a.selection;return!e||(t?!t.endOfTextblock("forward",a):e.parentOffset<e.parent.content.size)?null:e}const ff=(a,t,e)=>{let r=df(a,e);if(!r)return!1;let o=qc(r);if(!o)return!1;let c=o.nodeAfter;if(Uc(a,o,t))return!0;if(r.parent.content.size==0&&(Yi(c,"start")||Ve.isSelectable(c))){let d=Bs(a.doc,r.before(),r.after(),Fe.empty);if(d&&d.slice.size<d.to-d.from){if(t){let p=a.tr.step(d);p.setSelection(Yi(c,"start")?tt.findFrom(p.doc.resolve(p.mapping.map(o.pos)),1):Ve.create(p.doc,p.mapping.map(o.pos))),t(p.scrollIntoView())}return!0}}return c.isAtom&&o.depth==r.depth-1?(t&&t(a.tr.delete(o.pos,o.pos+c.nodeSize).scrollIntoView()),!0):!1},pf=(a,t,e)=>{let{$head:r,empty:o}=a.selection,c=r;if(!o)return!1;if(r.parent.isTextblock){if(e?!e.endOfTextblock("forward",a):r.parentOffset<r.parent.content.size)return!1;c=qc(r)}let d=c&&c.nodeAfter;return!d||!Ve.isSelectable(d)?!1:(t&&t(a.tr.setSelection(Ve.create(a.doc,c.pos)).scrollIntoView()),!0)};function qc(a){if(!a.parent.type.spec.isolating)for(let t=a.depth-1;t>=0;t--){let e=a.node(t);if(a.index(t)+1<e.childCount)return a.doc.resolve(a.after(t+1));if(e.type.spec.isolating)break}return null}const gf=(a,t)=>{let e=a.selection,r=e instanceof Ve,o;if(r){if(e.node.isTextblock||!Vn(a.doc,e.from))return!1;o=e.from}else if(o=ic(a.doc,e.from,-1),o==null)return!1;if(t){let c=a.tr.join(o);r&&c.setSelection(Ve.create(c.doc,o-a.doc.resolve(o).nodeBefore.nodeSize)),t(c.scrollIntoView())}return!0},mf=(a,t)=>{let e=a.selection,r;if(e instanceof Ve){if(e.node.isTextblock||!Vn(a.doc,e.to))return!1;r=e.to}else if(r=ic(a.doc,e.to,1),r==null)return!1;return t&&t(a.tr.join(r).scrollIntoView()),!0},yf=(a,t)=>{let{$from:e,$to:r}=a.selection,o=e.blockRange(r),c=o&&ji(o);return c==null?!1:(t&&t(a.tr.lift(o,c).scrollIntoView()),!0)},vf=(a,t)=>{let{$head:e,$anchor:r}=a.selection;return!e.parent.type.spec.code||!e.sameParent(r)?!1:(t&&t(a.tr.insertText(`
`).scrollIntoView()),!0)};function Gc(a){for(let t=0;t<a.edgeCount;t++){let{type:e}=a.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const xf=(a,t)=>{let{$head:e,$anchor:r}=a.selection;if(!e.parent.type.spec.code||!e.sameParent(r))return!1;let o=e.node(-1),c=e.indexAfter(-1),d=Gc(o.contentMatchAt(c));if(!d||!o.canReplaceWith(c,c,d))return!1;if(t){let p=e.after(),m=a.tr.replaceWith(p,p,d.createAndFill());m.setSelection(tt.near(m.doc.resolve(p),1)),t(m.scrollIntoView())}return!0},bf=(a,t)=>{let e=a.selection,{$from:r,$to:o}=e;if(e instanceof fn||r.parent.inlineContent||o.parent.inlineContent)return!1;let c=Gc(o.parent.contentMatchAt(o.indexAfter()));if(!c||!c.isTextblock)return!1;if(t){let d=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,p=a.tr.insert(d,c.createAndFill());p.setSelection(it.create(p.doc,d+1)),t(p.scrollIntoView())}return!0},wf=(a,t)=>{let{$cursor:e}=a.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let c=e.before();if(Di(a.doc,c))return t&&t(a.tr.split(c).scrollIntoView()),!0}let r=e.blockRange(),o=r&&ji(r);return o==null?!1:(t&&t(a.tr.lift(r,o).scrollIntoView()),!0)},kf=(a,t)=>{let{$from:e,to:r}=a.selection,o,c=e.sharedDepth(r);return c==0?!1:(o=e.before(c),t&&t(a.tr.setSelection(Ve.create(a.doc,o))),!0)};function Sf(a,t,e){let r=t.nodeBefore,o=t.nodeAfter,c=t.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&t.parent.canReplace(c-1,c)?(e&&e(a.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(c,c+1)||!(o.isTextblock||Vn(a.doc,t.pos))?!1:(e&&e(a.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0)}function Uc(a,t,e){let r=t.nodeBefore,o=t.nodeAfter,c,d;if(r.type.spec.isolating||o.type.spec.isolating)return!1;if(Sf(a,t,e))return!0;let p=t.parent.canReplace(t.index(),t.index()+1);if(p&&(c=(d=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&d.matchType(c[0]||o.type).validEnd){if(e){let w=t.pos+o.nodeSize,k=Pe.empty;for(let P=c.length-1;P>=0;P--)k=Pe.from(c[P].create(null,k));k=Pe.from(r.copy(k));let A=a.tr.step(new Ct(t.pos-1,w,t.pos,w,new Fe(k,1,0),c.length,!0)),T=w+2*c.length;Vn(A.doc,T)&&A.join(T),e(A.scrollIntoView())}return!0}let m=tt.findFrom(t,1),b=m&&m.$from.blockRange(m.$to),x=b&&ji(b);if(x!=null&&x>=t.depth)return e&&e(a.tr.lift(b,x).scrollIntoView()),!0;if(p&&Yi(o,"start",!0)&&Yi(r,"end")){let w=r,k=[];for(;k.push(w),!w.isTextblock;)w=w.lastChild;let A=o,T=1;for(;!A.isTextblock;A=A.firstChild)T++;if(w.canReplace(w.childCount,w.childCount,A.content)){if(e){let P=Pe.empty;for(let N=k.length-1;N>=0;N--)P=Pe.from(k[N].copy(P));let I=a.tr.step(new Ct(t.pos-k.length,t.pos+o.nodeSize,t.pos+T,t.pos+o.nodeSize-T,new Fe(P,k.length,0),0,!0));e(I.scrollIntoView())}return!0}}return!1}function $c(a){return function(t,e){let r=t.selection,o=a<0?r.$from:r.$to,c=o.depth;for(;o.node(c).isInline;){if(!c)return!1;c--}return o.node(c).isTextblock?(e&&e(t.tr.setSelection(it.create(t.doc,a<0?o.start(c):o.end(c)))),!0):!1}}const Af=$c(-1),Cf=$c(1);function Ef(a,t=null){return function(e,r){let{$from:o,$to:c}=e.selection,d=o.blockRange(c),p=d&&Fs(d,a,t);return p?(r&&r(e.tr.wrap(d,p).scrollIntoView()),!0):!1}}function ol(a,t=null){return function(e,r){let o=!1;for(let c=0;c<e.selection.ranges.length&&!o;c++){let{$from:{pos:d},$to:{pos:p}}=e.selection.ranges[c];e.doc.nodesBetween(d,p,(m,b)=>{if(o)return!1;if(!(!m.isTextblock||m.hasMarkup(a,t)))if(m.type==a)o=!0;else{let x=e.doc.resolve(b),w=x.index();o=x.parent.canReplaceWith(w,w+1,a)}})}if(!o)return!1;if(r){let c=e.tr;for(let d=0;d<e.selection.ranges.length;d++){let{$from:{pos:p},$to:{pos:m}}=e.selection.ranges[d];c.setBlockType(p,m,a,t)}r(c.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Of(a,t=null){return function(e,r){let{$from:o,$to:c}=e.selection,d=o.blockRange(c),p=!1,m=d;if(!d)return!1;if(d.depth>=2&&o.node(d.depth-1).type.compatibleContent(a)&&d.startIndex==0){if(o.index(d.depth-1)==0)return!1;let x=e.doc.resolve(d.start-2);m=new Br(x,x,d.depth),d.endIndex<d.parent.childCount&&(d=new Br(o,e.doc.resolve(c.end(d.depth)),d.depth)),p=!0}let b=Fs(m,a,t,d);return b?(r&&r(Mf(e.tr,d,b,p,a).scrollIntoView()),!0):!1}}function Mf(a,t,e,r,o){let c=Pe.empty;for(let x=e.length-1;x>=0;x--)c=Pe.from(e[x].type.create(e[x].attrs,c));a.step(new Ct(t.start-(r?2:0),t.end,t.start,t.end,new Fe(c,0,0),e.length,!0));let d=0;for(let x=0;x<e.length;x++)e[x].type==o&&(d=x+1);let p=e.length-d,m=t.start+e.length-(r?2:0),b=t.parent;for(let x=t.startIndex,w=t.endIndex,k=!0;x<w;x++,k=!1)!k&&Di(a.doc,m,p)&&(a.split(m,p),m+=2*p),m+=b.child(x).nodeSize;return a}function Tf(a){return function(t,e){let{$from:r,$to:o}=t.selection,c=r.blockRange(o,d=>d.childCount>0&&d.firstChild.type==a);return c?e?r.node(c.depth-1).type==a?Pf(t,e,a,c):Lf(t,e,c):!0:!1}}function Pf(a,t,e,r){let o=a.tr,c=r.end,d=r.$to.end(r.depth);c<d&&(o.step(new Ct(c-1,d,c,d,new Fe(Pe.from(e.create(null,r.parent.copy())),1,0),1,!0)),r=new Br(o.doc.resolve(r.$from.pos),o.doc.resolve(d),r.depth));const p=ji(r);if(p==null)return!1;o.lift(r,p);let m=o.mapping.map(c,-1)-1;return Vn(o.doc,m)&&o.join(m),t(o.scrollIntoView()),!0}function Lf(a,t,e){let r=a.tr,o=e.parent;for(let A=e.end,T=e.endIndex-1,P=e.startIndex;T>P;T--)A-=o.child(T).nodeSize,r.delete(A-1,A+1);let c=r.doc.resolve(e.start),d=c.nodeAfter;if(r.mapping.map(e.end)!=e.start+c.nodeAfter.nodeSize)return!1;let p=e.startIndex==0,m=e.endIndex==o.childCount,b=c.node(-1),x=c.index(-1);if(!b.canReplace(x+(p?0:1),x+1,d.content.append(m?Pe.empty:Pe.from(o))))return!1;let w=c.pos,k=w+d.nodeSize;return r.step(new Ct(w-(p?1:0),k+(m?1:0),w+1,k-1,new Fe((p?Pe.empty:Pe.from(o.copy(Pe.empty))).append(m?Pe.empty:Pe.from(o.copy(Pe.empty))),p?0:1,m?0:1),p?0:1)),t(r.scrollIntoView()),!0}function Nf(a){return function(t,e){let{$from:r,$to:o}=t.selection,c=r.blockRange(o,b=>b.childCount>0&&b.firstChild.type==a);if(!c)return!1;let d=c.startIndex;if(d==0)return!1;let p=c.parent,m=p.child(d-1);if(m.type!=a)return!1;if(e){let b=m.lastChild&&m.lastChild.type==p.type,x=Pe.from(b?a.create():null),w=new Fe(Pe.from(a.create(null,Pe.from(p.type.create(null,x)))),b?3:1,0),k=c.start,A=c.end;e(t.tr.step(new Ct(k-(b?3:1),A,k,A,w,1,!0)).scrollIntoView())}return!0}}function xa(a){const{state:t,transaction:e}=a;let{selection:r}=e,{doc:o}=e,{storedMarks:c}=e;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return c},get selection(){return r},get doc(){return o},get tr(){return r=e.selection,o=e.doc,c=e.storedMarks,e}}}class ba{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:o}=e,{tr:c}=r,d=this.buildProps(c);return Object.fromEntries(Object.entries(t).map(([p,m])=>[p,(...x)=>{const w=m(...x)(d);return!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),w}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:o,state:c}=this,{view:d}=o,p=[],m=!!t,b=t||c.tr,x=()=>(!m&&e&&!b.getMeta("preventDispatch")&&!this.hasCustomState&&d.dispatch(b),p.every(k=>k===!0)),w={...Object.fromEntries(Object.entries(r).map(([k,A])=>[k,(...P)=>{const I=this.buildProps(b,e),N=A(...P)(I);return p.push(N),w}])),run:x};return w}createCan(t){const{rawCommands:e,state:r}=this,o=!1,c=t||r.tr,d=this.buildProps(c,o);return{...Object.fromEntries(Object.entries(e).map(([m,b])=>[m,(...x)=>b(...x)({...d,dispatch:void 0})])),chain:()=>this.createChain(c,o)}}buildProps(t,e=!0){const{rawCommands:r,editor:o,state:c}=this,{view:d}=o;c.storedMarks&&t.setStoredMarks(c.storedMarks);const p={tr:t,editor:o,view:d,state:xa({state:c,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([m,b])=>[m,(...x)=>b(...x)(p)]))}};return p}}class Df{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const r=this.callbacks[t];return r&&r.forEach(o=>o.apply(this,e)),this}off(t,e){const r=this.callbacks[t];return r&&(e?this.callbacks[t]=r.filter(o=>o!==e):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function Ye(a,t,e){return a.config[t]===void 0&&a.parent?Ye(a.parent,t,e):typeof a.config[t]=="function"?a.config[t].bind({...e,parent:a.parent?Ye(a.parent,t,e):null}):a.config[t]}function wa(a){const t=a.filter(o=>o.type==="extension"),e=a.filter(o=>o.type==="node"),r=a.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:e,markExtensions:r}}function Kc(a){const t=[],{nodeExtensions:e,markExtensions:r}=wa(a),o=[...e,...r],c={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return a.forEach(d=>{const p={name:d.name,options:d.options,storage:d.storage},m=Ye(d,"addGlobalAttributes",p);if(!m)return;m().forEach(x=>{x.types.forEach(w=>{Object.entries(x.attributes).forEach(([k,A])=>{t.push({type:w,name:k,attribute:{...c,...A}})})})})}),o.forEach(d=>{const p={name:d.name,options:d.options,storage:d.storage},m=Ye(d,"addAttributes",p);if(!m)return;const b=m();Object.entries(b).forEach(([x,w])=>{const k={...c,...w};typeof(k==null?void 0:k.default)=="function"&&(k.default=k.default()),(k==null?void 0:k.isRequired)&&(k==null?void 0:k.default)===void 0&&delete k.default,t.push({type:d.name,name:x,attribute:k})})}),t}function Ot(a,t){if(typeof a=="string"){if(!t.nodes[a])throw Error(`There is no node type named '${a}'. Maybe you forgot to add the extension?`);return t.nodes[a]}return a}function gt(...a){return a.filter(t=>!!t).reduce((t,e)=>{const r={...t};return Object.entries(e).forEach(([o,c])=>{if(!r[o]){r[o]=c;return}o==="class"?r[o]=[r[o],c].join(" "):o==="style"?r[o]=[r[o],c].join("; "):r[o]=c}),r},{})}function Es(a,t){return t.filter(e=>e.attribute.rendered).map(e=>e.attribute.renderHTML?e.attribute.renderHTML(a.attrs)||{}:{[e.name]:a.attrs[e.name]}).reduce((e,r)=>gt(e,r),{})}function Zc(a){return typeof a=="function"}function et(a,t=void 0,...e){return Zc(a)?t?a.bind(t)(...e):a(...e):a}function If(a={}){return Object.keys(a).length===0&&a.constructor===Object}function Rf(a){return typeof a!="string"?a:a.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(a):a==="true"?!0:a==="false"?!1:a}function ll(a,t){return a.style?a:{...a,getAttrs:e=>{const r=a.getAttrs?a.getAttrs(e):a.attrs;if(r===!1)return!1;const o=t.reduce((c,d)=>{const p=d.attribute.parseHTML?d.attribute.parseHTML(e):Rf(e.getAttribute(d.name));return p==null?c:{...c,[d.name]:p}},{});return{...r,...o}}}}function cl(a){return Object.fromEntries(Object.entries(a).filter(([t,e])=>t==="attrs"&&If(e)?!1:e!=null))}function _f(a,t){var e;const r=Kc(a),{nodeExtensions:o,markExtensions:c}=wa(a),d=(e=o.find(b=>Ye(b,"topNode")))===null||e===void 0?void 0:e.name,p=Object.fromEntries(o.map(b=>{const x=r.filter(N=>N.type===b.name),w={name:b.name,options:b.options,storage:b.storage,editor:t},k=a.reduce((N,E)=>{const F=Ye(E,"extendNodeSchema",w);return{...N,...F?F(b):{}}},{}),A=cl({...k,content:et(Ye(b,"content",w)),marks:et(Ye(b,"marks",w)),group:et(Ye(b,"group",w)),inline:et(Ye(b,"inline",w)),atom:et(Ye(b,"atom",w)),selectable:et(Ye(b,"selectable",w)),draggable:et(Ye(b,"draggable",w)),code:et(Ye(b,"code",w)),defining:et(Ye(b,"defining",w)),isolating:et(Ye(b,"isolating",w)),attrs:Object.fromEntries(x.map(N=>{var E;return[N.name,{default:(E=N==null?void 0:N.attribute)===null||E===void 0?void 0:E.default}]}))}),T=et(Ye(b,"parseHTML",w));T&&(A.parseDOM=T.map(N=>ll(N,x)));const P=Ye(b,"renderHTML",w);P&&(A.toDOM=N=>P({node:N,HTMLAttributes:Es(N,x)}));const I=Ye(b,"renderText",w);return I&&(A.toText=I),[b.name,A]})),m=Object.fromEntries(c.map(b=>{const x=r.filter(I=>I.type===b.name),w={name:b.name,options:b.options,storage:b.storage,editor:t},k=a.reduce((I,N)=>{const E=Ye(N,"extendMarkSchema",w);return{...I,...E?E(b):{}}},{}),A=cl({...k,inclusive:et(Ye(b,"inclusive",w)),excludes:et(Ye(b,"excludes",w)),group:et(Ye(b,"group",w)),spanning:et(Ye(b,"spanning",w)),code:et(Ye(b,"code",w)),attrs:Object.fromEntries(x.map(I=>{var N;return[I.name,{default:(N=I==null?void 0:I.attribute)===null||N===void 0?void 0:N.default}]}))}),T=et(Ye(b,"parseHTML",w));T&&(A.parseDOM=T.map(I=>ll(I,x)));const P=Ye(b,"renderHTML",w);return P&&(A.toDOM=I=>P({mark:I,HTMLAttributes:Es(I,x)})),[b.name,A]}));return new Vu({topNode:d,nodes:p,marks:m})}function Qa(a,t){return t.nodes[a]||t.marks[a]||null}function ul(a,t){return Array.isArray(t)?t.some(e=>(typeof e=="string"?e:e.name)===a.name):t}const zf=(a,t=500)=>{let e="";const r=a.parentOffset;return a.parent.nodesBetween(Math.max(0,r-t),r,(o,c,d,p)=>{var m,b;const x=((b=(m=o.type.spec).toText)===null||b===void 0?void 0:b.call(m,{node:o,pos:c,parent:d,index:p}))||o.textContent||"%leaf%";e+=x.slice(0,Math.max(0,r-c))}),e};function Ks(a){return Object.prototype.toString.call(a)==="[object RegExp]"}class ka{constructor(t){this.find=t.find,this.handler=t.handler}}const Ff=(a,t)=>{if(Ks(t))return t.exec(a);const e=t(a);if(!e)return null;const r=[e.text];return r.index=e.index,r.input=a,r.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(e.replaceWith)),r};function es(a){var t;const{editor:e,from:r,to:o,text:c,rules:d,plugin:p}=a,{view:m}=e;if(m.composing)return!1;const b=m.state.doc.resolve(r);if(b.parent.type.spec.code||!!(!((t=b.nodeBefore||b.nodeAfter)===null||t===void 0)&&t.marks.find(k=>k.type.spec.code)))return!1;let x=!1;const w=zf(b)+c;return d.forEach(k=>{if(x)return;const A=Ff(w,k.find);if(!A)return;const T=m.state.tr,P=xa({state:m.state,transaction:T}),I={from:r-(A[0].length-c.length),to:o},{commands:N,chain:E,can:F}=new ba({editor:e,state:P});k.handler({state:P,range:I,match:A,commands:N,chain:E,can:F})===null||!T.steps.length||(T.setMeta(p,{transform:T,from:r,to:o,text:c}),m.dispatch(T),x=!0)}),x}function Bf(a){const{editor:t,rules:e}=a,r=new zt({state:{init(){return null},apply(o,c){const d=o.getMeta(r);return d||(o.selectionSet||o.docChanged?null:c)}},props:{handleTextInput(o,c,d,p){return es({editor:t,from:c,to:d,text:p,rules:e,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:c}=o.state.selection;c&&es({editor:t,from:c.pos,to:c.pos,text:"",rules:e,plugin:r})}),!1)},handleKeyDown(o,c){if(c.key!=="Enter")return!1;const{$cursor:d}=o.state.selection;return d?es({editor:t,from:d.pos,to:d.pos,text:`
`,rules:e,plugin:r}):!1}},isInputRules:!0});return r}function Hf(a){return typeof a=="number"}class Yf{constructor(t){this.find=t.find,this.handler=t.handler}}const Xf=(a,t)=>{if(Ks(t))return[...a.matchAll(t)];const e=t(a);return e?e.map(r=>{const o=[r.text];return o.index=r.index,o.input=a,o.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(r.replaceWith)),o}):[]};function Wf(a){const{editor:t,state:e,from:r,to:o,rule:c}=a,{commands:d,chain:p,can:m}=new ba({editor:t,state:e}),b=[];return e.doc.nodesBetween(r,o,(w,k)=>{if(!w.isTextblock||w.type.spec.code)return;const A=Math.max(r,k),T=Math.min(o,k+w.content.size),P=w.textBetween(A-k,T-k,void 0,"\uFFFC");Xf(P,c.find).forEach(N=>{if(N.index===void 0)return;const E=A+N.index+1,F=E+N[0].length,D={from:e.tr.mapping.map(E),to:e.tr.mapping.map(F)},R=c.handler({state:e,range:D,match:N,commands:d,chain:p,can:m});b.push(R)})}),b.every(w=>w!==null)}function jf(a){const{editor:t,rules:e}=a;let r=null,o=!1,c=!1;return e.map(p=>new zt({view(m){const b=x=>{var w;r=!((w=m.dom.parentElement)===null||w===void 0)&&w.contains(x.target)?m.dom.parentElement:null};return window.addEventListener("dragstart",b),{destroy(){window.removeEventListener("dragstart",b)}}},props:{handleDOMEvents:{drop:m=>(c=r===m.dom.parentElement,!1),paste:(m,b)=>{var x;const w=(x=b.clipboardData)===null||x===void 0?void 0:x.getData("text/html");return o=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(m,b,x)=>{const w=m[0],k=w.getMeta("uiEvent")==="paste"&&!o,A=w.getMeta("uiEvent")==="drop"&&!c;if(!k&&!A)return;const T=b.doc.content.findDiffStart(x.doc.content),P=b.doc.content.findDiffEnd(x.doc.content);if(!Hf(T)||!P||T===P.b)return;const I=x.tr,N=xa({state:x,transaction:I});if(!(!Wf({editor:t,state:N,from:Math.max(T-1,0),to:P.b-1,rule:p})||!I.steps.length))return I}}))}function Vf(a){const t=a.filter((e,r)=>a.indexOf(e)!==r);return[...new Set(t)]}class Ei{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=Ei.resolve(t),this.schema=_f(this.extensions,e),this.extensions.forEach(r=>{var o;this.editor.extensionStorage[r.name]=r.storage;const c={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Qa(r.name,this.schema)};r.type==="mark"&&((o=et(Ye(r,"keepOnSplit",c)))!==null&&o!==void 0?o:!0)&&this.splittableMarks.push(r.name);const d=Ye(r,"onBeforeCreate",c);d&&this.editor.on("beforeCreate",d);const p=Ye(r,"onCreate",c);p&&this.editor.on("create",p);const m=Ye(r,"onUpdate",c);m&&this.editor.on("update",m);const b=Ye(r,"onSelectionUpdate",c);b&&this.editor.on("selectionUpdate",b);const x=Ye(r,"onTransaction",c);x&&this.editor.on("transaction",x);const w=Ye(r,"onFocus",c);w&&this.editor.on("focus",w);const k=Ye(r,"onBlur",c);k&&this.editor.on("blur",k);const A=Ye(r,"onDestroy",c);A&&this.editor.on("destroy",A)})}static resolve(t){const e=Ei.sort(Ei.flatten(t)),r=Vf(e.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),e}static flatten(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},o=Ye(e,"addExtensions",r);return o?[e,...this.flatten(o())]:e}).flat(10)}static sort(t){return t.sort((r,o)=>{const c=Ye(r,"priority")||100,d=Ye(o,"priority")||100;return c>d?-1:c<d?1:0})}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Qa(e.name,this.schema)},o=Ye(e,"addCommands",r);return o?{...t,...o()}:t},{})}get plugins(){const{editor:t}=this,e=Ei.sort([...this.extensions].reverse()),r=[],o=[],c=e.map(d=>{const p={name:d.name,options:d.options,storage:d.storage,editor:t,type:Qa(d.name,this.schema)},m=[],b=Ye(d,"addKeyboardShortcuts",p);let x={};if(d.type==="mark"&&d.config.exitable&&(x.ArrowRight=()=>cn.handleExit({editor:t,mark:d})),b){const P=Object.fromEntries(Object.entries(b()).map(([I,N])=>[I,()=>N({editor:t})]));x={...x,...P}}const w=of(x);m.push(w);const k=Ye(d,"addInputRules",p);ul(d,t.options.enableInputRules)&&k&&r.push(...k());const A=Ye(d,"addPasteRules",p);ul(d,t.options.enablePasteRules)&&A&&o.push(...A());const T=Ye(d,"addProseMirrorPlugins",p);if(T){const P=T();m.push(...P)}return m}).flat();return[Bf({editor:t,rules:r}),...jf({editor:t,rules:o}),...c]}get attributes(){return Kc(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=wa(this.extensions);return Object.fromEntries(e.filter(r=>!!Ye(r,"addNodeView")).map(r=>{const o=this.attributes.filter(m=>m.type===r.name),c={name:r.name,options:r.options,storage:r.storage,editor:t,type:Ot(r.name,this.schema)},d=Ye(r,"addNodeView",c);if(!d)return[];const p=(m,b,x,w)=>{const k=Es(m,o);return d()({editor:t,node:m,getPos:x,decorations:w,HTMLAttributes:k,extension:r})};return[r.name,p]}))}}function qf(a){return Object.prototype.toString.call(a).slice(8,-1)}function ts(a){return qf(a)!=="Object"?!1:a.constructor===Object&&Object.getPrototypeOf(a)===Object.prototype}function Sa(a,t){const e={...a};return ts(a)&&ts(t)&&Object.keys(t).forEach(r=>{ts(t[r])?r in a?e[r]=Sa(a[r],t[r]):Object.assign(e,{[r]:t[r]}):Object.assign(e,{[r]:t[r]})}),e}class Wt{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=et(Ye(this,"addOptions",{name:this.name}))),this.storage=et(Ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Wt(t)}configure(t={}){const e=this.extend();return e.options=Sa(this.options,t),e.storage=et(Ye(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new Wt(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=et(Ye(e,"addOptions",{name:e.name})),e.storage=et(Ye(e,"addStorage",{name:e.name,options:e.options})),e}}function Jc(a,t,e){const{from:r,to:o}=t,{blockSeparator:c=`

`,textSerializers:d={}}=e||{};let p="",m=!0;return a.nodesBetween(r,o,(b,x,w,k)=>{var A;const T=d==null?void 0:d[b.type.name];T?(b.isBlock&&!m&&(p+=c,m=!0),w&&(p+=T({node:b,pos:x,parent:w,index:k,range:t}))):b.isText?(p+=(A=b==null?void 0:b.text)===null||A===void 0?void 0:A.slice(Math.max(r,x)-x,o-x),m=!1):b.isBlock&&!m&&(p+=c,m=!0)}),p}function Qc(a){return Object.fromEntries(Object.entries(a.nodes).filter(([,t])=>t.spec.toText).map(([t,e])=>[t,e.spec.toText]))}const Gf=Wt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new zt({key:new un("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:a}=this,{state:t,schema:e}=a,{doc:r,selection:o}=t,{ranges:c}=o,d=Math.min(...c.map(x=>x.$from.pos)),p=Math.max(...c.map(x=>x.$to.pos)),m=Qc(e);return Jc(r,{from:d,to:p},{textSerializers:m})}}})]}}),Uf=()=>({editor:a,view:t})=>(requestAnimationFrame(()=>{var e;a.isDestroyed||(t.dom.blur(),(e=window==null?void 0:window.getSelection())===null||e===void 0||e.removeAllRanges())}),!0),$f=(a=!1)=>({commands:t})=>t.setContent("",a),Kf=()=>({state:a,tr:t,dispatch:e})=>{const{selection:r}=t,{ranges:o}=r;return e&&o.forEach(({$from:c,$to:d})=>{a.doc.nodesBetween(c.pos,d.pos,(p,m)=>{if(p.type.isText)return;const{doc:b,mapping:x}=t,w=b.resolve(x.map(m)),k=b.resolve(x.map(m+p.nodeSize)),A=w.blockRange(k);if(!A)return;const T=ji(A);if(p.type.isTextblock){const{defaultType:P}=w.parent.contentMatchAt(w.index());t.setNodeMarkup(A.start,P)}(T||T===0)&&t.lift(A,T)})}),!0},Zf=a=>t=>a(t),Jf=()=>({state:a,dispatch:t})=>bf(a,t),Qf=()=>({tr:a,dispatch:t})=>{const{selection:e}=a,r=e.$anchor.node();if(r.content.size>0)return!1;const o=a.selection.$anchor;for(let c=o.depth;c>0;c-=1)if(o.node(c).type===r.type){if(t){const p=o.before(c),m=o.after(c);a.delete(p,m).scrollIntoView()}return!0}return!1},ep=a=>({tr:t,state:e,dispatch:r})=>{const o=Ot(a,e.schema),c=t.selection.$anchor;for(let d=c.depth;d>0;d-=1)if(c.node(d).type===o){if(r){const m=c.before(d),b=c.after(d);t.delete(m,b).scrollIntoView()}return!0}return!1},tp=a=>({tr:t,dispatch:e})=>{const{from:r,to:o}=a;return e&&t.delete(r,o),!0},np=()=>({state:a,dispatch:t})=>lf(a,t),ip=()=>({commands:a})=>a.keyboardShortcut("Enter"),rp=()=>({state:a,dispatch:t})=>xf(a,t);function Ur(a,t,e={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>e.strict?t[o]===a[o]:Ks(t[o])?t[o].test(a[o]):t[o]===a[o]):!0}function Os(a,t,e={}){return a.find(r=>r.type===t&&Ur(r.attrs,e))}function ap(a,t,e={}){return!!Os(a,t,e)}function Zs(a,t,e={}){if(!a||!t)return;let r=a.parent.childAfter(a.parentOffset);if(a.parentOffset===r.offset&&r.offset!==0&&(r=a.parent.childBefore(a.parentOffset)),!r.node)return;const o=Os([...r.node.marks],t,e);if(!o)return;let c=r.index,d=a.start()+r.offset,p=c+1,m=d+r.node.nodeSize;for(Os([...r.node.marks],t,e);c>0&&o.isInSet(a.parent.child(c-1).marks);)c-=1,d-=a.parent.child(c).nodeSize;for(;p<a.parent.childCount&&ap([...a.parent.child(p).marks],t,e);)m+=a.parent.child(p).nodeSize,p+=1;return{from:d,to:m}}function Gn(a,t){if(typeof a=="string"){if(!t.marks[a])throw Error(`There is no mark type named '${a}'. Maybe you forgot to add the extension?`);return t.marks[a]}return a}const sp=(a,t={})=>({tr:e,state:r,dispatch:o})=>{const c=Gn(a,r.schema),{doc:d,selection:p}=e,{$from:m,from:b,to:x}=p;if(o){const w=Zs(m,c,t);if(w&&w.from<=b&&w.to>=x){const k=it.create(d,w.from,w.to);e.setSelection(k)}}return!0},op=a=>t=>{const e=typeof a=="function"?a(t):a;for(let r=0;r<e.length;r+=1)if(e[r](t))return!0;return!1};function eu(a){return a instanceof it}function si(a=0,t=0,e=0){return Math.min(Math.max(a,t),e)}function tu(a,t=null){if(!t)return null;const e=tt.atStart(a),r=tt.atEnd(a);if(t==="start"||t===!0)return e;if(t==="end")return r;const o=e.from,c=r.to;return t==="all"?it.create(a,si(0,o,c),si(a.content.size,o,c)):it.create(a,si(t,o,c),si(t,o,c))}function Js(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const lp=(a=null,t={})=>({editor:e,view:r,tr:o,dispatch:c})=>{t={scrollIntoView:!0,...t};const d=()=>{Js()&&r.dom.focus(),requestAnimationFrame(()=>{e.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&e.commands.scrollIntoView())})};if(r.hasFocus()&&a===null||a===!1)return!0;if(c&&a===null&&!eu(e.state.selection))return d(),!0;const p=tu(o.doc,a)||e.state.selection,m=e.state.selection.eq(p);return c&&(m||o.setSelection(p),m&&o.storedMarks&&o.setStoredMarks(o.storedMarks),d()),!0},cp=(a,t)=>e=>a.every((r,o)=>t(r,{...e,index:o})),up=(a,t)=>({tr:e,commands:r})=>r.insertContentAt({from:e.selection.from,to:e.selection.to},a,t);function hl(a){const t=`<body>${a}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function $r(a,t,e){if(e={slice:!0,parseOptions:{},...e},typeof a=="object"&&a!==null)try{return Array.isArray(a)&&a.length>0?Pe.fromArray(a.map(r=>t.nodeFromJSON(r))):t.nodeFromJSON(a)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",a,"Error:",r),$r("",t,e)}if(typeof a=="string"){const r=_i.fromSchema(t);return e.slice?r.parseSlice(hl(a),e.parseOptions).content:r.parse(hl(a),e.parseOptions)}return $r("",t,e)}function hp(a,t,e){const r=a.steps.length-1;if(r<t)return;const o=a.steps[r];if(!(o instanceof Rt||o instanceof Ct))return;const c=a.mapping.maps[r];let d=0;c.forEach((p,m,b,x)=>{d===0&&(d=x)}),a.setSelection(tt.near(a.doc.resolve(d),e))}const dp=a=>a.toString().startsWith("<"),fp=(a,t,e)=>({tr:r,dispatch:o,editor:c})=>{if(o){e={parseOptions:{},updateSelection:!0,...e};const d=$r(t,c.schema,{parseOptions:{preserveWhitespace:"full",...e.parseOptions}});if(d.toString()==="<>")return!0;let{from:p,to:m}=typeof a=="number"?{from:a,to:a}:a,b=!0,x=!0;if((dp(d)?d:[d]).forEach(k=>{k.check(),b=b?k.isText&&k.marks.length===0:!1,x=x?k.isBlock:!1}),p===m&&x){const{parent:k}=r.doc.resolve(p);k.isTextblock&&!k.type.spec.code&&!k.childCount&&(p-=1,m+=1)}b?Array.isArray(t)?r.insertText(t.map(k=>k.text||"").join(""),p,m):typeof t=="object"&&!!t&&!!t.text?r.insertText(t.text,p,m):r.insertText(t,p,m):r.replaceWith(p,m,d),e.updateSelection&&hp(r,r.steps.length-1,-1)}return!0},pp=()=>({state:a,dispatch:t})=>gf(a,t),gp=()=>({state:a,dispatch:t})=>mf(a,t),mp=()=>({state:a,dispatch:t})=>uf(a,t),yp=()=>({state:a,dispatch:t})=>ff(a,t);function nu(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function vp(a){const t=a.split(/-(?!$)/);let e=t[t.length-1];e==="Space"&&(e=" ");let r,o,c,d;for(let p=0;p<t.length-1;p+=1){const m=t[p];if(/^(cmd|meta|m)$/i.test(m))d=!0;else if(/^a(lt)?$/i.test(m))r=!0;else if(/^(c|ctrl|control)$/i.test(m))o=!0;else if(/^s(hift)?$/i.test(m))c=!0;else if(/^mod$/i.test(m))Js()||nu()?d=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${m}`)}return r&&(e=`Alt-${e}`),o&&(e=`Ctrl-${e}`),d&&(e=`Meta-${e}`),c&&(e=`Shift-${e}`),e}const xp=a=>({editor:t,view:e,tr:r,dispatch:o})=>{const c=vp(a).split(/-(?!$)/),d=c.find(b=>!["Alt","Ctrl","Meta","Shift"].includes(b)),p=new KeyboardEvent("keydown",{key:d==="Space"?" ":d,altKey:c.includes("Alt"),ctrlKey:c.includes("Ctrl"),metaKey:c.includes("Meta"),shiftKey:c.includes("Shift"),bubbles:!0,cancelable:!0}),m=t.captureTransaction(()=>{e.someProp("handleKeyDown",b=>b(e,p))});return m==null||m.steps.forEach(b=>{const x=b.map(r.mapping);x&&o&&r.maybeStep(x)}),!0};function dr(a,t,e={}){const{from:r,to:o,empty:c}=a.selection,d=t?Ot(t,a.schema):null,p=[];a.doc.nodesBetween(r,o,(w,k)=>{if(w.isText)return;const A=Math.max(r,k),T=Math.min(o,k+w.nodeSize);p.push({node:w,from:A,to:T})});const m=o-r,b=p.filter(w=>d?d.name===w.node.type.name:!0).filter(w=>Ur(w.node.attrs,e,{strict:!1}));return c?!!b.length:b.reduce((w,k)=>w+k.to-k.from,0)>=m}const bp=(a,t={})=>({state:e,dispatch:r})=>{const o=Ot(a,e.schema);return dr(e,o,t)?yf(e,r):!1},wp=()=>({state:a,dispatch:t})=>wf(a,t),kp=a=>({state:t,dispatch:e})=>{const r=Ot(a,t.schema);return Tf(r)(t,e)},Sp=()=>({state:a,dispatch:t})=>vf(a,t);function Aa(a,t){return t.nodes[a]?"node":t.marks[a]?"mark":null}function dl(a,t){const e=typeof t=="string"?[t]:t;return Object.keys(a).reduce((r,o)=>(e.includes(o)||(r[o]=a[o]),r),{})}const Ap=(a,t)=>({tr:e,state:r,dispatch:o})=>{let c=null,d=null;const p=Aa(typeof a=="string"?a:a.name,r.schema);return p?(p==="node"&&(c=Ot(a,r.schema)),p==="mark"&&(d=Gn(a,r.schema)),o&&e.selection.ranges.forEach(m=>{r.doc.nodesBetween(m.$from.pos,m.$to.pos,(b,x)=>{c&&c===b.type&&e.setNodeMarkup(x,void 0,dl(b.attrs,t)),d&&b.marks.length&&b.marks.forEach(w=>{d===w.type&&e.addMark(x,x+b.nodeSize,d.create(dl(w.attrs,t)))})})}),!0):!1},Cp=()=>({tr:a,dispatch:t})=>(t&&a.scrollIntoView(),!0),Ep=()=>({tr:a,commands:t})=>t.setTextSelection({from:0,to:a.doc.content.size}),Op=()=>({state:a,dispatch:t})=>hf(a,t),Mp=()=>({state:a,dispatch:t})=>pf(a,t),Tp=()=>({state:a,dispatch:t})=>kf(a,t),Pp=()=>({state:a,dispatch:t})=>Cf(a,t),Lp=()=>({state:a,dispatch:t})=>Af(a,t);function iu(a,t,e={}){return $r(a,t,{slice:!1,parseOptions:e})}const Np=(a,t=!1,e={})=>({tr:r,editor:o,dispatch:c})=>{const{doc:d}=r,p=iu(a,o.schema,e);return c&&r.replaceWith(0,d.content.size,p).setMeta("preventUpdate",!t),!0};function Dp(a,t){const e=new cc(a);return t.forEach(r=>{r.steps.forEach(o=>{e.step(o)})}),e}function Ip(a){for(let t=0;t<a.edgeCount;t+=1){const{type:e}=a.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}function Rp(a,t,e){const r=[];return a.nodesBetween(t.from,t.to,(o,c)=>{e(o)&&r.push({node:o,pos:c})}),r}function _p(a,t){for(let e=a.depth;e>0;e-=1){const r=a.node(e);if(t(r))return{pos:e>0?a.before(e):0,start:a.start(e),depth:e,node:r}}}function Qs(a){return t=>_p(t.$from,a)}function zp(a,t){const e=wn.fromSchema(t).serializeFragment(a),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(e),o.innerHTML}function Fp(a,t){const e={from:0,to:a.content.size};return Jc(a,e,t)}function Ca(a,t){const e=Gn(t,a.schema),{from:r,to:o,empty:c}=a.selection,d=[];c?(a.storedMarks&&d.push(...a.storedMarks),d.push(...a.selection.$head.marks())):a.doc.nodesBetween(r,o,m=>{d.push(...m.marks)});const p=d.find(m=>m.type.name===e.name);return p?{...p.attrs}:{}}function Bp(a,t){const e=Ot(t,a.schema),{from:r,to:o}=a.selection,c=[];a.doc.nodesBetween(r,o,p=>{c.push(p)});const d=c.reverse().find(p=>p.type.name===e.name);return d?{...d.attrs}:{}}function ru(a,t){const e=Aa(typeof t=="string"?t:t.name,a.schema);return e==="node"?Bp(a,t):e==="mark"?Ca(a,t):{}}function Hp(a,t=JSON.stringify){const e={};return a.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(e,o)?!1:e[o]=!0})}function Yp(a){const t=Hp(a);return t.length===1?t:t.filter((e,r)=>!t.filter((c,d)=>d!==r).some(c=>e.oldRange.from>=c.oldRange.from&&e.oldRange.to<=c.oldRange.to&&e.newRange.from>=c.newRange.from&&e.newRange.to<=c.newRange.to))}function Xp(a){const{mapping:t,steps:e}=a,r=[];return t.maps.forEach((o,c)=>{const d=[];if(o.ranges.length)o.forEach((p,m)=>{d.push({from:p,to:m})});else{const{from:p,to:m}=e[c];if(p===void 0||m===void 0)return;d.push({from:p,to:m})}d.forEach(({from:p,to:m})=>{const b=t.slice(c).map(p,-1),x=t.slice(c).map(m),w=t.invert().map(b,-1),k=t.invert().map(x);r.push({oldRange:{from:w,to:k},newRange:{from:b,to:x}})})}),Yp(r)}function Kr(a,t,e){const r=[];return a===t?e.resolve(a).marks().forEach(o=>{const c=e.resolve(a-1),d=Zs(c,o.type);!d||r.push({mark:o,...d})}):e.nodesBetween(a,t,(o,c)=>{r.push(...o.marks.map(d=>({from:c,to:c+o.nodeSize,mark:d})))}),r}function Lr(a,t,e){return Object.fromEntries(Object.entries(e).filter(([r])=>{const o=a.find(c=>c.type===t&&c.name===r);return o?o.attribute.keepOnSplit:!1}))}function Ms(a,t,e={}){const{empty:r,ranges:o}=a.selection,c=t?Gn(t,a.schema):null;if(r)return!!(a.storedMarks||a.selection.$from.marks()).filter(w=>c?c.name===w.type.name:!0).find(w=>Ur(w.attrs,e,{strict:!1}));let d=0;const p=[];if(o.forEach(({$from:w,$to:k})=>{const A=w.pos,T=k.pos;a.doc.nodesBetween(A,T,(P,I)=>{if(!P.isText&&!P.marks.length)return;const N=Math.max(A,I),E=Math.min(T,I+P.nodeSize),F=E-N;d+=F,p.push(...P.marks.map(D=>({mark:D,from:N,to:E})))})}),d===0)return!1;const m=p.filter(w=>c?c.name===w.mark.type.name:!0).filter(w=>Ur(w.mark.attrs,e,{strict:!1})).reduce((w,k)=>w+k.to-k.from,0),b=p.filter(w=>c?w.mark.type!==c&&w.mark.type.excludes(c):!0).reduce((w,k)=>w+k.to-k.from,0);return(m>0?m+b:m)>=d}function Wp(a,t,e={}){if(!t)return dr(a,null,e)||Ms(a,null,e);const r=Aa(t,a.schema);return r==="node"?dr(a,t,e):r==="mark"?Ms(a,t,e):!1}function fl(a,t){const{nodeExtensions:e}=wa(t),r=e.find(d=>d.name===a);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},c=et(Ye(r,"group",o));return typeof c!="string"?!1:c.split(" ").includes("list")}function jp(a){var t;const e=(t=a.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),r=a.toJSON();return JSON.stringify(e)===JSON.stringify(r)}function Vp(a,t,e){var r;const{selection:o}=t;let c=null;if(eu(o)&&(c=o.$cursor),c){const p=(r=a.storedMarks)!==null&&r!==void 0?r:c.marks();return!!e.isInSet(p)||!p.some(m=>m.type.excludes(e))}const{ranges:d}=o;return d.some(({$from:p,$to:m})=>{let b=p.depth===0?a.doc.inlineContent&&a.doc.type.allowsMarkType(e):!1;return a.doc.nodesBetween(p.pos,m.pos,(x,w,k)=>{if(b)return!1;if(x.isInline){const A=!k||k.type.allowsMarkType(e),T=!!e.isInSet(x.marks)||!x.marks.some(P=>P.type.excludes(e));b=A&&T}return!b}),b})}const qp=(a,t={})=>({tr:e,state:r,dispatch:o})=>{const{selection:c}=e,{empty:d,ranges:p}=c,m=Gn(a,r.schema);if(o)if(d){const b=Ca(r,m);e.addStoredMark(m.create({...b,...t}))}else p.forEach(b=>{const x=b.$from.pos,w=b.$to.pos;r.doc.nodesBetween(x,w,(k,A)=>{const T=Math.max(A,x),P=Math.min(A+k.nodeSize,w);k.marks.find(N=>N.type===m)?k.marks.forEach(N=>{m===N.type&&e.addMark(T,P,m.create({...N.attrs,...t}))}):e.addMark(T,P,m.create(t))})});return Vp(r,e,m)},Gp=(a,t)=>({tr:e})=>(e.setMeta(a,t),!0),Up=(a,t={})=>({state:e,dispatch:r,chain:o})=>{const c=Ot(a,e.schema);return c.isTextblock?o().command(({commands:d})=>ol(c,t)(e)?!0:d.clearNodes()).command(({state:d})=>ol(c,t)(d,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},$p=a=>({tr:t,dispatch:e})=>{if(e){const{doc:r}=t,o=si(a,0,r.content.size),c=Ve.create(r,o);t.setSelection(c)}return!0},Kp=a=>({tr:t,dispatch:e})=>{if(e){const{doc:r}=t,{from:o,to:c}=typeof a=="number"?{from:a,to:a}:a,d=it.atStart(r).from,p=it.atEnd(r).to,m=si(o,d,p),b=si(c,d,p),x=it.create(r,m,b);t.setSelection(x)}return!0},Zp=a=>({state:t,dispatch:e})=>{const r=Ot(a,t.schema);return Nf(r)(t,e)};function pl(a,t){const e=a.storedMarks||a.selection.$to.parentOffset&&a.selection.$from.marks();if(e){const r=e.filter(o=>t==null?void 0:t.includes(o.type.name));a.tr.ensureMarks(r)}}const Jp=({keepMarks:a=!0}={})=>({tr:t,state:e,dispatch:r,editor:o})=>{const{selection:c,doc:d}=t,{$from:p,$to:m}=c,b=o.extensionManager.attributes,x=Lr(b,p.node().type.name,p.node().attrs);if(c instanceof Ve&&c.node.isBlock)return!p.parentOffset||!Di(d,p.pos)?!1:(r&&(a&&pl(e,o.extensionManager.splittableMarks),t.split(p.pos).scrollIntoView()),!0);if(!p.parent.isBlock)return!1;if(r){const w=m.parentOffset===m.parent.content.size;c instanceof it&&t.deleteSelection();const k=p.depth===0?void 0:Ip(p.node(-1).contentMatchAt(p.indexAfter(-1)));let A=w&&k?[{type:k,attrs:x}]:void 0,T=Di(t.doc,t.mapping.map(p.pos),1,A);if(!A&&!T&&Di(t.doc,t.mapping.map(p.pos),1,k?[{type:k}]:void 0)&&(T=!0,A=k?[{type:k,attrs:x}]:void 0),T&&(t.split(t.mapping.map(p.pos),1,A),k&&!w&&!p.parentOffset&&p.parent.type!==k)){const P=t.mapping.map(p.before()),I=t.doc.resolve(P);p.node(-1).canReplaceWith(I.index(),I.index()+1,k)&&t.setNodeMarkup(t.mapping.map(p.before()),k)}a&&pl(e,o.extensionManager.splittableMarks),t.scrollIntoView()}return!0},Qp=a=>({tr:t,state:e,dispatch:r,editor:o})=>{var c;const d=Ot(a,e.schema),{$from:p,$to:m}=e.selection,b=e.selection.node;if(b&&b.isBlock||p.depth<2||!p.sameParent(m))return!1;const x=p.node(-1);if(x.type!==d)return!1;const w=o.extensionManager.attributes;if(p.parent.content.size===0&&p.node(-1).childCount===p.indexAfter(-1)){if(p.depth===2||p.node(-3).type!==d||p.index(-2)!==p.node(-2).childCount-1)return!1;if(r){let I=Pe.empty;const N=p.index(-1)?1:p.index(-2)?2:3;for(let q=p.depth-N;q>=p.depth-3;q-=1)I=Pe.from(p.node(q).copy(I));const E=p.indexAfter(-1)<p.node(-2).childCount?1:p.indexAfter(-2)<p.node(-3).childCount?2:3,F=Lr(w,p.node().type.name,p.node().attrs),D=((c=d.contentMatch.defaultType)===null||c===void 0?void 0:c.createAndFill(F))||void 0;I=I.append(Pe.from(d.createAndFill(null,D)||void 0));const R=p.before(p.depth-(N-1));t.replace(R,p.after(-E),new Fe(I,4-N,0));let G=-1;t.doc.nodesBetween(R,t.doc.content.size,(q,W)=>{if(G>-1)return!1;q.isTextblock&&q.content.size===0&&(G=W+1)}),G>-1&&t.setSelection(it.near(t.doc.resolve(G))),t.scrollIntoView()}return!0}const k=m.pos===p.end()?x.contentMatchAt(0).defaultType:null,A=Lr(w,x.type.name,x.attrs),T=Lr(w,p.node().type.name,p.node().attrs);t.delete(p.pos,m.pos);const P=k?[{type:d,attrs:A},{type:k,attrs:T}]:[{type:d,attrs:A}];if(!Di(t.doc,p.pos,2))return!1;if(r){const{selection:I,storedMarks:N}=e,{splittableMarks:E}=o.extensionManager,F=N||I.$to.parentOffset&&I.$from.marks();if(t.split(p.pos,2,P).scrollIntoView(),!F||!r)return!0;const D=F.filter(R=>E.includes(R.type.name));t.ensureMarks(D)}return!0},ns=(a,t)=>{const e=Qs(d=>d.type===t)(a.selection);if(!e)return!0;const r=a.doc.resolve(Math.max(0,e.pos-1)).before(e.depth);if(r===void 0)return!0;const o=a.doc.nodeAt(r);return e.node.type===(o==null?void 0:o.type)&&Vn(a.doc,e.pos)&&a.join(e.pos),!0},is=(a,t)=>{const e=Qs(d=>d.type===t)(a.selection);if(!e)return!0;const r=a.doc.resolve(e.start).after(e.depth);if(r===void 0)return!0;const o=a.doc.nodeAt(r);return e.node.type===(o==null?void 0:o.type)&&Vn(a.doc,r)&&a.join(r),!0},eg=(a,t,e,r={})=>({editor:o,tr:c,state:d,dispatch:p,chain:m,commands:b,can:x})=>{const{extensions:w,splittableMarks:k}=o.extensionManager,A=Ot(a,d.schema),T=Ot(t,d.schema),{selection:P,storedMarks:I}=d,{$from:N,$to:E}=P,F=N.blockRange(E),D=I||P.$to.parentOffset&&P.$from.marks();if(!F)return!1;const R=Qs(G=>fl(G.type.name,w))(P);if(F.depth>=1&&R&&F.depth-R.depth<=1){if(R.node.type===A)return b.liftListItem(T);if(fl(R.node.type.name,w)&&A.validContent(R.node.content)&&p)return m().command(()=>(c.setNodeMarkup(R.pos,A),!0)).command(()=>ns(c,A)).command(()=>is(c,A)).run()}return!e||!D||!p?m().command(()=>x().wrapInList(A,r)?!0:b.clearNodes()).wrapInList(A,r).command(()=>ns(c,A)).command(()=>is(c,A)).run():m().command(()=>{const G=x().wrapInList(A,r),q=D.filter(W=>k.includes(W.type.name));return c.ensureMarks(q),G?!0:b.clearNodes()}).wrapInList(A,r).command(()=>ns(c,A)).command(()=>is(c,A)).run()},tg=(a,t={},e={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:c=!1}=e,d=Gn(a,r.schema);return Ms(r,d,t)?o.unsetMark(d,{extendEmptyMarkRange:c}):o.setMark(d,t)},ng=(a,t,e={})=>({state:r,commands:o})=>{const c=Ot(a,r.schema),d=Ot(t,r.schema);return dr(r,c,e)?o.setNode(d):o.setNode(c,e)},ig=(a,t={})=>({state:e,commands:r})=>{const o=Ot(a,e.schema);return dr(e,o,t)?r.lift(o):r.wrapIn(o,t)},rg=()=>({state:a,dispatch:t})=>{const e=a.plugins;for(let r=0;r<e.length;r+=1){const o=e[r];let c;if(o.spec.isInputRules&&(c=o.getState(a))){if(t){const d=a.tr,p=c.transform;for(let m=p.steps.length-1;m>=0;m-=1)d.step(p.steps[m].invert(p.docs[m]));if(c.text){const m=d.doc.resolve(c.from).marks();d.replaceWith(c.from,c.to,a.schema.text(c.text,m))}else d.delete(c.from,c.to)}return!0}}return!1},ag=()=>({tr:a,dispatch:t})=>{const{selection:e}=a,{empty:r,ranges:o}=e;return r||t&&o.forEach(c=>{a.removeMark(c.$from.pos,c.$to.pos)}),!0},sg=(a,t={})=>({tr:e,state:r,dispatch:o})=>{var c;const{extendEmptyMarkRange:d=!1}=t,{selection:p}=e,m=Gn(a,r.schema),{$from:b,empty:x,ranges:w}=p;if(!o)return!0;if(x&&d){let{from:k,to:A}=p;const T=(c=b.marks().find(I=>I.type===m))===null||c===void 0?void 0:c.attrs,P=Zs(b,m,T);P&&(k=P.from,A=P.to),e.removeMark(k,A,m)}else w.forEach(k=>{e.removeMark(k.$from.pos,k.$to.pos,m)});return e.removeStoredMark(m),!0},og=(a,t={})=>({tr:e,state:r,dispatch:o})=>{let c=null,d=null;const p=Aa(typeof a=="string"?a:a.name,r.schema);return p?(p==="node"&&(c=Ot(a,r.schema)),p==="mark"&&(d=Gn(a,r.schema)),o&&e.selection.ranges.forEach(m=>{const b=m.$from.pos,x=m.$to.pos;r.doc.nodesBetween(b,x,(w,k)=>{c&&c===w.type&&e.setNodeMarkup(k,void 0,{...w.attrs,...t}),d&&w.marks.length&&w.marks.forEach(A=>{if(d===A.type){const T=Math.max(k,b),P=Math.min(k+w.nodeSize,x);e.addMark(T,P,d.create({...A.attrs,...t}))}})})}),!0):!1},lg=(a,t={})=>({state:e,dispatch:r})=>{const o=Ot(a,e.schema);return Ef(o,t)(e,r)},cg=(a,t={})=>({state:e,dispatch:r})=>{const o=Ot(a,e.schema);return Of(o,t)(e,r)};var ug=Object.freeze({__proto__:null,blur:Uf,clearContent:$f,clearNodes:Kf,command:Zf,createParagraphNear:Jf,deleteCurrentNode:Qf,deleteNode:ep,deleteRange:tp,deleteSelection:np,enter:ip,exitCode:rp,extendMarkRange:sp,first:op,focus:lp,forEach:cp,insertContent:up,insertContentAt:fp,joinUp:pp,joinDown:gp,joinBackward:mp,joinForward:yp,keyboardShortcut:xp,lift:bp,liftEmptyBlock:wp,liftListItem:kp,newlineInCode:Sp,resetAttributes:Ap,scrollIntoView:Cp,selectAll:Ep,selectNodeBackward:Op,selectNodeForward:Mp,selectParentNode:Tp,selectTextblockEnd:Pp,selectTextblockStart:Lp,setContent:Np,setMark:qp,setMeta:Gp,setNode:Up,setNodeSelection:$p,setTextSelection:Kp,sinkListItem:Zp,splitBlock:Jp,splitListItem:Qp,toggleList:eg,toggleMark:tg,toggleNode:ng,toggleWrap:ig,undoInputRule:rg,unsetAllMarks:ag,unsetMark:sg,updateAttributes:og,wrapIn:lg,wrapInList:cg});const hg=Wt.create({name:"commands",addCommands(){return{...ug}}}),dg=Wt.create({name:"editable",addProseMirrorPlugins(){return[new zt({key:new un("editable"),props:{editable:()=>this.editor.options.editable}})]}}),fg=Wt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:a}=this;return[new zt({key:new un("focusEvents"),props:{handleDOMEvents:{focus:(t,e)=>{a.isFocused=!0;const r=a.state.tr.setMeta("focus",{event:e}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,e)=>{a.isFocused=!1;const r=a.state.tr.setMeta("blur",{event:e}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),pg=Wt.create({name:"keymap",addKeyboardShortcuts(){const a=()=>this.editor.commands.first(({commands:d})=>[()=>d.undoInputRule(),()=>d.command(({tr:p})=>{const{selection:m,doc:b}=p,{empty:x,$anchor:w}=m,{pos:k,parent:A}=w,T=tt.atStart(b).from===k;return!x||!T||!A.type.isTextblock||A.textContent.length?!1:d.clearNodes()}),()=>d.deleteSelection(),()=>d.joinBackward(),()=>d.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:d})=>[()=>d.deleteSelection(),()=>d.deleteCurrentNode(),()=>d.joinForward(),()=>d.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:d})=>[()=>d.newlineInCode(),()=>d.createParagraphNear(),()=>d.liftEmptyBlock(),()=>d.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:a,"Mod-Backspace":a,"Shift-Backspace":a,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},c={...r,"Ctrl-h":a,"Alt-Backspace":a,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Js()||nu()?c:o},addProseMirrorPlugins(){return[new zt({key:new un("clearDocument"),appendTransaction:(a,t,e)=>{if(!(a.some(T=>T.docChanged)&&!t.doc.eq(e.doc)))return;const{empty:o,from:c,to:d}=t.selection,p=tt.atStart(t.doc).from,m=tt.atEnd(t.doc).to;if(o||!(c===p&&d===m)||!(e.doc.textBetween(0,e.doc.content.size," "," ").length===0))return;const w=e.tr,k=xa({state:e,transaction:w}),{commands:A}=new ba({editor:this.editor,state:k});if(A.clearNodes(),!!w.steps.length)return w}})]}}),gg=Wt.create({name:"tabindex",addProseMirrorPlugins(){return[new zt({key:new un("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var mg=Object.freeze({__proto__:null,ClipboardTextSerializer:Gf,Commands:hg,Editable:dg,FocusEvents:fg,Keymap:pg,Tabindex:gg});const yg=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function vg(a,t){const e=document.querySelector("style[data-tiptap-style]");if(e!==null)return e;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=a,document.getElementsByTagName("head")[0].appendChild(r),r}class xg extends Df{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=vg(yg,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const r=Zc(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],o=this.state.reconfigure({plugins:r});this.view.updateState(o)}unregisterPlugin(t){if(this.isDestroyed)return;const e=typeof t=="string"?`${t}$`:t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(o=>!o.key.startsWith(e))});this.view.updateState(r)}createExtensionManager(){const e=[...this.options.enableCoreExtensions?Object.values(mg):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Ei(e,this)}createCommandManager(){this.commandManager=new ba({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=iu(this.options.content,this.schema,this.options.parseOptions),e=tu(t,this.options.autofocus);this.view=new Kd(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Ci.create({doc:t,selection:e||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var p;return(p=this.capturedTransaction)===null||p===void 0?void 0:p.step(d)});return}const e=this.state.apply(t),r=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=t.getMeta("focus"),c=t.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:t}),c&&this.emit("blur",{editor:this,event:c.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return ru(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,o=typeof t=="string"?e:t;return Wp(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return zp(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return Fp(this.state.doc,{blockSeparator:e,textSerializers:{...Qc(this.schema),...r}})}get isEmpty(){return jp(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}}function Xi(a){return new ka({find:a.find,handler:({state:t,range:e,match:r})=>{const o=et(a.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:c}=t,d=r[r.length-1],p=r[0];let m=e.to;if(d){const b=p.search(/\S/),x=e.from+p.indexOf(d),w=x+d.length;if(Kr(e.from,e.to,t.doc).filter(A=>A.mark.type.excluded.find(P=>P===a.type&&P!==A.mark.type)).filter(A=>A.to>x).length)return null;w<e.to&&c.delete(w,e.to),x>e.from&&c.delete(e.from+b,x),m=e.from+b+d.length,c.addMark(e.from+b,m,a.type.create(o||{})),c.removeStoredMark(a.type)}}})}function au(a){return new ka({find:a.find,handler:({state:t,range:e,match:r})=>{const o=et(a.getAttributes,void 0,r)||{},{tr:c}=t,d=e.from;let p=e.to;if(r[1]){const m=r[0].lastIndexOf(r[1]);let b=d+m;b>p?b=p:p=b+r[1].length;const x=r[0][r[0].length-1];c.insertText(x,d+r[0].length-1),c.replaceWith(b,p,a.type.create(o))}else r[0]&&c.replaceWith(d,p,a.type.create(o))}})}function Ts(a){return new ka({find:a.find,handler:({state:t,range:e,match:r})=>{const o=t.doc.resolve(e.from),c=et(a.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),a.type))return null;t.tr.delete(e.from,e.to).setBlockType(e.from,e.from,a.type,c)}})}function fr(a){return new ka({find:a.find,handler:({state:t,range:e,match:r,chain:o})=>{const c=et(a.getAttributes,void 0,r)||{},d=t.tr.delete(e.from,e.to),m=d.doc.resolve(e.from).blockRange(),b=m&&Fs(m,a.type,c);if(!b)return null;if(d.wrap(m,b),a.keepMarks&&a.editor){const{selection:w,storedMarks:k}=t,{splittableMarks:A}=a.editor.extensionManager,T=k||w.$to.parentOffset&&w.$from.marks();if(T){const P=T.filter(I=>A.includes(I.type.name));d.ensureMarks(P)}}if(a.keepAttributes){const w=a.type.name==="bulletList"||a.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(w,c).run()}const x=d.doc.resolve(e.from-1).nodeBefore;x&&x.type===a.type&&Vn(d.doc,e.from-1)&&(!a.joinPredicate||a.joinPredicate(r,x))&&d.join(e.from-1)}})}class cn{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=et(Ye(this,"addOptions",{name:this.name}))),this.storage=et(Ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new cn(t)}configure(t={}){const e=this.extend();return e.options=Sa(this.options,t),e.storage=et(Ye(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new cn(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=et(Ye(e,"addOptions",{name:e.name})),e.storage=et(Ye(e,"addStorage",{name:e.name,options:e.options})),e}static handleExit({editor:t,mark:e}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const d=o.marks();if(!!!d.find(b=>(b==null?void 0:b.type.name)===e.name))return!1;const m=d.find(b=>(b==null?void 0:b.type.name)===e.name);return m&&r.removeStoredMark(m),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}}class Mt{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=et(Ye(this,"addOptions",{name:this.name}))),this.storage=et(Ye(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Mt(t)}configure(t={}){const e=this.extend();return e.options=Sa(this.options,t),e.storage=et(Ye(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new Mt(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=et(Ye(e,"addOptions",{name:e.name})),e.storage=et(Ye(e,"addStorage",{name:e.name,options:e.options})),e}}function gi(a){return new Yf({find:a.find,handler:({state:t,range:e,match:r})=>{const o=et(a.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:c}=t,d=r[r.length-1],p=r[0];let m=e.to;if(d){const b=p.search(/\S/),x=e.from+p.indexOf(d),w=x+d.length;if(Kr(e.from,e.to,t.doc).filter(A=>A.mark.type.excluded.find(P=>P===a.type&&P!==A.mark.type)).filter(A=>A.to>x).length)return null;w<e.to&&c.delete(w,e.to),x>e.from&&c.delete(e.from+b,x),m=e.from+b+d.length,c.addMark(e.from+b,m,a.type.create(o||{})),c.removeStoredMark(a.type)}}})}const bg=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,wg=Mt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:a}){return["img",gt(this.options.HTMLAttributes,a)]},addCommands(){return{setImage:a=>({commands:t})=>t.insertContent({type:this.name,attrs:a})}},addInputRules(){return[au({find:bg,type:this.type,getAttributes:a=>{const[,,t,e,r]=a;return{src:e,alt:t,title:r}}})]}}),kg="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Sg="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u062A\u0635\u0627\u0644\u0627\u062A6\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",Wi=(a,t)=>{for(const e in t)a[e]=t[e];return a},Ps="numeric",Ls="ascii",Ns="alpha",Nr="asciinumeric",Er="alphanumeric",Ds="domain",su="emoji",Ag="scheme",Cg="slashscheme",gl="whitespace";function Eg(a,t){return a in t||(t[a]=[]),t[a]}function oi(a,t,e){t[Ps]&&(t[Nr]=!0,t[Er]=!0),t[Ls]&&(t[Nr]=!0,t[Ns]=!0),t[Nr]&&(t[Er]=!0),t[Ns]&&(t[Er]=!0),t[Er]&&(t[Ds]=!0),t[su]&&(t[Ds]=!0);for(const r in t){const o=Eg(r,e);o.indexOf(a)<0&&o.push(a)}}function Og(a,t){const e={};for(const r in t)t[r].indexOf(a)>=0&&(e[r]=!0);return e}function Gt(a){a===void 0&&(a=null),this.j={},this.jr=[],this.jd=null,this.t=a}Gt.groups={};Gt.prototype={accepts(){return!!this.t},go(a){const t=this,e=t.j[a];if(e)return e;for(let r=0;r<t.jr.length;r++){const o=t.jr[r][0],c=t.jr[r][1];if(c&&o.test(a))return c}return t.jd},has(a,t){return t===void 0&&(t=!1),t?a in this.j:!!this.go(a)},ta(a,t,e,r){for(let o=0;o<a.length;o++)this.tt(a[o],t,e,r)},tr(a,t,e,r){r=r||Gt.groups;let o;return t&&t.j?o=t:(o=new Gt(t),e&&r&&oi(t,e,r)),this.jr.push([a,o]),o},ts(a,t,e,r){let o=this;const c=a.length;if(!c)return o;for(let d=0;d<c-1;d++)o=o.tt(a[d]);return o.tt(a[c-1],t,e,r)},tt(a,t,e,r){r=r||Gt.groups;const o=this;if(t&&t.j)return o.j[a]=t,t;const c=t;let d,p=o.go(a);if(p?(d=new Gt,Wi(d.j,p.j),d.jr.push.apply(d.jr,p.jr),d.jd=p.jd,d.t=p.t):d=new Gt,c){if(r)if(d.t&&typeof d.t=="string"){const m=Wi(Og(d.t,r),e);oi(c,m,r)}else e&&oi(c,e,r);d.t=c}return o.j[a]=d,d}};const Xe=(a,t,e,r,o)=>a.ta(t,e,r,o),nn=(a,t,e,r,o)=>a.tr(t,e,r,o),ml=(a,t,e,r,o)=>a.ts(t,e,r,o),Le=(a,t,e,r,o)=>a.tt(t,e,r,o),On="WORD",Is="UWORD",pr="LOCALHOST",Rs="TLD",_s="UTLD",Dr="SCHEME",Ai="SLASH_SCHEME",eo="NUM",ou="WS",to="NL",Oi="OPENBRACE",ir="OPENBRACKET",rr="OPENANGLEBRACKET",ar="OPENPAREN",ni="CLOSEBRACE",Mi="CLOSEBRACKET",Ti="CLOSEANGLEBRACKET",ii="CLOSEPAREN",Zr="AMPERSAND",Jr="APOSTROPHE",Qr="ASTERISK",Dn="AT",ea="BACKSLASH",ta="BACKTICK",na="CARET",_n="COLON",no="COMMA",ia="DOLLAR",mn="DOT",ra="EQUALS",io="EXCLAMATION",yn="HYPHEN",aa="PERCENT",sa="PIPE",oa="PLUS",la="POUND",ca="QUERY",ro="QUOTE",ao="SEMI",vn="SLASH",sr="TILDE",ua="UNDERSCORE",lu="EMOJI",ha="SYM";var cu=Object.freeze({__proto__:null,WORD:On,UWORD:Is,LOCALHOST:pr,TLD:Rs,UTLD:_s,SCHEME:Dr,SLASH_SCHEME:Ai,NUM:eo,WS:ou,NL:to,OPENBRACE:Oi,OPENBRACKET:ir,OPENANGLEBRACKET:rr,OPENPAREN:ar,CLOSEBRACE:ni,CLOSEBRACKET:Mi,CLOSEANGLEBRACKET:Ti,CLOSEPAREN:ii,AMPERSAND:Zr,APOSTROPHE:Jr,ASTERISK:Qr,AT:Dn,BACKSLASH:ea,BACKTICK:ta,CARET:na,COLON:_n,COMMA:no,DOLLAR:ia,DOT:mn,EQUALS:ra,EXCLAMATION:io,HYPHEN:yn,PERCENT:aa,PIPE:sa,PLUS:oa,POUND:la,QUERY:ca,QUOTE:ro,SEMI:ao,SLASH:vn,TILDE:sr,UNDERSCORE:ua,EMOJI:lu,SYM:ha});const wi=/[a-z]/,rs=/\p{L}/u,as=/\p{Emoji}/u,ss=/\d/,yl=/\s/,vl=`
`,Mg="\uFE0F",Tg="\u200D";let Or=null,Mr=null;function Pg(a){a===void 0&&(a=[]);const t={};Gt.groups=t;const e=new Gt;Or==null&&(Or=xl(kg)),Mr==null&&(Mr=xl(Sg)),Le(e,"'",Jr),Le(e,"{",Oi),Le(e,"[",ir),Le(e,"<",rr),Le(e,"(",ar),Le(e,"}",ni),Le(e,"]",Mi),Le(e,">",Ti),Le(e,")",ii),Le(e,"&",Zr),Le(e,"*",Qr),Le(e,"@",Dn),Le(e,"`",ta),Le(e,"^",na),Le(e,":",_n),Le(e,",",no),Le(e,"$",ia),Le(e,".",mn),Le(e,"=",ra),Le(e,"!",io),Le(e,"-",yn),Le(e,"%",aa),Le(e,"|",sa),Le(e,"+",oa),Le(e,"#",la),Le(e,"?",ca),Le(e,'"',ro),Le(e,"/",vn),Le(e,";",ao),Le(e,"~",sr),Le(e,"_",ua),Le(e,"\\",ea);const r=nn(e,ss,eo,{[Ps]:!0});nn(r,ss,r);const o=nn(e,wi,On,{[Ls]:!0});nn(o,wi,o);const c=nn(e,rs,Is,{[Ns]:!0});nn(c,wi),nn(c,rs,c);const d=nn(e,yl,ou,{[gl]:!0});Le(e,vl,to,{[gl]:!0}),Le(d,vl),nn(d,yl,d);const p=nn(e,as,lu,{[su]:!0});nn(p,as,p),Le(p,Mg,p);const m=Le(p,Tg);nn(m,as,p);const b=[[wi,o]],x=[[wi,null],[rs,c]];for(let w=0;w<Or.length;w++)Ln(e,Or[w],Rs,On,b);for(let w=0;w<Mr.length;w++)Ln(e,Mr[w],_s,Is,x);oi(Rs,{tld:!0,ascii:!0},t),oi(_s,{utld:!0,alpha:!0},t),Ln(e,"file",Dr,On,b),Ln(e,"mailto",Dr,On,b),Ln(e,"http",Ai,On,b),Ln(e,"https",Ai,On,b),Ln(e,"ftp",Ai,On,b),Ln(e,"ftps",Ai,On,b),oi(Dr,{scheme:!0,ascii:!0},t),oi(Ai,{slashscheme:!0,ascii:!0},t),a=a.sort((w,k)=>w[0]>k[0]?1:-1);for(let w=0;w<a.length;w++){const k=a[w][0],T=a[w][1]?{[Ag]:!0}:{[Cg]:!0};k.indexOf("-")>=0?T[Ds]=!0:wi.test(k)?ss.test(k)?T[Nr]=!0:T[Ls]=!0:T[Ps]=!0,ml(e,k,k,T)}return ml(e,"localhost",pr,{ascii:!0}),e.jd=new Gt(ha),{start:e,tokens:Wi({groups:t},cu)}}function Lg(a,t){const e=Ng(t.replace(/[A-Z]/g,p=>p.toLowerCase())),r=e.length,o=[];let c=0,d=0;for(;d<r;){let p=a,m=null,b=0,x=null,w=-1,k=-1;for(;d<r&&(m=p.go(e[d]));)p=m,p.accepts()?(w=0,k=0,x=p):w>=0&&(w+=e[d].length,k++),b+=e[d].length,c+=e[d].length,d++;c-=w,d-=k,b-=w,o.push({t:x.t,v:t.slice(c-b,c),s:c-b,e:c})}return o}function Ng(a){const t=[],e=a.length;let r=0;for(;r<e;){let o=a.charCodeAt(r),c,d=o<55296||o>56319||r+1===e||(c=a.charCodeAt(r+1))<56320||c>57343?a[r]:a.slice(r,r+2);t.push(d),r+=d.length}return t}function Ln(a,t,e,r,o){let c;const d=t.length;for(let p=0;p<d-1;p++){const m=t[p];a.j[m]?c=a.j[m]:(c=new Gt(r),c.jr=o.slice(),a.j[m]=c),a=c}return c=new Gt(e),c.jr=o.slice(),a.j[t[d-1]]=c,c}function xl(a){const t=[],e=[];let r=0,o="0123456789";for(;r<a.length;){let c=0;for(;o.indexOf(a[r+c])>=0;)c++;if(c>0){t.push(e.join(""));for(let d=parseInt(a.substring(r,r+c),10);d>0;d--)e.pop();r+=c}else e.push(a[r]),r++}return t}const gr={defaultProtocol:"http",events:null,format:bl,formatHref:bl,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function so(a,t){t===void 0&&(t=null);let e=Wi({},gr);a&&(e=Wi(e,a instanceof so?a.o:a));const r=e.ignoreTags,o=[];for(let c=0;c<r.length;c++)o.push(r[c].toUpperCase());this.o=e,t&&(this.defaultRender=t),this.ignoreTags=o}so.prototype={o:gr,ignoreTags:[],defaultRender(a){return a},check(a){return this.get("validate",a.toString(),a)},get(a,t,e){const r=t!=null;let o=this.o[a];return o&&(typeof o=="object"?(o=e.t in o?o[e.t]:gr[a],typeof o=="function"&&r&&(o=o(t,e))):typeof o=="function"&&r&&(o=o(t,e.t,e)),o)},getObj(a,t,e){let r=this.o[a];return typeof r=="function"&&t!=null&&(r=r(t,e.t,e)),r},render(a){const t=a.render(this);return(this.get("render",null,a)||this.defaultRender)(t,a.t,a)}};function bl(a){return a}function uu(a,t){this.t="token",this.v=a,this.tk=t}uu.prototype={isLink:!1,toString(){return this.v},toHref(a){return this.toString()},toFormattedString(a){const t=this.toString(),e=a.get("truncate",t,this),r=a.get("format",t,this);return e&&r.length>e?r.substring(0,e)+"\u2026":r},toFormattedHref(a){return a.get("formatHref",this.toHref(a.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(a){return a===void 0&&(a=gr.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(a),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(a){return{type:this.t,value:this.toFormattedString(a),isLink:this.isLink,href:this.toFormattedHref(a),start:this.startIndex(),end:this.endIndex()}},validate(a){return a.get("validate",this.toString(),this)},render(a){const t=this,e=this.toHref(a.get("defaultProtocol")),r=a.get("formatHref",e,this),o=a.get("tagName",e,t),c=this.toFormattedString(a),d={},p=a.get("className",e,t),m=a.get("target",e,t),b=a.get("rel",e,t),x=a.getObj("attributes",e,t),w=a.getObj("events",e,t);return d.href=r,p&&(d.class=p),m&&(d.target=m),b&&(d.rel=b),x&&Wi(d,x),{tagName:o,attributes:d,content:c,eventListeners:w}}};function Ea(a,t){class e extends uu{constructor(o,c){super(o,c),this.t=a}}for(const r in t)e.prototype[r]=t[r];return e.t=a,e}const wl=Ea("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),kl=Ea("text"),Dg=Ea("nl"),Jn=Ea("url",{isLink:!0,toHref(a){return a===void 0&&(a=gr.defaultProtocol),this.hasProtocol()?this.v:`${a}://${this.v}`},hasProtocol(){const a=this.tk;return a.length>=2&&a[0].t!==pr&&a[1].t===_n}}),At=a=>new Gt(a);function Ig(a){let{groups:t}=a;const e=t.domain.concat([Zr,Qr,Dn,ea,ta,na,ia,ra,yn,eo,aa,sa,oa,la,vn,ha,sr,ua]),r=[Jr,Ti,ni,Mi,ii,_n,no,mn,io,rr,Oi,ir,ar,ca,ro,ao],o=[Zr,Jr,Qr,ea,ta,na,ni,ia,ra,yn,Oi,aa,sa,oa,la,ca,vn,ha,sr,ua],c=At(),d=Le(c,sr);Xe(d,o,d),Xe(d,t.domain,d);const p=At(),m=At(),b=At();Xe(c,t.domain,p),Xe(c,t.scheme,m),Xe(c,t.slashscheme,b),Xe(p,o,d),Xe(p,t.domain,p);const x=Le(p,Dn);Le(d,Dn,x),Le(m,Dn,x),Le(b,Dn,x);const w=Le(d,mn);Xe(w,o,d),Xe(w,t.domain,d);const k=At();Xe(x,t.domain,k),Xe(k,t.domain,k);const A=Le(k,mn);Xe(A,t.domain,k);const T=At(wl);Xe(A,t.tld,T),Xe(A,t.utld,T),Le(x,pr,T);const P=Le(k,yn);Xe(P,t.domain,k),Xe(T,t.domain,k),Le(T,mn,A),Le(T,yn,P);const I=Le(T,_n);Xe(I,t.numeric,wl);const N=Le(p,yn),E=Le(p,mn);Xe(N,t.domain,p),Xe(E,o,d),Xe(E,t.domain,p);const F=At(Jn);Xe(E,t.tld,F),Xe(E,t.utld,F),Xe(F,t.domain,p),Xe(F,o,d),Le(F,mn,E),Le(F,yn,N),Le(F,Dn,x);const D=Le(F,_n),R=At(Jn);Xe(D,t.numeric,R);const G=At(Jn),q=At();Xe(G,e,G),Xe(G,r,q),Xe(q,e,G),Xe(q,r,q),Le(F,vn,G),Le(R,vn,G);const W=Le(m,_n),te=Le(b,_n),U=Le(te,vn),X=Le(U,vn);Xe(m,t.domain,p),Le(m,mn,E),Le(m,yn,N),Xe(b,t.domain,p),Le(b,mn,E),Le(b,yn,N),Xe(W,t.domain,G),Le(W,vn,G),Xe(X,t.domain,G),Xe(X,e,G),Le(X,vn,G);const j=Le(G,Oi),Z=Le(G,ir),ie=Le(G,rr),oe=Le(G,ar);Le(q,Oi,j),Le(q,ir,Z),Le(q,rr,ie),Le(q,ar,oe),Le(j,ni,G),Le(Z,Mi,G),Le(ie,Ti,G),Le(oe,ii,G),Le(j,ni,G);const me=At(Jn),ye=At(Jn),Ee=At(Jn),fe=At(Jn);Xe(j,e,me),Xe(Z,e,ye),Xe(ie,e,Ee),Xe(oe,e,fe);const ce=At(),K=At(),ae=At(),le=At();return Xe(j,r),Xe(Z,r),Xe(ie,r),Xe(oe,r),Xe(me,e,me),Xe(ye,e,ye),Xe(Ee,e,Ee),Xe(fe,e,fe),Xe(me,r,me),Xe(ye,r,ye),Xe(Ee,r,Ee),Xe(fe,r,fe),Xe(ce,e,ce),Xe(K,e,ye),Xe(ae,e,Ee),Xe(le,e,fe),Xe(ce,r,ce),Xe(K,r,K),Xe(ae,r,ae),Xe(le,r,le),Le(ye,Mi,G),Le(Ee,Ti,G),Le(fe,ii,G),Le(me,ni,G),Le(K,Mi,G),Le(ae,Ti,G),Le(le,ii,G),Le(ce,ii,G),Le(c,pr,F),Le(c,to,Dg),{start:c,tokens:cu}}function Rg(a,t,e){let r=e.length,o=0,c=[],d=[];for(;o<r;){let p=a,m=null,b=null,x=0,w=null,k=-1;for(;o<r&&!(m=p.go(e[o].t));)d.push(e[o++]);for(;o<r&&(b=m||p.go(e[o].t));)m=null,p=b,p.accepts()?(k=0,w=p):k>=0&&k++,o++,x++;if(k<0)o-=x,o<r&&(d.push(e[o]),o++);else{d.length>0&&(c.push(ls(kl,t,d)),d=[]),o-=k,x-=k;const A=w.t,T=e.slice(o-x,o);c.push(ls(A,t,T))}}return d.length>0&&c.push(ls(kl,t,d)),c}function ls(a,t,e){const r=e[0].s,o=e[e.length-1].e,c=t.slice(r,o);return new a(c,e)}const _g=typeof console<"u"&&console&&console.warn||(()=>{}),zg="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",pt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Fg(){Gt.groups={},pt.scanner=null,pt.parser=null,pt.tokenQueue=[],pt.pluginQueue=[],pt.customSchemes=[],pt.initialized=!1}function Sl(a,t){if(t===void 0&&(t=!1),pt.initialized&&_g(`linkifyjs: already initialized - will not register custom scheme "${a}" ${zg}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(a))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);pt.customSchemes.push([a,t])}function Bg(){pt.scanner=Pg(pt.customSchemes);for(let a=0;a<pt.tokenQueue.length;a++)pt.tokenQueue[a][1]({scanner:pt.scanner});pt.parser=Ig(pt.scanner.tokens);for(let a=0;a<pt.pluginQueue.length;a++)pt.pluginQueue[a][1]({scanner:pt.scanner,parser:pt.parser});pt.initialized=!0}function hu(a){return pt.initialized||Bg(),Rg(pt.parser.start,a,Lg(pt.scanner.start,a))}function oo(a,t,e){if(t===void 0&&(t=null),e===void 0&&(e=null),t&&typeof t=="object"){if(e)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);e=t,t=null}const r=new so(e),o=hu(a),c=[];for(let d=0;d<o.length;d++){const p=o[d];p.isLink&&(!t||p.t===t)&&c.push(p.toFormattedObject(r))}return c}function Al(a,t){t===void 0&&(t=null);const e=hu(a);return e.length===1&&e[0].isLink&&(!t||e[0].t===t)}function Hg(a){return new zt({key:new un("autolink"),appendTransaction:(t,e,r)=>{const o=t.some(x=>x.docChanged)&&!e.doc.eq(r.doc),c=t.some(x=>x.getMeta("preventAutolink"));if(!o||c)return;const{tr:d}=r,p=Dp(e.doc,[...t]),{mapping:m}=p;if(Xp(p).forEach(({oldRange:x,newRange:w})=>{Kr(x.from,x.to,e.doc).filter(P=>P.mark.type===a.type).forEach(P=>{const I=m.map(P.from),N=m.map(P.to),E=Kr(I,N,r.doc).filter(W=>W.mark.type===a.type);if(!E.length)return;const F=E[0],D=e.doc.textBetween(P.from,P.to,void 0," "),R=r.doc.textBetween(F.from,F.to,void 0," "),G=Al(D),q=Al(R);G&&!q&&d.removeMark(F.from,F.to,a.type)});const k=Rp(r.doc,w,P=>P.isTextblock);let A,T;if(k.length>1?(A=k[0],T=r.doc.textBetween(A.pos,A.pos+A.node.nodeSize,void 0," ")):k.length&&r.doc.textBetween(w.from,w.to," "," ").endsWith(" ")&&(A=k[0],T=r.doc.textBetween(A.pos,w.to,void 0," ")),A&&T){const P=T.split(" ").filter(E=>E!=="");if(P.length<=0)return!1;const I=P[P.length-1],N=A.pos+T.lastIndexOf(I);if(!I)return!1;oo(I).filter(E=>E.isLink).filter(E=>a.validate?a.validate(E.value):!0).map(E=>({...E,from:N+E.start+1,to:N+E.end+1})).forEach(E=>{d.addMark(E.from,E.to,a.type.create({href:E.href}))})}}),!!d.steps.length)return d}})}function Yg(a){return new zt({key:new un("handleClickLink"),props:{handleClick:(t,e,r)=>{var o,c,d;if(r.button!==0)return!1;const p=ru(t.state,a.type.name),m=(o=r.target)===null||o===void 0?void 0:o.closest("a"),b=(c=m==null?void 0:m.href)!==null&&c!==void 0?c:p.href,x=(d=m==null?void 0:m.target)!==null&&d!==void 0?d:p.target;return m&&b?(window.open(b,x),!0):!1}}})}function Xg(a){return new zt({key:new un("handlePasteLink"),props:{handlePaste:(t,e,r)=>{const{state:o}=t,{selection:c}=o,{empty:d}=c;if(d)return!1;let p="";r.content.forEach(b=>{p+=b.textContent});const m=oo(p).find(b=>b.isLink&&b.value===p);return!p||!m?!1:(a.editor.commands.setMark(a.type,{href:m.href}),!0)}}})}const Wg=cn.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(a=>{if(typeof a=="string"){Sl(a);return}Sl(a.scheme,a.optionalSlashes)})},onDestroy(){Fg()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:a}){return["a",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{setLink:a=>({chain:t})=>t().setMark(this.name,a).setMeta("preventAutolink",!0).run(),toggleLink:a=>({chain:t})=>t().toggleMark(this.name,a,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:a})=>a().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[gi({find:a=>oo(a).filter(t=>this.options.validate?this.options.validate(t.value):!0).filter(t=>t.isLink).map(t=>({text:t.value,index:t.start,data:t})),type:this.type,getAttributes:a=>{var t;return{href:(t=a.data)===null||t===void 0?void 0:t.href}}})]},addProseMirrorPlugins(){const a=[];return this.options.autolink&&a.push(Hg({type:this.type,validate:this.options.validate})),this.options.openOnClick&&a.push(Yg({type:this.type})),this.options.linkOnPaste&&a.push(Xg({editor:this.editor,type:this.type})),a}}),jg=cn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:a=>a.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:a}){return["u",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{setUnderline:()=>({commands:a})=>a.setMark(this.name),toggleUnderline:()=>({commands:a})=>a.toggleMark(this.name),unsetUnderline:()=>({commands:a})=>a.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),Vg=Wt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:a=>a.style.textAlign||this.options.defaultAlignment,renderHTML:a=>a.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${a.textAlign}`}}}}]},addCommands(){return{setTextAlign:a=>({commands:t})=>this.options.alignments.includes(a)?this.options.types.every(e=>t.updateAttributes(e,{textAlign:a})):!1,unsetTextAlign:()=>({commands:a})=>this.options.types.every(t=>a.resetAttributes(t,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),qg=Wt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new zt({key:new un("placeholder"),props:{decorations:({doc:a,selection:t})=>{const e=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,o=[];if(!e)return null;const c=a.type.createAndFill(),d=(c==null?void 0:c.sameMarkup(a))&&c.content.findDiffStart(a.content)===null;return a.descendants((p,m)=>{const b=r>=m&&r<=m+p.nodeSize,x=!p.isLeaf&&!p.childCount;if((b||!this.options.showOnlyCurrent)&&x){const w=[this.options.emptyNodeClass];d&&w.push(this.options.emptyEditorClass);const k=Qt.node(m,m+p.nodeSize,{class:w.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:p,pos:m,hasAnchor:b}):this.options.placeholder});o.push(k)}return this.options.includeChildren}),xt.create(a,o)}}})]}}),Gg=Mt.create({name:"video",group:"block",selectable:!0,draggable:!0,atom:!0,addAttributes(){return{src:{default:null},controls:{default:"controls"}}},parseHTML(){return[{tag:"video"}]},renderHTML({HTMLAttributes:a}){return["video",gt(a)]},addNodeView(){return({editor:a,node:t})=>{const e=document.createElement("div");e.className="aspect-w-16 aspect-h-9";const r=document.createElement("video");return r.src=t.attrs.src,r.controls=t.attrs.controls,e.append(r),{dom:e}}}}),Ug=/^\s*>\s$/,$g=Mt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:a}){return["blockquote",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{setBlockquote:()=>({commands:a})=>a.wrapIn(this.name),toggleBlockquote:()=>({commands:a})=>a.toggleWrap(this.name),unsetBlockquote:()=>({commands:a})=>a.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[fr({find:Ug,type:this.type})]}}),Kg=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,Zg=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,Jg=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,Qg=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,em=cn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:a=>a.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:a=>/^(bold(er)?|[5-9]\d{2,})$/.test(a)&&null}]},renderHTML({HTMLAttributes:a}){return["strong",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{setBold:()=>({commands:a})=>a.setMark(this.name),toggleBold:()=>({commands:a})=>a.toggleMark(this.name),unsetBold:()=>({commands:a})=>a.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Xi({find:Kg,type:this.type}),Xi({find:Jg,type:this.type})]},addPasteRules(){return[gi({find:Zg,type:this.type}),gi({find:Qg,type:this.type})]}}),tm=Mt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:a}){return["li",gt(this.options.HTMLAttributes,a),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Cl=cn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:a=>a.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:a}){return["span",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:a,commands:t})=>{const e=Ca(a,this.type);return Object.entries(e).some(([,o])=>!!o)?!0:t.unsetMark(this.name)}}}}),El=/^\s*([-+*])\s$/,nm=Mt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:a}){return["ul",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{toggleBulletList:()=>({commands:a,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(tm.name,this.editor.getAttributes(Cl.name)).run():a.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let a=fr({find:El,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(a=fr({find:El,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Cl.name),editor:this.editor})),[a]}}),im=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,rm=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,am=cn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:a}){return["code",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{setCode:()=>({commands:a})=>a.setMark(this.name),toggleCode:()=>({commands:a})=>a.toggleMark(this.name),unsetCode:()=>({commands:a})=>a.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Xi({find:im,type:this.type})]},addPasteRules(){return[gi({find:rm,type:this.type})]}}),sm=/^```([a-z]+)?[\s\n]$/,om=/^~~~([a-z]+)?[\s\n]$/,lm=Mt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:a=>{var t;const{languageClassPrefix:e}=this.options,c=[...((t=a.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(d=>d.startsWith(e)).map(d=>d.replace(e,""))[0];return c||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:a,HTMLAttributes:t}){return["pre",gt(this.options.HTMLAttributes,t),["code",{class:a.attrs.language?this.options.languageClassPrefix+a.attrs.language:null},0]]},addCommands(){return{setCodeBlock:a=>({commands:t})=>t.setNode(this.name,a),toggleCodeBlock:a=>({commands:t})=>t.toggleNode(this.name,"paragraph",a)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:a,$anchor:t}=this.editor.state.selection,e=t.pos===1;return!a||t.parent.type.name!==this.name?!1:e||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:a})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=a,{selection:e}=t,{$from:r,empty:o}=e;if(!o||r.parent.type!==this.type)return!1;const c=r.parentOffset===r.parent.nodeSize-2,d=r.parent.textContent.endsWith(`

`);return!c||!d?!1:a.chain().command(({tr:p})=>(p.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:a})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=a,{selection:e,doc:r}=t,{$from:o,empty:c}=e;if(!c||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const p=o.after();return p===void 0||r.nodeAt(p)?!1:a.commands.exitCode()}}},addInputRules(){return[Ts({find:sm,type:this.type,getAttributes:a=>({language:a[1]})}),Ts({find:om,type:this.type,getAttributes:a=>({language:a[1]})})]},addProseMirrorPlugins(){return[new zt({key:new un("codeBlockVSCodeHandler"),props:{handlePaste:(a,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const e=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,c=o==null?void 0:o.mode;if(!e||!c)return!1;const{tr:d}=a.state;return d.replaceSelectionWith(this.type.create({language:c})),d.setSelection(it.near(d.doc.resolve(Math.max(0,d.selection.from-2)))),d.insertText(e.replace(/\r\n?/g,`
`)),d.setMeta("paste",!0),a.dispatch(d),!0}}})]}}),cm=Mt.create({name:"doc",topNode:!0,content:"block+"});function um(a={}){return new zt({view(t){return new hm(t,a)}})}class hm{constructor(t,e){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=e.width)!==null&&r!==void 0?r:1,this.color=e.color===!1?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let c=d=>{this[o](d)};return t.dom.addEventListener(o,c),{name:o,handler:c}})}destroy(){this.handlers.forEach(({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e))}update(t,e){this.cursorPos!=null&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),e=!t.parent.inlineContent,r;if(e){let p=t.nodeBefore,m=t.nodeAfter;if(p||m){let b=this.editorView.nodeDOM(this.cursorPos-(p?p.nodeSize:0));if(b){let x=b.getBoundingClientRect(),w=p?x.bottom:x.top;p&&m&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:x.left,right:x.right,top:w-this.width/2,bottom:w+this.width/2}}}}if(!r){let p=this.editorView.coordsAtPos(this.cursorPos);r={left:p.left-this.width/2,right:p.left+this.width/2,top:p.top,bottom:p.bottom}}let o=this.editorView.dom.offsetParent;this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",e),this.element.classList.toggle("prosemirror-dropcursor-inline",!e);let c,d;if(!o||o==document.body&&getComputedStyle(o).position=="static")c=-pageXOffset,d=-pageYOffset;else{let p=o.getBoundingClientRect();c=p.left-o.scrollLeft,d=p.top-o.scrollTop}this.element.style.left=r.left-c+"px",this.element.style.top=r.top-d+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),o=r&&r.type.spec.disableDropCursor,c=typeof o=="function"?o(this.editorView,e,t):o;if(e&&!c){let d=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let p=rc(this.editorView.state.doc,d,this.editorView.dragging.slice);p!=null&&(d=p)}this.setCursor(d),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const dm=Wt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[um(this.options)]}});class mt extends tt{constructor(t){super(t,t)}map(t,e){let r=t.resolve(e.map(this.head));return mt.valid(r)?new mt(r):tt.near(r)}content(){return Fe.empty}eq(t){return t instanceof mt&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new mt(t.resolve(e.pos))}getBookmark(){return new lo(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!fm(t)||!pm(t))return!1;let r=e.type.spec.allowGapCursor;if(r!=null)return r;let o=e.contentMatchAt(t.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(t,e,r=!1){e:for(;;){if(!r&&mt.valid(t))return t;let o=t.pos,c=null;for(let d=t.depth;;d--){let p=t.node(d);if(e>0?t.indexAfter(d)<p.childCount:t.index(d)>0){c=p.child(e>0?t.indexAfter(d):t.index(d)-1);break}else if(d==0)return null;o+=e;let m=t.doc.resolve(o);if(mt.valid(m))return m}for(;;){let d=e>0?c.firstChild:c.lastChild;if(!d){if(c.isAtom&&!c.isText&&!Ve.isSelectable(c)){t=t.doc.resolve(o+c.nodeSize*e),r=!1;continue e}break}c=d,o+=e;let p=t.doc.resolve(o);if(mt.valid(p))return p}return null}}}mt.prototype.visible=!1;mt.findFrom=mt.findGapCursorFrom;tt.jsonID("gapcursor",mt);class lo{constructor(t){this.pos=t}map(t){return new lo(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return mt.valid(e)?new mt(e):tt.near(e)}}function fm(a){for(let t=a.depth;t>=0;t--){let e=a.index(t),r=a.node(t);if(e==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(e-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function pm(a){for(let t=a.depth;t>=0;t--){let e=a.indexAfter(t),r=a.node(t);if(e==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(e);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function gm(){return new zt({props:{decorations:xm,createSelectionBetween(a,t,e){return t.pos==e.pos&&mt.valid(e)?new mt(e):null},handleClick:ym,handleKeyDown:mm,handleDOMEvents:{beforeinput:vm}}})}const mm=jc({ArrowLeft:Tr("horiz",-1),ArrowRight:Tr("horiz",1),ArrowUp:Tr("vert",-1),ArrowDown:Tr("vert",1)});function Tr(a,t){const e=a=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,o,c){let d=r.selection,p=t>0?d.$to:d.$from,m=d.empty;if(d instanceof it){if(!c.endOfTextblock(e)||p.depth==0)return!1;m=!1,p=r.doc.resolve(t>0?p.after():p.before())}let b=mt.findGapCursorFrom(p,t,m);return b?(o&&o(r.tr.setSelection(new mt(b))),!0):!1}}function ym(a,t,e){if(!a||!a.editable)return!1;let r=a.state.doc.resolve(t);if(!mt.valid(r))return!1;let o=a.posAtCoords({left:e.clientX,top:e.clientY});return o&&o.inside>-1&&Ve.isSelectable(a.state.doc.nodeAt(o.inside))?!1:(a.dispatch(a.state.tr.setSelection(new mt(r))),!0)}function vm(a,t){if(t.inputType!="insertCompositionText"||!(a.state.selection instanceof mt))return!1;let{$from:e}=a.state.selection,r=e.parent.contentMatchAt(e.index()).findWrapping(a.state.schema.nodes.text);if(!r)return!1;let o=Pe.empty;for(let d=r.length-1;d>=0;d--)o=Pe.from(r[d].createAndFill(null,o));let c=a.state.tr.replace(e.pos,e.pos,new Fe(o,0,0));return c.setSelection(it.near(c.doc.resolve(e.pos+1))),a.dispatch(c),!1}function xm(a){if(!(a.selection instanceof mt))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",xt.create(a.doc,[Qt.widget(a.selection.head,t,{key:"gapcursor"})])}const bm=Wt.create({name:"gapCursor",addProseMirrorPlugins(){return[gm()]},extendNodeSchema(a){var t;const e={name:a.name,options:a.options,storage:a.storage};return{allowGapCursor:(t=et(Ye(a,"allowGapCursor",e)))!==null&&t!==void 0?t:null}}}),wm=Mt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:a}){return["br",gt(this.options.HTMLAttributes,a)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:a,chain:t,state:e,editor:r})=>a.first([()=>a.exitCode(),()=>a.command(()=>{const{selection:o,storedMarks:c}=e;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:d}=this.options,{splittableMarks:p}=r.extensionManager,m=c||o.$to.parentOffset&&o.$from.marks();return t().insertContent({type:this.name}).command(({tr:b,dispatch:x})=>{if(x&&m&&d){const w=m.filter(k=>p.includes(k.type.name));b.ensureMarks(w)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),km=Mt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(a=>({tag:`h${a}`,attrs:{level:a}}))},renderHTML({node:a,HTMLAttributes:t}){return[`h${this.options.levels.includes(a.attrs.level)?a.attrs.level:this.options.levels[0]}`,gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:a=>({commands:t})=>this.options.levels.includes(a.level)?t.setNode(this.name,a):!1,toggleHeading:a=>({commands:t})=>this.options.levels.includes(a.level)?t.toggleNode(this.name,"paragraph",a):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((a,t)=>({...a,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(a=>Ts({find:new RegExp(`^(#{1,${a}})\\s$`),type:this.type,getAttributes:{level:a}}))}});var da=200,Et=function(){};Et.prototype.append=function(t){return t.length?(t=Et.from(t),!this.length&&t||t.length<da&&this.leafAppend(t)||this.length<da&&t.leafPrepend(this)||this.appendInner(t)):this};Et.prototype.prepend=function(t){return t.length?Et.from(t).append(this):this};Et.prototype.appendInner=function(t){return new Sm(this,t)};Et.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?Et.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};Et.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Et.prototype.forEach=function(t,e,r){e===void 0&&(e=0),r===void 0&&(r=this.length),e<=r?this.forEachInner(t,e,r,0):this.forEachInvertedInner(t,e,r,0)};Et.prototype.map=function(t,e,r){e===void 0&&(e=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(c,d){return o.push(t(c,d))},e,r),o};Et.from=function(t){return t instanceof Et?t:t&&t.length?new du(t):Et.empty};var du=function(a){function t(r){a.call(this),this.values=r}a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(o,c){return o==0&&c==this.length?this:new t(this.values.slice(o,c))},t.prototype.getInner=function(o){return this.values[o]},t.prototype.forEachInner=function(o,c,d,p){for(var m=c;m<d;m++)if(o(this.values[m],p+m)===!1)return!1},t.prototype.forEachInvertedInner=function(o,c,d,p){for(var m=c-1;m>=d;m--)if(o(this.values[m],p+m)===!1)return!1},t.prototype.leafAppend=function(o){if(this.length+o.length<=da)return new t(this.values.concat(o.flatten()))},t.prototype.leafPrepend=function(o){if(this.length+o.length<=da)return new t(o.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(Et);Et.empty=new du([]);var Sm=function(a){function t(e,r){a.call(this),this.left=e,this.right=r,this.length=e.length+r.length,this.depth=Math.max(e.depth,r.depth)+1}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,o,c,d){var p=this.left.length;if(o<p&&this.left.forEachInner(r,o,Math.min(c,p),d)===!1||c>p&&this.right.forEachInner(r,Math.max(o-p,0),Math.min(this.length,c)-p,d+p)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,c,d){var p=this.left.length;if(o>p&&this.right.forEachInvertedInner(r,o-p,Math.max(c,p)-p,d+p)===!1||c<p&&this.left.forEachInvertedInner(r,Math.min(o,p),c,d)===!1)return!1},t.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var c=this.left.length;return o<=c?this.left.slice(r,o):r>=c?this.right.slice(r-c,o-c):this.left.slice(r,c).append(this.right.slice(0,o-c))},t.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new t(o,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(Et);const Am=500;class dn{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,c;e&&(o=this.remapping(r,this.items.length),c=o.maps.length);let d=t.tr,p,m,b=[],x=[];return this.items.forEach((w,k)=>{if(!w.step){o||(o=this.remapping(r,k+1),c=o.maps.length),c--,x.push(w);return}if(o){x.push(new xn(w.map));let A=w.step.map(o.slice(c)),T;A&&d.maybeStep(A).doc&&(T=d.mapping.maps[d.mapping.maps.length-1],b.push(new xn(T,void 0,void 0,b.length+x.length))),c--,T&&o.appendMap(T,c)}else d.maybeStep(w.step);if(w.selection)return p=o?w.selection.map(o.slice(c)):w.selection,m=new dn(this.items.slice(0,r).append(x.reverse().concat(b)),this.eventCount-1),!1},this.items.length,0),{remaining:m,transform:d,selection:p}}addTransform(t,e,r,o){let c=[],d=this.eventCount,p=this.items,m=!o&&p.length?p.get(p.length-1):null;for(let x=0;x<t.steps.length;x++){let w=t.steps[x].invert(t.docs[x]),k=new xn(t.mapping.maps[x],w,e),A;(A=m&&m.merge(k))&&(k=A,x?c.pop():p=p.slice(0,p.length-1)),c.push(k),e&&(d++,e=void 0),o||(m=k)}let b=d-r.depth;return b>Em&&(p=Cm(p,b),d-=b),new dn(p.append(c),d)}remapping(t,e){let r=new Ni;return this.items.forEach((o,c)=>{let d=o.mirrorOffset!=null&&c-o.mirrorOffset>=t?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,d)},t,e),r}addMaps(t){return this.eventCount==0?this:new dn(this.items.append(t.map(e=>new xn(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-e),c=t.mapping,d=t.steps.length,p=this.eventCount;this.items.forEach(k=>{k.selection&&p--},o);let m=e;this.items.forEach(k=>{let A=c.getMirror(--m);if(A==null)return;d=Math.min(d,A);let T=c.maps[A];if(k.step){let P=t.steps[A].invert(t.docs[A]),I=k.selection&&k.selection.map(c.slice(m+1,A));I&&p++,r.push(new xn(T,P,I))}else r.push(new xn(T))},o);let b=[];for(let k=e;k<d;k++)b.push(new xn(c.maps[k]));let x=this.items.slice(0,o).append(b).append(r),w=new dn(x,p);return w.emptyItemCount()>Am&&(w=w.compress(this.items.length-r.length)),w}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),r=e.maps.length,o=[],c=0;return this.items.forEach((d,p)=>{if(p>=t)o.push(d),d.selection&&c++;else if(d.step){let m=d.step.map(e.slice(r)),b=m&&m.getMap();if(r--,b&&e.appendMap(b,r),m){let x=d.selection&&d.selection.map(e.slice(r));x&&c++;let w=new xn(b.invert(),m,x),k,A=o.length-1;(k=o.length&&o[A].merge(w))?o[A]=k:o.push(w)}}else d.map&&r--},this.items.length,0),new dn(Et.from(o.reverse()),c)}}dn.empty=new dn(Et.empty,0);function Cm(a,t){let e;return a.forEach((r,o)=>{if(r.selection&&t--==0)return e=o,!1}),a.slice(e)}class xn{constructor(t,e,r,o){this.map=t,this.step=e,this.selection=r,this.mirrorOffset=o}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new xn(e.getMap().invert(),e,this.selection)}}}class In{constructor(t,e,r,o,c){this.done=t,this.undone=e,this.prevRanges=r,this.prevTime=o,this.prevComposition=c}}const Em=20;function Om(a,t,e,r){let o=e.getMeta(Wn),c;if(o)return o.historyState;e.getMeta(Tm)&&(a=new In(a.done,a.undone,null,0,-1));let d=e.getMeta("appendedTransaction");if(e.steps.length==0)return a;if(d&&d.getMeta(Wn))return d.getMeta(Wn).redo?new In(a.done.addTransform(e,void 0,r,Ir(t)),a.undone,Ol(e.mapping.maps[e.steps.length-1]),a.prevTime,a.prevComposition):new In(a.done,a.undone.addTransform(e,void 0,r,Ir(t)),null,a.prevTime,a.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(d&&d.getMeta("addToHistory")===!1)){let p=e.getMeta("composition"),m=a.prevTime==0||!d&&a.prevComposition!=p&&(a.prevTime<(e.time||0)-r.newGroupDelay||!Mm(e,a.prevRanges)),b=d?cs(a.prevRanges,e.mapping):Ol(e.mapping.maps[e.steps.length-1]);return new In(a.done.addTransform(e,m?t.selection.getBookmark():void 0,r,Ir(t)),dn.empty,b,e.time,p==null?a.prevComposition:p)}else return(c=e.getMeta("rebased"))?new In(a.done.rebased(e,c),a.undone.rebased(e,c),cs(a.prevRanges,e.mapping),a.prevTime,a.prevComposition):new In(a.done.addMaps(e.mapping.maps),a.undone.addMaps(e.mapping.maps),cs(a.prevRanges,e.mapping),a.prevTime,a.prevComposition)}function Mm(a,t){if(!t)return!1;if(!a.docChanged)return!0;let e=!1;return a.mapping.maps[0].forEach((r,o)=>{for(let c=0;c<t.length;c+=2)r<=t[c+1]&&o>=t[c]&&(e=!0)}),e}function Ol(a){let t=[];return a.forEach((e,r,o,c)=>t.push(o,c)),t}function cs(a,t){if(!a)return null;let e=[];for(let r=0;r<a.length;r+=2){let o=t.map(a[r],1),c=t.map(a[r+1],-1);o<=c&&e.push(o,c)}return e}function fu(a,t,e,r){let o=Ir(t),c=Wn.get(t).spec.config,d=(r?a.undone:a.done).popEvent(t,o);if(!d)return;let p=d.selection.resolve(d.transform.doc),m=(r?a.done:a.undone).addTransform(d.transform,t.selection.getBookmark(),c,o),b=new In(r?m:d.remaining,r?d.remaining:m,null,0,-1);e(d.transform.setSelection(p).setMeta(Wn,{redo:r,historyState:b}).scrollIntoView())}let us=!1,Ml=null;function Ir(a){let t=a.plugins;if(Ml!=t){us=!1,Ml=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){us=!0;break}}return us}const Wn=new un("history"),Tm=new un("closeHistory");function Pm(a={}){return a={depth:a.depth||100,newGroupDelay:a.newGroupDelay||500},new zt({key:Wn,state:{init(){return new In(dn.empty,dn.empty,null,0,-1)},apply(t,e,r){return Om(e,r,t,a)}},config:a,props:{handleDOMEvents:{beforeinput(t,e){let r=e.inputType,o=r=="historyUndo"?pu:r=="historyRedo"?gu:null;return o?(e.preventDefault(),o(t.state,t.dispatch)):!1}}}})}const pu=(a,t)=>{let e=Wn.getState(a);return!e||e.done.eventCount==0?!1:(t&&fu(e,a,t,!1),!0)},gu=(a,t)=>{let e=Wn.getState(a);return!e||e.undone.eventCount==0?!1:(t&&fu(e,a,t,!0),!0)},Lm=Wt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:a,dispatch:t})=>pu(a,t),redo:()=>({state:a,dispatch:t})=>gu(a,t)}},addProseMirrorPlugins(){return[Pm(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),Nm=Mt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:a}){return["hr",gt(this.options.HTMLAttributes,a)]},addCommands(){return{setHorizontalRule:()=>({chain:a})=>a().insertContent({type:this.name}).command(({tr:t,dispatch:e})=>{var r;if(e){const{$to:o}=t.selection,c=o.end();if(o.nodeAfter)t.setSelection(it.create(t.doc,o.pos));else{const d=(r=o.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();d&&(t.insert(c,d),t.setSelection(it.create(t.doc,c)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[au({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Dm=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,Im=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,Rm=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,_m=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,zm=cn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:a=>a.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:a}){return["em",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{setItalic:()=>({commands:a})=>a.setMark(this.name),toggleItalic:()=>({commands:a})=>a.toggleMark(this.name),unsetItalic:()=>({commands:a})=>a.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Xi({find:Dm,type:this.type}),Xi({find:Rm,type:this.type})]},addPasteRules(){return[gi({find:Im,type:this.type}),gi({find:_m,type:this.type})]}}),Fm=Mt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:a}){return["li",gt(this.options.HTMLAttributes,a),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Bm=Mt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:a}){return["li",gt(this.options.HTMLAttributes,a),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Tl=cn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:a=>a.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:a}){return["span",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:a,commands:t})=>{const e=Ca(a,this.type);return Object.entries(e).some(([,o])=>!!o)?!0:t.unsetMark(this.name)}}}}),Pl=/^(\d+)\.\s$/,Hm=Mt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:a=>a.hasAttribute("start")?parseInt(a.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:a}){const{start:t,...e}=a;return t===1?["ol",gt(this.options.HTMLAttributes,e),0]:["ol",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{toggleOrderedList:()=>({commands:a,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Bm.name,this.editor.getAttributes(Tl.name)).run():a.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let a=fr({find:Pl,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(a=fr({find:Pl,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Tl.name)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[a]}}),Ym=Mt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:a}){return["p",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{setParagraph:()=>({commands:a})=>a.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Xm=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,Wm=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,jm=cn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:a=>a.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:a}){return["s",gt(this.options.HTMLAttributes,a),0]},addCommands(){return{setStrike:()=>({commands:a})=>a.setMark(this.name),toggleStrike:()=>({commands:a})=>a.toggleMark(this.name),unsetStrike:()=>({commands:a})=>a.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Xi({find:Xm,type:this.type})]},addPasteRules(){return[gi({find:Wm,type:this.type})]}}),Vm=Mt.create({name:"text",group:"inline"}),qm=Wt.create({name:"starterKit",addExtensions(){var a,t,e,r,o,c,d,p,m,b,x,w,k,A,T,P,I,N;const E=[];return this.options.blockquote!==!1&&E.push($g.configure((a=this.options)===null||a===void 0?void 0:a.blockquote)),this.options.bold!==!1&&E.push(em.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.bulletList!==!1&&E.push(nm.configure((e=this.options)===null||e===void 0?void 0:e.bulletList)),this.options.code!==!1&&E.push(am.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&E.push(lm.configure((o=this.options)===null||o===void 0?void 0:o.codeBlock)),this.options.document!==!1&&E.push(cm.configure((c=this.options)===null||c===void 0?void 0:c.document)),this.options.dropcursor!==!1&&E.push(dm.configure((d=this.options)===null||d===void 0?void 0:d.dropcursor)),this.options.gapcursor!==!1&&E.push(bm.configure((p=this.options)===null||p===void 0?void 0:p.gapcursor)),this.options.hardBreak!==!1&&E.push(wm.configure((m=this.options)===null||m===void 0?void 0:m.hardBreak)),this.options.heading!==!1&&E.push(km.configure((b=this.options)===null||b===void 0?void 0:b.heading)),this.options.history!==!1&&E.push(Lm.configure((x=this.options)===null||x===void 0?void 0:x.history)),this.options.horizontalRule!==!1&&E.push(Nm.configure((w=this.options)===null||w===void 0?void 0:w.horizontalRule)),this.options.italic!==!1&&E.push(zm.configure((k=this.options)===null||k===void 0?void 0:k.italic)),this.options.listItem!==!1&&E.push(Fm.configure((A=this.options)===null||A===void 0?void 0:A.listItem)),this.options.orderedList!==!1&&E.push(Hm.configure((T=this.options)===null||T===void 0?void 0:T.orderedList)),this.options.paragraph!==!1&&E.push(Ym.configure((P=this.options)===null||P===void 0?void 0:P.paragraph)),this.options.strike!==!1&&E.push(jm.configure((I=this.options)===null||I===void 0?void 0:I.strike)),this.options.text!==!1&&E.push(Vm.configure((N=this.options)===null||N===void 0?void 0:N.text)),E}});document.addEventListener("alpine:init",()=>{Alpine.data("setupEditor",a=>{let t;return{editor:null,content:a,updatedAt:Date.now(),isActive(e,r={}){return t.isActive(e,r)},setParagraph(){t.chain().focus().setParagraph().run()},toggleBold(){t.chain().toggleBold().focus().run()},toggleItalic(){t.chain().focus().toggleItalic().run()},toggleStrike(){t.chain().focus().toggleStrike().run()},toggleUnderline(){t.commands.toggleUnderline()},toggleHeading(e){t.chain().toggleHeading({level:e}).focus().run()},toggleBulletList(){t.chain().focus().toggleBulletList().run()},toggleOrderedList(){t.chain().focus().toggleOrderedList().run()},setTextAlign(e){t.chain().focus().setTextAlign(e).run()},toggleLink(){const e=t.getAttributes("link").href,r=window.prompt("URL",e);if(r!==null){if(r===""){t.chain().focus().extendMarkRange("link").unsetLink().run();return}t.chain().focus().extendMarkRange("link").setLink({href:r}).run()}},toggleBlockquote(){t.chain().focus().toggleBlockquote().run()},setHorizontalRule(){t.chain().focus().setHorizontalRule().run()},insertMedia(e,r,o){e.startsWith("image")&&t.chain().focus().setImage({src:r,alt:o}).run(),e.startsWith("video")&&t.chain().focus().insertContent(`<video src="${r}"></video>`).run()},undo(){t.chain().focus().undo().run()},redo(){t.chain().focus().redo().run()},clearContent(){t.commands.clearContent()},insertContent(e){t.commands.insertContent(e)},focus(){t.commands.focus()},init(e){t=new xg({element:e,content:this.content,extensions:[qm,jg,wg,Gg,Vg.configure({types:["heading","paragraph"]}),Wg.configure({openOnClick:!1}),qg.configure({placeholder:"Write something..."})],editorProps:{attributes:{class:"focus:outline-none"}},onUpdate:({editor:r})=>{this.content=r.getHTML(),this.content==="<p></p>"&&(this.content=null)},onTransaction:()=>{this.updatedAt=Date.now()},onSelectionUpdate:({editor:r})=>{this.updatedAt=Date.now()}})}}})});window.Alpine=mi;mi.plugin(yu);mi.plugin(vu);mi.plugin(xu);mi.plugin(bu);mi.plugin(wu);mi.start();
